const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browserAll-DXCM0rQC.js","assets/webworkerAll-DJJDNBSK.js","assets/colorToUniform-BXaCBwVl.js","assets/WebGPURenderer-DjCSbzGP.js","assets/SharedSystems-C-VhCCf6.js","assets/WebGLRenderer-CEUmiEMf.js"])))=>i.map(i=>d[i]);
var Px=Object.defineProperty;var Hf=n=>{throw TypeError(n)};var Ax=(n,e,t)=>e in n?Px(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var U=(n,e,t)=>Ax(n,typeof e!="symbol"?e+"":e,t),Yf=(n,e,t)=>e.has(n)||Hf("Cannot "+t);var $=(n,e,t)=>(Yf(n,e,"read from private field"),t?t.call(n):e.get(n)),Ln=(n,e,t)=>e.has(n)?Hf("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),is=(n,e,t,r)=>(Yf(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function Om(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Nm={exports:{}},ll={},zm={exports:{}},V={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wo=Symbol.for("react.element"),Ex=Symbol.for("react.portal"),Mx=Symbol.for("react.fragment"),Rx=Symbol.for("react.strict_mode"),Ix=Symbol.for("react.profiler"),Fx=Symbol.for("react.provider"),Ox=Symbol.for("react.context"),Nx=Symbol.for("react.forward_ref"),zx=Symbol.for("react.suspense"),Dx=Symbol.for("react.memo"),Lx=Symbol.for("react.lazy"),Xf=Symbol.iterator;function Bx(n){return n===null||typeof n!="object"?null:(n=Xf&&n[Xf]||n["@@iterator"],typeof n=="function"?n:null)}var Dm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Lm=Object.assign,Bm={};function ts(n,e,t){this.props=n,this.context=e,this.refs=Bm,this.updater=t||Dm}ts.prototype.isReactComponent={};ts.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};ts.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function Um(){}Um.prototype=ts.prototype;function _h(n,e,t){this.props=n,this.context=e,this.refs=Bm,this.updater=t||Dm}var xh=_h.prototype=new Um;xh.constructor=_h;Lm(xh,ts.prototype);xh.isPureReactComponent=!0;var qf=Array.isArray,Gm=Object.prototype.hasOwnProperty,vh={current:null},jm={key:!0,ref:!0,__self:!0,__source:!0};function $m(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Gm.call(e,r)&&!jm.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:wo,type:n,key:s,ref:o,props:i,_owner:vh.current}}function Ux(n,e){return{$$typeof:wo,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function wh(n){return typeof n=="object"&&n!==null&&n.$$typeof===wo}function Gx(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var Kf=/\/+/g;function Fl(n,e){return typeof n=="object"&&n!==null&&n.key!=null?Gx(""+n.key):e.toString(36)}function aa(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case wo:case Ex:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+Fl(o,0):r,qf(i)?(t="",n!=null&&(t=n.replace(Kf,"$&/")+"/"),aa(i,e,t,"",function(u){return u})):i!=null&&(wh(i)&&(i=Ux(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Kf,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",qf(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+Fl(s,a);o+=aa(s,e,t,l,i)}else if(l=Bx(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+Fl(s,a++),o+=aa(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Eo(n,e,t){if(n==null)return n;var r=[],i=0;return aa(n,r,"","",function(s){return e.call(t,s,i++)}),r}function jx(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var rt={current:null},la={transition:null},$x={ReactCurrentDispatcher:rt,ReactCurrentBatchConfig:la,ReactCurrentOwner:vh};function Vm(){throw Error("act(...) is not supported in production builds of React.")}V.Children={map:Eo,forEach:function(n,e,t){Eo(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Eo(n,function(){e++}),e},toArray:function(n){return Eo(n,function(e){return e})||[]},only:function(n){if(!wh(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};V.Component=ts;V.Fragment=Mx;V.Profiler=Ix;V.PureComponent=_h;V.StrictMode=Rx;V.Suspense=zx;V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$x;V.act=Vm;V.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=Lm({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=vh.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)Gm.call(e,l)&&!jm.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:wo,type:n.type,key:i,ref:s,props:r,_owner:o}};V.createContext=function(n){return n={$$typeof:Ox,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:Fx,_context:n},n.Consumer=n};V.createElement=$m;V.createFactory=function(n){var e=$m.bind(null,n);return e.type=n,e};V.createRef=function(){return{current:null}};V.forwardRef=function(n){return{$$typeof:Nx,render:n}};V.isValidElement=wh;V.lazy=function(n){return{$$typeof:Lx,_payload:{_status:-1,_result:n},_init:jx}};V.memo=function(n,e){return{$$typeof:Dx,type:n,compare:e===void 0?null:e}};V.startTransition=function(n){var e=la.transition;la.transition={};try{n()}finally{la.transition=e}};V.unstable_act=Vm;V.useCallback=function(n,e){return rt.current.useCallback(n,e)};V.useContext=function(n){return rt.current.useContext(n)};V.useDebugValue=function(){};V.useDeferredValue=function(n){return rt.current.useDeferredValue(n)};V.useEffect=function(n,e){return rt.current.useEffect(n,e)};V.useId=function(){return rt.current.useId()};V.useImperativeHandle=function(n,e,t){return rt.current.useImperativeHandle(n,e,t)};V.useInsertionEffect=function(n,e){return rt.current.useInsertionEffect(n,e)};V.useLayoutEffect=function(n,e){return rt.current.useLayoutEffect(n,e)};V.useMemo=function(n,e){return rt.current.useMemo(n,e)};V.useReducer=function(n,e,t){return rt.current.useReducer(n,e,t)};V.useRef=function(n){return rt.current.useRef(n)};V.useState=function(n){return rt.current.useState(n)};V.useSyncExternalStore=function(n,e,t){return rt.current.useSyncExternalStore(n,e,t)};V.useTransition=function(){return rt.current.useTransition()};V.version="18.3.1";zm.exports=V;var Fe=zm.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vx=Fe,Wx=Symbol.for("react.element"),Hx=Symbol.for("react.fragment"),Yx=Object.prototype.hasOwnProperty,Xx=Vx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qx={key:!0,ref:!0,__self:!0,__source:!0};function Wm(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Yx.call(e,r)&&!qx.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Wx,type:n,key:s,ref:o,props:i,_owner:Xx.current}}ll.Fragment=Hx;ll.jsx=Wm;ll.jsxs=Wm;Nm.exports=ll;var b=Nm.exports,Hm={exports:{}},Mt={},Ym={exports:{}},Xm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(R,O){var D=R.length;R.push(O);e:for(;0<D;){var H=D-1>>>1,q=R[H];if(0<i(q,O))R[H]=O,R[D]=q,D=H;else break e}}function t(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var O=R[0],D=R.pop();if(D!==O){R[0]=D;e:for(var H=0,q=R.length,A=q>>>1;H<A;){var G=2*(H+1)-1,Y=R[G],be=G+1,It=R[be];if(0>i(Y,D))be<q&&0>i(It,Y)?(R[H]=It,R[be]=D,H=be):(R[H]=Y,R[G]=D,H=G);else if(be<q&&0>i(It,D))R[H]=It,R[be]=D,H=be;else break e}}return O}function i(R,O){var D=R.sortIndex-O.sortIndex;return D!==0?D:R.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,f=3,d=!1,g=!1,p=!1,_=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(R){for(var O=t(u);O!==null;){if(O.callback===null)r(u);else if(O.startTime<=R)r(u),O.sortIndex=O.expirationTime,e(l,O);else break;O=t(u)}}function v(R){if(p=!1,x(R),!g)if(t(l)!==null)g=!0,I(w);else{var O=t(u);O!==null&&N(v,O.startTime-R)}}function w(R,O){g=!1,p&&(p=!1,y(T),T=-1),d=!0;var D=f;try{for(x(O),h=t(l);h!==null&&(!(h.expirationTime>O)||R&&!E());){var H=h.callback;if(typeof H=="function"){h.callback=null,f=h.priorityLevel;var q=H(h.expirationTime<=O);O=n.unstable_now(),typeof q=="function"?h.callback=q:h===t(l)&&r(l),x(O)}else r(l);h=t(l)}if(h!==null)var A=!0;else{var G=t(u);G!==null&&N(v,G.startTime-O),A=!1}return A}finally{h=null,f=D,d=!1}}var C=!1,S=null,T=-1,k=5,P=-1;function E(){return!(n.unstable_now()-P<k)}function L(){if(S!==null){var R=n.unstable_now();P=R;var O=!0;try{O=S(!0,R)}finally{O?F():(C=!1,S=null)}}else C=!1}var F;if(typeof m=="function")F=function(){m(L)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,Z=j.port2;j.port1.onmessage=L,F=function(){Z.postMessage(null)}}else F=function(){_(L,0)};function I(R){S=R,C||(C=!0,F())}function N(R,O){T=_(function(){R(n.unstable_now())},O)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(R){R.callback=null},n.unstable_continueExecution=function(){g||d||(g=!0,I(w))},n.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<R?Math.floor(1e3/R):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(R){switch(f){case 1:case 2:case 3:var O=3;break;default:O=f}var D=f;f=O;try{return R()}finally{f=D}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(R,O){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var D=f;f=R;try{return O()}finally{f=D}},n.unstable_scheduleCallback=function(R,O,D){var H=n.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?H+D:H):D=H,R){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=D+q,R={id:c++,callback:O,priorityLevel:R,startTime:D,expirationTime:q,sortIndex:-1},D>H?(R.sortIndex=D,e(u,R),t(l)===null&&R===t(u)&&(p?(y(T),T=-1):p=!0,N(v,D-H))):(R.sortIndex=q,e(l,R),g||d||(g=!0,I(w))),R},n.unstable_shouldYield=E,n.unstable_wrapCallback=function(R){var O=f;return function(){var D=f;f=O;try{return R.apply(this,arguments)}finally{f=D}}}})(Xm);Ym.exports=Xm;var Kx=Ym.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qx=Fe,Pt=Kx;function M(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qm=new Set,$s={};function ni(n,e){Di(n,e),Di(n+"Capture",e)}function Di(n,e){for($s[n]=e,n=0;n<e.length;n++)qm.add(e[n])}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$u=Object.prototype.hasOwnProperty,Zx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Qf={},Zf={};function Jx(n){return $u.call(Zf,n)?!0:$u.call(Qf,n)?!1:Zx.test(n)?Zf[n]=!0:(Qf[n]=!0,!1)}function ev(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function tv(n,e,t,r){if(e===null||typeof e>"u"||ev(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function it(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){je[n]=new it(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];je[e]=new it(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){je[n]=new it(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){je[n]=new it(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){je[n]=new it(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){je[n]=new it(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){je[n]=new it(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){je[n]=new it(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){je[n]=new it(n,5,!1,n.toLowerCase(),null,!1,!1)});var Sh=/[\-:]([a-z])/g;function Ch(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(Sh,Ch);je[e]=new it(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(Sh,Ch);je[e]=new it(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(Sh,Ch);je[e]=new it(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){je[n]=new it(n,1,!1,n.toLowerCase(),null,!1,!1)});je.xlinkHref=new it("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){je[n]=new it(n,1,!1,n.toLowerCase(),null,!0,!0)});function Th(n,e,t,r){var i=je.hasOwnProperty(e)?je[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(tv(e,t,i,r)&&(t=null),r||i===null?Jx(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Dn=Qx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Mo=Symbol.for("react.element"),pi=Symbol.for("react.portal"),mi=Symbol.for("react.fragment"),kh=Symbol.for("react.strict_mode"),Vu=Symbol.for("react.profiler"),Km=Symbol.for("react.provider"),Qm=Symbol.for("react.context"),bh=Symbol.for("react.forward_ref"),Wu=Symbol.for("react.suspense"),Hu=Symbol.for("react.suspense_list"),Ph=Symbol.for("react.memo"),Un=Symbol.for("react.lazy"),Zm=Symbol.for("react.offscreen"),Jf=Symbol.iterator;function ss(n){return n===null||typeof n!="object"?null:(n=Jf&&n[Jf]||n["@@iterator"],typeof n=="function"?n:null)}var ye=Object.assign,Ol;function _s(n){if(Ol===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Ol=e&&e[1]||""}return`
`+Ol+n}var Nl=!1;function zl(n,e){if(!n||Nl)return"";Nl=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){r=u}n.call(e.prototype)}else{try{throw Error()}catch(u){r=u}n()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{Nl=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?_s(n):""}function nv(n){switch(n.tag){case 5:return _s(n.type);case 16:return _s("Lazy");case 13:return _s("Suspense");case 19:return _s("SuspenseList");case 0:case 2:case 15:return n=zl(n.type,!1),n;case 11:return n=zl(n.type.render,!1),n;case 1:return n=zl(n.type,!0),n;default:return""}}function Yu(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case mi:return"Fragment";case pi:return"Portal";case Vu:return"Profiler";case kh:return"StrictMode";case Wu:return"Suspense";case Hu:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Qm:return(n.displayName||"Context")+".Consumer";case Km:return(n._context.displayName||"Context")+".Provider";case bh:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Ph:return e=n.displayName||null,e!==null?e:Yu(n.type)||"Memo";case Un:e=n._payload,n=n._init;try{return Yu(n(e))}catch{}}return null}function rv(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yu(e);case 8:return e===kh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ar(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Jm(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function iv(n){var e=Jm(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Ro(n){n._valueTracker||(n._valueTracker=iv(n))}function eg(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=Jm(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function Ta(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Xu(n,e){var t=e.checked;return ye({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function ed(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=ar(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function tg(n,e){e=e.checked,e!=null&&Th(n,"checked",e,!1)}function qu(n,e){tg(n,e);var t=ar(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Ku(n,e.type,t):e.hasOwnProperty("defaultValue")&&Ku(n,e.type,ar(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function td(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Ku(n,e,t){(e!=="number"||Ta(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var xs=Array.isArray;function Ai(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+ar(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function Qu(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(M(91));return ye({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function nd(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(M(92));if(xs(t)){if(1<t.length)throw Error(M(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:ar(t)}}function ng(n,e){var t=ar(e.value),r=ar(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function rd(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function rg(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zu(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?rg(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Io,ig=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Io=Io||document.createElement("div"),Io.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Io.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Vs(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var As={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sv=["Webkit","ms","Moz","O"];Object.keys(As).forEach(function(n){sv.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),As[e]=As[n]})});function sg(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||As.hasOwnProperty(n)&&As[n]?(""+e).trim():e+"px"}function og(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=sg(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var ov=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ju(n,e){if(e){if(ov[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(M(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(M(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(M(61))}if(e.style!=null&&typeof e.style!="object")throw Error(M(62))}}function ec(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tc=null;function Ah(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var nc=null,Ei=null,Mi=null;function id(n){if(n=To(n)){if(typeof nc!="function")throw Error(M(280));var e=n.stateNode;e&&(e=dl(e),nc(n.stateNode,n.type,e))}}function ag(n){Ei?Mi?Mi.push(n):Mi=[n]:Ei=n}function lg(){if(Ei){var n=Ei,e=Mi;if(Mi=Ei=null,id(n),e)for(n=0;n<e.length;n++)id(e[n])}}function ug(n,e){return n(e)}function cg(){}var Dl=!1;function hg(n,e,t){if(Dl)return n(e,t);Dl=!0;try{return ug(n,e,t)}finally{Dl=!1,(Ei!==null||Mi!==null)&&(cg(),lg())}}function Ws(n,e){var t=n.stateNode;if(t===null)return null;var r=dl(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(M(231,e,typeof t));return t}var rc=!1;if(Mn)try{var os={};Object.defineProperty(os,"passive",{get:function(){rc=!0}}),window.addEventListener("test",os,os),window.removeEventListener("test",os,os)}catch{rc=!1}function av(n,e,t,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(c){this.onError(c)}}var Es=!1,ka=null,ba=!1,ic=null,lv={onError:function(n){Es=!0,ka=n}};function uv(n,e,t,r,i,s,o,a,l){Es=!1,ka=null,av.apply(lv,arguments)}function cv(n,e,t,r,i,s,o,a,l){if(uv.apply(this,arguments),Es){if(Es){var u=ka;Es=!1,ka=null}else throw Error(M(198));ba||(ba=!0,ic=u)}}function ri(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function fg(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function sd(n){if(ri(n)!==n)throw Error(M(188))}function hv(n){var e=n.alternate;if(!e){if(e=ri(n),e===null)throw Error(M(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return sd(i),n;if(s===r)return sd(i),e;s=s.sibling}throw Error(M(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(M(189))}}if(t.alternate!==r)throw Error(M(190))}if(t.tag!==3)throw Error(M(188));return t.stateNode.current===t?n:e}function dg(n){return n=hv(n),n!==null?pg(n):null}function pg(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=pg(n);if(e!==null)return e;n=n.sibling}return null}var mg=Pt.unstable_scheduleCallback,od=Pt.unstable_cancelCallback,fv=Pt.unstable_shouldYield,dv=Pt.unstable_requestPaint,Ce=Pt.unstable_now,pv=Pt.unstable_getCurrentPriorityLevel,Eh=Pt.unstable_ImmediatePriority,gg=Pt.unstable_UserBlockingPriority,Pa=Pt.unstable_NormalPriority,mv=Pt.unstable_LowPriority,yg=Pt.unstable_IdlePriority,ul=null,fn=null;function gv(n){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(ul,n,void 0,(n.current.flags&128)===128)}catch{}}var Zt=Math.clz32?Math.clz32:xv,yv=Math.log,_v=Math.LN2;function xv(n){return n>>>=0,n===0?32:31-(yv(n)/_v|0)|0}var Fo=64,Oo=4194304;function vs(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Aa(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=vs(a):(s&=o,s!==0&&(r=vs(s)))}else o=t&~i,o!==0?r=vs(o):s!==0&&(r=vs(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Zt(e),i=1<<t,r|=n[t],e&=~i;return r}function vv(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wv(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Zt(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=vv(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function sc(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function _g(){var n=Fo;return Fo<<=1,!(Fo&4194240)&&(Fo=64),n}function Ll(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function So(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Zt(e),n[e]=t}function Sv(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-Zt(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function Mh(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Zt(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var te=0;function xg(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var vg,Rh,wg,Sg,Cg,oc=!1,No=[],Qn=null,Zn=null,Jn=null,Hs=new Map,Ys=new Map,jn=[],Cv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ad(n,e){switch(n){case"focusin":case"focusout":Qn=null;break;case"dragenter":case"dragleave":Zn=null;break;case"mouseover":case"mouseout":Jn=null;break;case"pointerover":case"pointerout":Hs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ys.delete(e.pointerId)}}function as(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=To(e),e!==null&&Rh(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function Tv(n,e,t,r,i){switch(e){case"focusin":return Qn=as(Qn,n,e,t,r,i),!0;case"dragenter":return Zn=as(Zn,n,e,t,r,i),!0;case"mouseover":return Jn=as(Jn,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return Hs.set(s,as(Hs.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ys.set(s,as(Ys.get(s)||null,n,e,t,r,i)),!0}return!1}function Tg(n){var e=Ir(n.target);if(e!==null){var t=ri(e);if(t!==null){if(e=t.tag,e===13){if(e=fg(t),e!==null){n.blockedOn=e,Cg(n.priority,function(){wg(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ua(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=ac(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);tc=r,t.target.dispatchEvent(r),tc=null}else return e=To(t),e!==null&&Rh(e),n.blockedOn=t,!1;e.shift()}return!0}function ld(n,e,t){ua(n)&&t.delete(e)}function kv(){oc=!1,Qn!==null&&ua(Qn)&&(Qn=null),Zn!==null&&ua(Zn)&&(Zn=null),Jn!==null&&ua(Jn)&&(Jn=null),Hs.forEach(ld),Ys.forEach(ld)}function ls(n,e){n.blockedOn===e&&(n.blockedOn=null,oc||(oc=!0,Pt.unstable_scheduleCallback(Pt.unstable_NormalPriority,kv)))}function Xs(n){function e(i){return ls(i,n)}if(0<No.length){ls(No[0],n);for(var t=1;t<No.length;t++){var r=No[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Qn!==null&&ls(Qn,n),Zn!==null&&ls(Zn,n),Jn!==null&&ls(Jn,n),Hs.forEach(e),Ys.forEach(e),t=0;t<jn.length;t++)r=jn[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<jn.length&&(t=jn[0],t.blockedOn===null);)Tg(t),t.blockedOn===null&&jn.shift()}var Ri=Dn.ReactCurrentBatchConfig,Ea=!0;function bv(n,e,t,r){var i=te,s=Ri.transition;Ri.transition=null;try{te=1,Ih(n,e,t,r)}finally{te=i,Ri.transition=s}}function Pv(n,e,t,r){var i=te,s=Ri.transition;Ri.transition=null;try{te=4,Ih(n,e,t,r)}finally{te=i,Ri.transition=s}}function Ih(n,e,t,r){if(Ea){var i=ac(n,e,t,r);if(i===null)Xl(n,e,r,Ma,t),ad(n,r);else if(Tv(i,n,e,t,r))r.stopPropagation();else if(ad(n,r),e&4&&-1<Cv.indexOf(n)){for(;i!==null;){var s=To(i);if(s!==null&&vg(s),s=ac(n,e,t,r),s===null&&Xl(n,e,r,Ma,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else Xl(n,e,r,null,t)}}var Ma=null;function ac(n,e,t,r){if(Ma=null,n=Ah(r),n=Ir(n),n!==null)if(e=ri(n),e===null)n=null;else if(t=e.tag,t===13){if(n=fg(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Ma=n,null}function kg(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pv()){case Eh:return 1;case gg:return 4;case Pa:case mv:return 16;case yg:return 536870912;default:return 16}default:return 16}}var Wn=null,Fh=null,ca=null;function bg(){if(ca)return ca;var n,e=Fh,t=e.length,r,i="value"in Wn?Wn.value:Wn.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return ca=i.slice(n,1<r?1-r:void 0)}function ha(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function zo(){return!0}function ud(){return!1}function Rt(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?zo:ud,this.isPropagationStopped=ud,this}return ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=zo)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=zo)},persist:function(){},isPersistent:zo}),e}var ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oh=Rt(ns),Co=ye({},ns,{view:0,detail:0}),Av=Rt(Co),Bl,Ul,us,cl=ye({},Co,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nh,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==us&&(us&&n.type==="mousemove"?(Bl=n.screenX-us.screenX,Ul=n.screenY-us.screenY):Ul=Bl=0,us=n),Bl)},movementY:function(n){return"movementY"in n?n.movementY:Ul}}),cd=Rt(cl),Ev=ye({},cl,{dataTransfer:0}),Mv=Rt(Ev),Rv=ye({},Co,{relatedTarget:0}),Gl=Rt(Rv),Iv=ye({},ns,{animationName:0,elapsedTime:0,pseudoElement:0}),Fv=Rt(Iv),Ov=ye({},ns,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Nv=Rt(Ov),zv=ye({},ns,{data:0}),hd=Rt(zv),Dv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uv(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=Bv[n])?!!e[n]:!1}function Nh(){return Uv}var Gv=ye({},Co,{key:function(n){if(n.key){var e=Dv[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=ha(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Lv[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nh,charCode:function(n){return n.type==="keypress"?ha(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ha(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),jv=Rt(Gv),$v=ye({},cl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fd=Rt($v),Vv=ye({},Co,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nh}),Wv=Rt(Vv),Hv=ye({},ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yv=Rt(Hv),Xv=ye({},cl,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),qv=Rt(Xv),Kv=[9,13,27,32],zh=Mn&&"CompositionEvent"in window,Ms=null;Mn&&"documentMode"in document&&(Ms=document.documentMode);var Qv=Mn&&"TextEvent"in window&&!Ms,Pg=Mn&&(!zh||Ms&&8<Ms&&11>=Ms),dd=" ",pd=!1;function Ag(n,e){switch(n){case"keyup":return Kv.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Eg(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var gi=!1;function Zv(n,e){switch(n){case"compositionend":return Eg(e);case"keypress":return e.which!==32?null:(pd=!0,dd);case"textInput":return n=e.data,n===dd&&pd?null:n;default:return null}}function Jv(n,e){if(gi)return n==="compositionend"||!zh&&Ag(n,e)?(n=bg(),ca=Fh=Wn=null,gi=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Pg&&e.locale!=="ko"?null:e.data;default:return null}}var e1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function md(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!e1[n.type]:e==="textarea"}function Mg(n,e,t,r){ag(r),e=Ra(e,"onChange"),0<e.length&&(t=new Oh("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var Rs=null,qs=null;function t1(n){Gg(n,0)}function hl(n){var e=xi(n);if(eg(e))return n}function n1(n,e){if(n==="change")return e}var Rg=!1;if(Mn){var jl;if(Mn){var $l="oninput"in document;if(!$l){var gd=document.createElement("div");gd.setAttribute("oninput","return;"),$l=typeof gd.oninput=="function"}jl=$l}else jl=!1;Rg=jl&&(!document.documentMode||9<document.documentMode)}function yd(){Rs&&(Rs.detachEvent("onpropertychange",Ig),qs=Rs=null)}function Ig(n){if(n.propertyName==="value"&&hl(qs)){var e=[];Mg(e,qs,n,Ah(n)),hg(t1,e)}}function r1(n,e,t){n==="focusin"?(yd(),Rs=e,qs=t,Rs.attachEvent("onpropertychange",Ig)):n==="focusout"&&yd()}function i1(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return hl(qs)}function s1(n,e){if(n==="click")return hl(e)}function o1(n,e){if(n==="input"||n==="change")return hl(e)}function a1(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var en=typeof Object.is=="function"?Object.is:a1;function Ks(n,e){if(en(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!$u.call(e,i)||!en(n[i],e[i]))return!1}return!0}function _d(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function xd(n,e){var t=_d(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=_d(t)}}function Fg(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?Fg(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function Og(){for(var n=window,e=Ta();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Ta(n.document)}return e}function Dh(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function l1(n){var e=Og(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&Fg(t.ownerDocument.documentElement,t)){if(r!==null&&Dh(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=xd(t,s);var o=xd(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var u1=Mn&&"documentMode"in document&&11>=document.documentMode,yi=null,lc=null,Is=null,uc=!1;function vd(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;uc||yi==null||yi!==Ta(r)||(r=yi,"selectionStart"in r&&Dh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Is&&Ks(Is,r)||(Is=r,r=Ra(lc,"onSelect"),0<r.length&&(e=new Oh("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=yi)))}function Do(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var _i={animationend:Do("Animation","AnimationEnd"),animationiteration:Do("Animation","AnimationIteration"),animationstart:Do("Animation","AnimationStart"),transitionend:Do("Transition","TransitionEnd")},Vl={},Ng={};Mn&&(Ng=document.createElement("div").style,"AnimationEvent"in window||(delete _i.animationend.animation,delete _i.animationiteration.animation,delete _i.animationstart.animation),"TransitionEvent"in window||delete _i.transitionend.transition);function fl(n){if(Vl[n])return Vl[n];if(!_i[n])return n;var e=_i[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in Ng)return Vl[n]=e[t];return n}var zg=fl("animationend"),Dg=fl("animationiteration"),Lg=fl("animationstart"),Bg=fl("transitionend"),Ug=new Map,wd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hr(n,e){Ug.set(n,e),ni(e,[n])}for(var Wl=0;Wl<wd.length;Wl++){var Hl=wd[Wl],c1=Hl.toLowerCase(),h1=Hl[0].toUpperCase()+Hl.slice(1);hr(c1,"on"+h1)}hr(zg,"onAnimationEnd");hr(Dg,"onAnimationIteration");hr(Lg,"onAnimationStart");hr("dblclick","onDoubleClick");hr("focusin","onFocus");hr("focusout","onBlur");hr(Bg,"onTransitionEnd");Di("onMouseEnter",["mouseout","mouseover"]);Di("onMouseLeave",["mouseout","mouseover"]);Di("onPointerEnter",["pointerout","pointerover"]);Di("onPointerLeave",["pointerout","pointerover"]);ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ni("onBeforeInput",["compositionend","keypress","textInput","paste"]);ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ws="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f1=new Set("cancel close invalid load scroll toggle".split(" ").concat(ws));function Sd(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,cv(r,e,void 0,n),n.currentTarget=null}function Gg(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Sd(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Sd(i,a,u),s=l}}}if(ba)throw n=ic,ba=!1,ic=null,n}function ae(n,e){var t=e[pc];t===void 0&&(t=e[pc]=new Set);var r=n+"__bubble";t.has(r)||(jg(e,n,2,!1),t.add(r))}function Yl(n,e,t){var r=0;e&&(r|=4),jg(t,n,r,e)}var Lo="_reactListening"+Math.random().toString(36).slice(2);function Qs(n){if(!n[Lo]){n[Lo]=!0,qm.forEach(function(t){t!=="selectionchange"&&(f1.has(t)||Yl(t,!1,n),Yl(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Lo]||(e[Lo]=!0,Yl("selectionchange",!1,e))}}function jg(n,e,t,r){switch(kg(e)){case 1:var i=bv;break;case 4:i=Pv;break;default:i=Ih}t=i.bind(null,e,t,n),i=void 0,!rc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function Xl(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ir(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}hg(function(){var u=s,c=Ah(t),h=[];e:{var f=Ug.get(n);if(f!==void 0){var d=Oh,g=n;switch(n){case"keypress":if(ha(t)===0)break e;case"keydown":case"keyup":d=jv;break;case"focusin":g="focus",d=Gl;break;case"focusout":g="blur",d=Gl;break;case"beforeblur":case"afterblur":d=Gl;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=cd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=Mv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=Wv;break;case zg:case Dg:case Lg:d=Fv;break;case Bg:d=Yv;break;case"scroll":d=Av;break;case"wheel":d=qv;break;case"copy":case"cut":case"paste":d=Nv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=fd}var p=(e&4)!==0,_=!p&&n==="scroll",y=p?f!==null?f+"Capture":null:f;p=[];for(var m=u,x;m!==null;){x=m;var v=x.stateNode;if(x.tag===5&&v!==null&&(x=v,y!==null&&(v=Ws(m,y),v!=null&&p.push(Zs(m,v,x)))),_)break;m=m.return}0<p.length&&(f=new d(f,g,null,t,c),h.push({event:f,listeners:p}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",d=n==="mouseout"||n==="pointerout",f&&t!==tc&&(g=t.relatedTarget||t.fromElement)&&(Ir(g)||g[Rn]))break e;if((d||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,d?(g=t.relatedTarget||t.toElement,d=u,g=g?Ir(g):null,g!==null&&(_=ri(g),g!==_||g.tag!==5&&g.tag!==6)&&(g=null)):(d=null,g=u),d!==g)){if(p=cd,v="onMouseLeave",y="onMouseEnter",m="mouse",(n==="pointerout"||n==="pointerover")&&(p=fd,v="onPointerLeave",y="onPointerEnter",m="pointer"),_=d==null?f:xi(d),x=g==null?f:xi(g),f=new p(v,m+"leave",d,t,c),f.target=_,f.relatedTarget=x,v=null,Ir(c)===u&&(p=new p(y,m+"enter",g,t,c),p.target=x,p.relatedTarget=_,v=p),_=v,d&&g)t:{for(p=d,y=g,m=0,x=p;x;x=si(x))m++;for(x=0,v=y;v;v=si(v))x++;for(;0<m-x;)p=si(p),m--;for(;0<x-m;)y=si(y),x--;for(;m--;){if(p===y||y!==null&&p===y.alternate)break t;p=si(p),y=si(y)}p=null}else p=null;d!==null&&Cd(h,f,d,p,!1),g!==null&&_!==null&&Cd(h,_,g,p,!0)}}e:{if(f=u?xi(u):window,d=f.nodeName&&f.nodeName.toLowerCase(),d==="select"||d==="input"&&f.type==="file")var w=n1;else if(md(f))if(Rg)w=o1;else{w=i1;var C=r1}else(d=f.nodeName)&&d.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(w=s1);if(w&&(w=w(n,u))){Mg(h,w,t,c);break e}C&&C(n,f,u),n==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&Ku(f,"number",f.value)}switch(C=u?xi(u):window,n){case"focusin":(md(C)||C.contentEditable==="true")&&(yi=C,lc=u,Is=null);break;case"focusout":Is=lc=yi=null;break;case"mousedown":uc=!0;break;case"contextmenu":case"mouseup":case"dragend":uc=!1,vd(h,t,c);break;case"selectionchange":if(u1)break;case"keydown":case"keyup":vd(h,t,c)}var S;if(zh)e:{switch(n){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else gi?Ag(n,t)&&(T="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(T="onCompositionStart");T&&(Pg&&t.locale!=="ko"&&(gi||T!=="onCompositionStart"?T==="onCompositionEnd"&&gi&&(S=bg()):(Wn=c,Fh="value"in Wn?Wn.value:Wn.textContent,gi=!0)),C=Ra(u,T),0<C.length&&(T=new hd(T,n,null,t,c),h.push({event:T,listeners:C}),S?T.data=S:(S=Eg(t),S!==null&&(T.data=S)))),(S=Qv?Zv(n,t):Jv(n,t))&&(u=Ra(u,"onBeforeInput"),0<u.length&&(c=new hd("onBeforeInput","beforeinput",null,t,c),h.push({event:c,listeners:u}),c.data=S))}Gg(h,e)})}function Zs(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Ra(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ws(n,t),s!=null&&r.unshift(Zs(n,s,i)),s=Ws(n,e),s!=null&&r.push(Zs(n,s,i))),n=n.return}return r}function si(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Cd(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Ws(t,s),l!=null&&o.unshift(Zs(t,l,a))):i||(l=Ws(t,s),l!=null&&o.push(Zs(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var d1=/\r\n?/g,p1=/\u0000|\uFFFD/g;function Td(n){return(typeof n=="string"?n:""+n).replace(d1,`
`).replace(p1,"")}function Bo(n,e,t){if(e=Td(e),Td(n)!==e&&t)throw Error(M(425))}function Ia(){}var cc=null,hc=null;function fc(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var dc=typeof setTimeout=="function"?setTimeout:void 0,m1=typeof clearTimeout=="function"?clearTimeout:void 0,kd=typeof Promise=="function"?Promise:void 0,g1=typeof queueMicrotask=="function"?queueMicrotask:typeof kd<"u"?function(n){return kd.resolve(null).then(n).catch(y1)}:dc;function y1(n){setTimeout(function(){throw n})}function ql(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),Xs(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);Xs(e)}function er(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function bd(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var rs=Math.random().toString(36).slice(2),un="__reactFiber$"+rs,Js="__reactProps$"+rs,Rn="__reactContainer$"+rs,pc="__reactEvents$"+rs,_1="__reactListeners$"+rs,x1="__reactHandles$"+rs;function Ir(n){var e=n[un];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Rn]||t[un]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=bd(n);n!==null;){if(t=n[un])return t;n=bd(n)}return e}n=t,t=n.parentNode}return null}function To(n){return n=n[un]||n[Rn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function xi(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(M(33))}function dl(n){return n[Js]||null}var mc=[],vi=-1;function fr(n){return{current:n}}function le(n){0>vi||(n.current=mc[vi],mc[vi]=null,vi--)}function oe(n,e){vi++,mc[vi]=n.current,n.current=e}var lr={},Qe=fr(lr),lt=fr(!1),Hr=lr;function Li(n,e){var t=n.type.contextTypes;if(!t)return lr;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function ut(n){return n=n.childContextTypes,n!=null}function Fa(){le(lt),le(Qe)}function Pd(n,e,t){if(Qe.current!==lr)throw Error(M(168));oe(Qe,e),oe(lt,t)}function $g(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(M(108,rv(n)||"Unknown",i));return ye({},t,r)}function Oa(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||lr,Hr=Qe.current,oe(Qe,n),oe(lt,lt.current),!0}function Ad(n,e,t){var r=n.stateNode;if(!r)throw Error(M(169));t?(n=$g(n,e,Hr),r.__reactInternalMemoizedMergedChildContext=n,le(lt),le(Qe),oe(Qe,n)):le(lt),oe(lt,t)}var wn=null,pl=!1,Kl=!1;function Vg(n){wn===null?wn=[n]:wn.push(n)}function v1(n){pl=!0,Vg(n)}function dr(){if(!Kl&&wn!==null){Kl=!0;var n=0,e=te;try{var t=wn;for(te=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}wn=null,pl=!1}catch(i){throw wn!==null&&(wn=wn.slice(n+1)),mg(Eh,dr),i}finally{te=e,Kl=!1}}return null}var wi=[],Si=0,Na=null,za=0,Ot=[],Nt=0,Yr=null,kn=1,bn="";function Cr(n,e){wi[Si++]=za,wi[Si++]=Na,Na=n,za=e}function Wg(n,e,t){Ot[Nt++]=kn,Ot[Nt++]=bn,Ot[Nt++]=Yr,Yr=n;var r=kn;n=bn;var i=32-Zt(r)-1;r&=~(1<<i),t+=1;var s=32-Zt(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,kn=1<<32-Zt(e)+i|t<<i|r,bn=s+n}else kn=1<<s|t<<i|r,bn=n}function Lh(n){n.return!==null&&(Cr(n,1),Wg(n,1,0))}function Bh(n){for(;n===Na;)Na=wi[--Si],wi[Si]=null,za=wi[--Si],wi[Si]=null;for(;n===Yr;)Yr=Ot[--Nt],Ot[Nt]=null,bn=Ot[--Nt],Ot[Nt]=null,kn=Ot[--Nt],Ot[Nt]=null}var Tt=null,St=null,ue=!1,Kt=null;function Hg(n,e){var t=zt(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function Ed(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Tt=n,St=er(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Tt=n,St=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Yr!==null?{id:kn,overflow:bn}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=zt(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Tt=n,St=null,!0):!1;default:return!1}}function gc(n){return(n.mode&1)!==0&&(n.flags&128)===0}function yc(n){if(ue){var e=St;if(e){var t=e;if(!Ed(n,e)){if(gc(n))throw Error(M(418));e=er(t.nextSibling);var r=Tt;e&&Ed(n,e)?Hg(r,t):(n.flags=n.flags&-4097|2,ue=!1,Tt=n)}}else{if(gc(n))throw Error(M(418));n.flags=n.flags&-4097|2,ue=!1,Tt=n}}}function Md(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Tt=n}function Uo(n){if(n!==Tt)return!1;if(!ue)return Md(n),ue=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!fc(n.type,n.memoizedProps)),e&&(e=St)){if(gc(n))throw Yg(),Error(M(418));for(;e;)Hg(n,e),e=er(e.nextSibling)}if(Md(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(M(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){St=er(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}St=null}}else St=Tt?er(n.stateNode.nextSibling):null;return!0}function Yg(){for(var n=St;n;)n=er(n.nextSibling)}function Bi(){St=Tt=null,ue=!1}function Uh(n){Kt===null?Kt=[n]:Kt.push(n)}var w1=Dn.ReactCurrentBatchConfig;function cs(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(M(309));var r=t.stateNode}if(!r)throw Error(M(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(M(284));if(!t._owner)throw Error(M(290,n))}return n}function Go(n,e){throw n=Object.prototype.toString.call(e),Error(M(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function Rd(n){var e=n._init;return e(n._payload)}function Xg(n){function e(y,m){if(n){var x=y.deletions;x===null?(y.deletions=[m],y.flags|=16):x.push(m)}}function t(y,m){if(!n)return null;for(;m!==null;)e(y,m),m=m.sibling;return null}function r(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function i(y,m){return y=ir(y,m),y.index=0,y.sibling=null,y}function s(y,m,x){return y.index=x,n?(x=y.alternate,x!==null?(x=x.index,x<m?(y.flags|=2,m):x):(y.flags|=2,m)):(y.flags|=1048576,m)}function o(y){return n&&y.alternate===null&&(y.flags|=2),y}function a(y,m,x,v){return m===null||m.tag!==6?(m=ru(x,y.mode,v),m.return=y,m):(m=i(m,x),m.return=y,m)}function l(y,m,x,v){var w=x.type;return w===mi?c(y,m,x.props.children,v,x.key):m!==null&&(m.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Un&&Rd(w)===m.type)?(v=i(m,x.props),v.ref=cs(y,m,x),v.return=y,v):(v=_a(x.type,x.key,x.props,null,y.mode,v),v.ref=cs(y,m,x),v.return=y,v)}function u(y,m,x,v){return m===null||m.tag!==4||m.stateNode.containerInfo!==x.containerInfo||m.stateNode.implementation!==x.implementation?(m=iu(x,y.mode,v),m.return=y,m):(m=i(m,x.children||[]),m.return=y,m)}function c(y,m,x,v,w){return m===null||m.tag!==7?(m=Gr(x,y.mode,v,w),m.return=y,m):(m=i(m,x),m.return=y,m)}function h(y,m,x){if(typeof m=="string"&&m!==""||typeof m=="number")return m=ru(""+m,y.mode,x),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Mo:return x=_a(m.type,m.key,m.props,null,y.mode,x),x.ref=cs(y,null,m),x.return=y,x;case pi:return m=iu(m,y.mode,x),m.return=y,m;case Un:var v=m._init;return h(y,v(m._payload),x)}if(xs(m)||ss(m))return m=Gr(m,y.mode,x,null),m.return=y,m;Go(y,m)}return null}function f(y,m,x,v){var w=m!==null?m.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return w!==null?null:a(y,m,""+x,v);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Mo:return x.key===w?l(y,m,x,v):null;case pi:return x.key===w?u(y,m,x,v):null;case Un:return w=x._init,f(y,m,w(x._payload),v)}if(xs(x)||ss(x))return w!==null?null:c(y,m,x,v,null);Go(y,x)}return null}function d(y,m,x,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return y=y.get(x)||null,a(m,y,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Mo:return y=y.get(v.key===null?x:v.key)||null,l(m,y,v,w);case pi:return y=y.get(v.key===null?x:v.key)||null,u(m,y,v,w);case Un:var C=v._init;return d(y,m,x,C(v._payload),w)}if(xs(v)||ss(v))return y=y.get(x)||null,c(m,y,v,w,null);Go(m,v)}return null}function g(y,m,x,v){for(var w=null,C=null,S=m,T=m=0,k=null;S!==null&&T<x.length;T++){S.index>T?(k=S,S=null):k=S.sibling;var P=f(y,S,x[T],v);if(P===null){S===null&&(S=k);break}n&&S&&P.alternate===null&&e(y,S),m=s(P,m,T),C===null?w=P:C.sibling=P,C=P,S=k}if(T===x.length)return t(y,S),ue&&Cr(y,T),w;if(S===null){for(;T<x.length;T++)S=h(y,x[T],v),S!==null&&(m=s(S,m,T),C===null?w=S:C.sibling=S,C=S);return ue&&Cr(y,T),w}for(S=r(y,S);T<x.length;T++)k=d(S,y,T,x[T],v),k!==null&&(n&&k.alternate!==null&&S.delete(k.key===null?T:k.key),m=s(k,m,T),C===null?w=k:C.sibling=k,C=k);return n&&S.forEach(function(E){return e(y,E)}),ue&&Cr(y,T),w}function p(y,m,x,v){var w=ss(x);if(typeof w!="function")throw Error(M(150));if(x=w.call(x),x==null)throw Error(M(151));for(var C=w=null,S=m,T=m=0,k=null,P=x.next();S!==null&&!P.done;T++,P=x.next()){S.index>T?(k=S,S=null):k=S.sibling;var E=f(y,S,P.value,v);if(E===null){S===null&&(S=k);break}n&&S&&E.alternate===null&&e(y,S),m=s(E,m,T),C===null?w=E:C.sibling=E,C=E,S=k}if(P.done)return t(y,S),ue&&Cr(y,T),w;if(S===null){for(;!P.done;T++,P=x.next())P=h(y,P.value,v),P!==null&&(m=s(P,m,T),C===null?w=P:C.sibling=P,C=P);return ue&&Cr(y,T),w}for(S=r(y,S);!P.done;T++,P=x.next())P=d(S,y,T,P.value,v),P!==null&&(n&&P.alternate!==null&&S.delete(P.key===null?T:P.key),m=s(P,m,T),C===null?w=P:C.sibling=P,C=P);return n&&S.forEach(function(L){return e(y,L)}),ue&&Cr(y,T),w}function _(y,m,x,v){if(typeof x=="object"&&x!==null&&x.type===mi&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Mo:e:{for(var w=x.key,C=m;C!==null;){if(C.key===w){if(w=x.type,w===mi){if(C.tag===7){t(y,C.sibling),m=i(C,x.props.children),m.return=y,y=m;break e}}else if(C.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Un&&Rd(w)===C.type){t(y,C.sibling),m=i(C,x.props),m.ref=cs(y,C,x),m.return=y,y=m;break e}t(y,C);break}else e(y,C);C=C.sibling}x.type===mi?(m=Gr(x.props.children,y.mode,v,x.key),m.return=y,y=m):(v=_a(x.type,x.key,x.props,null,y.mode,v),v.ref=cs(y,m,x),v.return=y,y=v)}return o(y);case pi:e:{for(C=x.key;m!==null;){if(m.key===C)if(m.tag===4&&m.stateNode.containerInfo===x.containerInfo&&m.stateNode.implementation===x.implementation){t(y,m.sibling),m=i(m,x.children||[]),m.return=y,y=m;break e}else{t(y,m);break}else e(y,m);m=m.sibling}m=iu(x,y.mode,v),m.return=y,y=m}return o(y);case Un:return C=x._init,_(y,m,C(x._payload),v)}if(xs(x))return g(y,m,x,v);if(ss(x))return p(y,m,x,v);Go(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,m!==null&&m.tag===6?(t(y,m.sibling),m=i(m,x),m.return=y,y=m):(t(y,m),m=ru(x,y.mode,v),m.return=y,y=m),o(y)):t(y,m)}return _}var Ui=Xg(!0),qg=Xg(!1),Da=fr(null),La=null,Ci=null,Gh=null;function jh(){Gh=Ci=La=null}function $h(n){var e=Da.current;le(Da),n._currentValue=e}function _c(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function Ii(n,e){La=n,Gh=Ci=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(at=!0),n.firstContext=null)}function jt(n){var e=n._currentValue;if(Gh!==n)if(n={context:n,memoizedValue:e,next:null},Ci===null){if(La===null)throw Error(M(308));Ci=n,La.dependencies={lanes:0,firstContext:n}}else Ci=Ci.next=n;return e}var Fr=null;function Vh(n){Fr===null?Fr=[n]:Fr.push(n)}function Kg(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,Vh(e)):(t.next=i.next,i.next=t),e.interleaved=t,In(n,r)}function In(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Gn=!1;function Wh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qg(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Pn(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function tr(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Q&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,In(n,t)}return i=r.interleaved,i===null?(e.next=e,Vh(r)):(e.next=i.next,i.next=e),r.interleaved=e,In(n,t)}function fa(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,Mh(n,t)}}function Id(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Ba(n,e,t,r){var i=n.updateQueue;Gn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=n.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,d=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=n,p=a;switch(f=e,d=t,p.tag){case 1:if(g=p.payload,typeof g=="function"){h=g.call(d,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,f=typeof g=="function"?g.call(d,h,f):g,f==null)break e;h=ye({},h,f);break e;case 2:Gn=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else d={eventTime:d,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=d,l=h):c=c.next=d,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);qr|=o,n.lanes=o,n.memoizedState=h}}function Fd(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(M(191,i));i.call(r)}}}var ko={},dn=fr(ko),eo=fr(ko),to=fr(ko);function Or(n){if(n===ko)throw Error(M(174));return n}function Hh(n,e){switch(oe(to,e),oe(eo,n),oe(dn,ko),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Zu(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Zu(e,n)}le(dn),oe(dn,e)}function Gi(){le(dn),le(eo),le(to)}function Zg(n){Or(to.current);var e=Or(dn.current),t=Zu(e,n.type);e!==t&&(oe(eo,n),oe(dn,t))}function Yh(n){eo.current===n&&(le(dn),le(eo))}var he=fr(0);function Ua(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ql=[];function Xh(){for(var n=0;n<Ql.length;n++)Ql[n]._workInProgressVersionPrimary=null;Ql.length=0}var da=Dn.ReactCurrentDispatcher,Zl=Dn.ReactCurrentBatchConfig,Xr=0,me=null,Re=null,Oe=null,Ga=!1,Fs=!1,no=0,S1=0;function $e(){throw Error(M(321))}function qh(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!en(n[t],e[t]))return!1;return!0}function Kh(n,e,t,r,i,s){if(Xr=s,me=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,da.current=n===null||n.memoizedState===null?b1:P1,n=t(r,i),Fs){s=0;do{if(Fs=!1,no=0,25<=s)throw Error(M(301));s+=1,Oe=Re=null,e.updateQueue=null,da.current=A1,n=t(r,i)}while(Fs)}if(da.current=ja,e=Re!==null&&Re.next!==null,Xr=0,Oe=Re=me=null,Ga=!1,e)throw Error(M(300));return n}function Qh(){var n=no!==0;return no=0,n}function an(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?me.memoizedState=Oe=n:Oe=Oe.next=n,Oe}function $t(){if(Re===null){var n=me.alternate;n=n!==null?n.memoizedState:null}else n=Re.next;var e=Oe===null?me.memoizedState:Oe.next;if(e!==null)Oe=e,Re=n;else{if(n===null)throw Error(M(310));Re=n,n={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},Oe===null?me.memoizedState=Oe=n:Oe=Oe.next=n}return Oe}function ro(n,e){return typeof e=="function"?e(n):e}function Jl(n){var e=$t(),t=e.queue;if(t===null)throw Error(M(311));t.lastRenderedReducer=n;var r=Re,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Xr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:n(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,me.lanes|=c,qr|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,en(r,e.memoizedState)||(at=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,me.lanes|=s,qr|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function eu(n){var e=$t(),t=e.queue;if(t===null)throw Error(M(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);en(s,e.memoizedState)||(at=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function Jg(){}function e0(n,e){var t=me,r=$t(),i=e(),s=!en(r.memoizedState,i);if(s&&(r.memoizedState=i,at=!0),r=r.queue,Zh(r0.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||Oe!==null&&Oe.memoizedState.tag&1){if(t.flags|=2048,io(9,n0.bind(null,t,r,i,e),void 0,null),ze===null)throw Error(M(349));Xr&30||t0(t,e,i)}return i}function t0(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=me.updateQueue,e===null?(e={lastEffect:null,stores:null},me.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function n0(n,e,t,r){e.value=t,e.getSnapshot=r,i0(e)&&s0(n)}function r0(n,e,t){return t(function(){i0(e)&&s0(n)})}function i0(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!en(n,t)}catch{return!0}}function s0(n){var e=In(n,1);e!==null&&Jt(e,n,1,-1)}function Od(n){var e=an();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ro,lastRenderedState:n},e.queue=n,n=n.dispatch=k1.bind(null,me,n),[e.memoizedState,n]}function io(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=me.updateQueue,e===null?(e={lastEffect:null,stores:null},me.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function o0(){return $t().memoizedState}function pa(n,e,t,r){var i=an();me.flags|=n,i.memoizedState=io(1|e,t,void 0,r===void 0?null:r)}function ml(n,e,t,r){var i=$t();r=r===void 0?null:r;var s=void 0;if(Re!==null){var o=Re.memoizedState;if(s=o.destroy,r!==null&&qh(r,o.deps)){i.memoizedState=io(e,t,s,r);return}}me.flags|=n,i.memoizedState=io(1|e,t,s,r)}function Nd(n,e){return pa(8390656,8,n,e)}function Zh(n,e){return ml(2048,8,n,e)}function a0(n,e){return ml(4,2,n,e)}function l0(n,e){return ml(4,4,n,e)}function u0(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function c0(n,e,t){return t=t!=null?t.concat([n]):null,ml(4,4,u0.bind(null,e,n),t)}function Jh(){}function h0(n,e){var t=$t();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&qh(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function f0(n,e){var t=$t();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&qh(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function d0(n,e,t){return Xr&21?(en(t,e)||(t=_g(),me.lanes|=t,qr|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,at=!0),n.memoizedState=t)}function C1(n,e){var t=te;te=t!==0&&4>t?t:4,n(!0);var r=Zl.transition;Zl.transition={};try{n(!1),e()}finally{te=t,Zl.transition=r}}function p0(){return $t().memoizedState}function T1(n,e,t){var r=rr(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},m0(n))g0(e,t);else if(t=Kg(n,e,t,r),t!==null){var i=nt();Jt(t,n,r,i),y0(t,e,r)}}function k1(n,e,t){var r=rr(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(m0(n))g0(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,en(a,o)){var l=e.interleaved;l===null?(i.next=i,Vh(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=Kg(n,e,i,r),t!==null&&(i=nt(),Jt(t,n,r,i),y0(t,e,r))}}function m0(n){var e=n.alternate;return n===me||e!==null&&e===me}function g0(n,e){Fs=Ga=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function y0(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,Mh(n,t)}}var ja={readContext:jt,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useInsertionEffect:$e,useLayoutEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useMutableSource:$e,useSyncExternalStore:$e,useId:$e,unstable_isNewReconciler:!1},b1={readContext:jt,useCallback:function(n,e){return an().memoizedState=[n,e===void 0?null:e],n},useContext:jt,useEffect:Nd,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,pa(4194308,4,u0.bind(null,e,n),t)},useLayoutEffect:function(n,e){return pa(4194308,4,n,e)},useInsertionEffect:function(n,e){return pa(4,2,n,e)},useMemo:function(n,e){var t=an();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=an();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=T1.bind(null,me,n),[r.memoizedState,n]},useRef:function(n){var e=an();return n={current:n},e.memoizedState=n},useState:Od,useDebugValue:Jh,useDeferredValue:function(n){return an().memoizedState=n},useTransition:function(){var n=Od(!1),e=n[0];return n=C1.bind(null,n[1]),an().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=me,i=an();if(ue){if(t===void 0)throw Error(M(407));t=t()}else{if(t=e(),ze===null)throw Error(M(349));Xr&30||t0(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,Nd(r0.bind(null,r,s,n),[n]),r.flags|=2048,io(9,n0.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=an(),e=ze.identifierPrefix;if(ue){var t=bn,r=kn;t=(r&~(1<<32-Zt(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=no++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=S1++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},P1={readContext:jt,useCallback:h0,useContext:jt,useEffect:Zh,useImperativeHandle:c0,useInsertionEffect:a0,useLayoutEffect:l0,useMemo:f0,useReducer:Jl,useRef:o0,useState:function(){return Jl(ro)},useDebugValue:Jh,useDeferredValue:function(n){var e=$t();return d0(e,Re.memoizedState,n)},useTransition:function(){var n=Jl(ro)[0],e=$t().memoizedState;return[n,e]},useMutableSource:Jg,useSyncExternalStore:e0,useId:p0,unstable_isNewReconciler:!1},A1={readContext:jt,useCallback:h0,useContext:jt,useEffect:Zh,useImperativeHandle:c0,useInsertionEffect:a0,useLayoutEffect:l0,useMemo:f0,useReducer:eu,useRef:o0,useState:function(){return eu(ro)},useDebugValue:Jh,useDeferredValue:function(n){var e=$t();return Re===null?e.memoizedState=n:d0(e,Re.memoizedState,n)},useTransition:function(){var n=eu(ro)[0],e=$t().memoizedState;return[n,e]},useMutableSource:Jg,useSyncExternalStore:e0,useId:p0,unstable_isNewReconciler:!1};function Xt(n,e){if(n&&n.defaultProps){e=ye({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function xc(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:ye({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var gl={isMounted:function(n){return(n=n._reactInternals)?ri(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=nt(),i=rr(n),s=Pn(r,i);s.payload=e,t!=null&&(s.callback=t),e=tr(n,s,i),e!==null&&(Jt(e,n,i,r),fa(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=nt(),i=rr(n),s=Pn(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=tr(n,s,i),e!==null&&(Jt(e,n,i,r),fa(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=nt(),r=rr(n),i=Pn(t,r);i.tag=2,e!=null&&(i.callback=e),e=tr(n,i,r),e!==null&&(Jt(e,n,r,t),fa(e,n,r))}};function zd(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ks(t,r)||!Ks(i,s):!0}function _0(n,e,t){var r=!1,i=lr,s=e.contextType;return typeof s=="object"&&s!==null?s=jt(s):(i=ut(e)?Hr:Qe.current,r=e.contextTypes,s=(r=r!=null)?Li(n,i):lr),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=gl,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function Dd(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&gl.enqueueReplaceState(e,e.state,null)}function vc(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},Wh(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=jt(s):(s=ut(e)?Hr:Qe.current,i.context=Li(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(xc(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&gl.enqueueReplaceState(i,i.state,null),Ba(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function ji(n,e){try{var t="",r=e;do t+=nv(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function tu(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function wc(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var E1=typeof WeakMap=="function"?WeakMap:Map;function x0(n,e,t){t=Pn(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){Va||(Va=!0,Rc=r),wc(n,e)},t}function v0(n,e,t){t=Pn(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){wc(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){wc(n,e),typeof r!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function Ld(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new E1;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=$1.bind(null,n,e,t),e.then(n,n))}function Bd(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function Ud(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Pn(-1,1),e.tag=2,tr(t,e,1))),t.lanes|=1),n)}var M1=Dn.ReactCurrentOwner,at=!1;function Je(n,e,t,r){e.child=n===null?qg(e,null,t,r):Ui(e,n.child,t,r)}function Gd(n,e,t,r,i){t=t.render;var s=e.ref;return Ii(e,i),r=Kh(n,e,t,r,s,i),t=Qh(),n!==null&&!at?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Fn(n,e,i)):(ue&&t&&Lh(e),e.flags|=1,Je(n,e,r,i),e.child)}function jd(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!lf(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,w0(n,e,s,r,i)):(n=_a(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Ks,t(o,r)&&n.ref===e.ref)return Fn(n,e,i)}return e.flags|=1,n=ir(s,r),n.ref=e.ref,n.return=e,e.child=n}function w0(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(Ks(s,r)&&n.ref===e.ref)if(at=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(at=!0);else return e.lanes=n.lanes,Fn(n,e,i)}return Sc(n,e,t,r,i)}function S0(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},oe(ki,xt),xt|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,oe(ki,xt),xt|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,oe(ki,xt),xt|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,oe(ki,xt),xt|=r;return Je(n,e,i,t),e.child}function C0(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function Sc(n,e,t,r,i){var s=ut(t)?Hr:Qe.current;return s=Li(e,s),Ii(e,i),t=Kh(n,e,t,r,s,i),r=Qh(),n!==null&&!at?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Fn(n,e,i)):(ue&&r&&Lh(e),e.flags|=1,Je(n,e,t,i),e.child)}function $d(n,e,t,r,i){if(ut(t)){var s=!0;Oa(e)}else s=!1;if(Ii(e,i),e.stateNode===null)ma(n,e),_0(e,t,r),vc(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=t.contextType;typeof u=="object"&&u!==null?u=jt(u):(u=ut(t)?Hr:Qe.current,u=Li(e,u));var c=t.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Dd(e,o,r,u),Gn=!1;var f=e.memoizedState;o.state=f,Ba(e,r,o,i),l=e.memoizedState,a!==r||f!==l||lt.current||Gn?(typeof c=="function"&&(xc(e,t,c,r),l=e.memoizedState),(a=Gn||zd(e,t,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Qg(n,e),a=e.memoizedProps,u=e.type===e.elementType?a:Xt(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=jt(l):(l=ut(t)?Hr:Qe.current,l=Li(e,l));var d=t.getDerivedStateFromProps;(c=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Dd(e,o,r,l),Gn=!1,f=e.memoizedState,o.state=f,Ba(e,r,o,i);var g=e.memoizedState;a!==h||f!==g||lt.current||Gn?(typeof d=="function"&&(xc(e,t,d,r),g=e.memoizedState),(u=Gn||zd(e,t,u,r,f,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),r=!1)}return Cc(n,e,t,r,s,i)}function Cc(n,e,t,r,i,s){C0(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Ad(e,t,!1),Fn(n,e,s);r=e.stateNode,M1.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=Ui(e,n.child,null,s),e.child=Ui(e,null,a,s)):Je(n,e,a,s),e.memoizedState=r.state,i&&Ad(e,t,!0),e.child}function T0(n){var e=n.stateNode;e.pendingContext?Pd(n,e.pendingContext,e.pendingContext!==e.context):e.context&&Pd(n,e.context,!1),Hh(n,e.containerInfo)}function Vd(n,e,t,r,i){return Bi(),Uh(i),e.flags|=256,Je(n,e,t,r),e.child}var Tc={dehydrated:null,treeContext:null,retryLane:0};function kc(n){return{baseLanes:n,cachePool:null,transitions:null}}function k0(n,e,t){var r=e.pendingProps,i=he.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),oe(he,i&1),n===null)return yc(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=xl(o,r,0,null),n=Gr(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=kc(t),e.memoizedState=Tc,n):ef(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return R1(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ir(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ir(a,s):(s=Gr(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?kc(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=Tc,r}return s=n.child,n=s.sibling,r=ir(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function ef(n,e){return e=xl({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function jo(n,e,t,r){return r!==null&&Uh(r),Ui(e,n.child,null,t),n=ef(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function R1(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=tu(Error(M(422))),jo(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=xl({mode:"visible",children:r.children},i,0,null),s=Gr(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ui(e,n.child,null,o),e.child.memoizedState=kc(o),e.memoizedState=Tc,s);if(!(e.mode&1))return jo(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(M(419)),r=tu(s,r,void 0),jo(n,e,o,r)}if(a=(o&n.childLanes)!==0,at||a){if(r=ze,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,In(n,i),Jt(r,n,i,-1))}return af(),r=tu(Error(M(421))),jo(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=V1.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,St=er(i.nextSibling),Tt=e,ue=!0,Kt=null,n!==null&&(Ot[Nt++]=kn,Ot[Nt++]=bn,Ot[Nt++]=Yr,kn=n.id,bn=n.overflow,Yr=e),e=ef(e,r.children),e.flags|=4096,e)}function Wd(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),_c(n.return,e,t)}function nu(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function b0(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Je(n,e,r.children,t),r=he.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Wd(n,t,e);else if(n.tag===19)Wd(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(oe(he,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&Ua(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),nu(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&Ua(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}nu(e,!0,t,null,s);break;case"together":nu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ma(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Fn(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),qr|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(M(153));if(e.child!==null){for(n=e.child,t=ir(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=ir(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function I1(n,e,t){switch(e.tag){case 3:T0(e),Bi();break;case 5:Zg(e);break;case 1:ut(e.type)&&Oa(e);break;case 4:Hh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;oe(Da,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(oe(he,he.current&1),e.flags|=128,null):t&e.child.childLanes?k0(n,e,t):(oe(he,he.current&1),n=Fn(n,e,t),n!==null?n.sibling:null);oe(he,he.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return b0(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),oe(he,he.current),r)break;return null;case 22:case 23:return e.lanes=0,S0(n,e,t)}return Fn(n,e,t)}var P0,bc,A0,E0;P0=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};bc=function(){};A0=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,Or(dn.current);var s=null;switch(t){case"input":i=Xu(n,i),r=Xu(n,r),s=[];break;case"select":i=ye({},i,{value:void 0}),r=ye({},r,{value:void 0}),s=[];break;case"textarea":i=Qu(n,i),r=Qu(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Ia)}Ju(t,r);var o;t=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&($s.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&($s.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ae("scroll",n),s||a===l||(s=[])):(s=s||[]).push(u,l))}t&&(s=s||[]).push("style",t);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};E0=function(n,e,t,r){t!==r&&(e.flags|=4)};function hs(n,e){if(!ue)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Ve(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function F1(n,e,t){var r=e.pendingProps;switch(Bh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(e),null;case 1:return ut(e.type)&&Fa(),Ve(e),null;case 3:return r=e.stateNode,Gi(),le(lt),le(Qe),Xh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Uo(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Kt!==null&&(Oc(Kt),Kt=null))),bc(n,e),Ve(e),null;case 5:Yh(e);var i=Or(to.current);if(t=e.type,n!==null&&e.stateNode!=null)A0(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(M(166));return Ve(e),null}if(n=Or(dn.current),Uo(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[un]=e,r[Js]=s,n=(e.mode&1)!==0,t){case"dialog":ae("cancel",r),ae("close",r);break;case"iframe":case"object":case"embed":ae("load",r);break;case"video":case"audio":for(i=0;i<ws.length;i++)ae(ws[i],r);break;case"source":ae("error",r);break;case"img":case"image":case"link":ae("error",r),ae("load",r);break;case"details":ae("toggle",r);break;case"input":ed(r,s),ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ae("invalid",r);break;case"textarea":nd(r,s),ae("invalid",r)}Ju(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Bo(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Bo(r.textContent,a,n),i=["children",""+a]):$s.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ae("scroll",r)}switch(t){case"input":Ro(r),td(r,s,!0);break;case"textarea":Ro(r),rd(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ia)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=rg(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[un]=e,n[Js]=r,P0(n,e,!1,!1),e.stateNode=n;e:{switch(o=ec(t,r),t){case"dialog":ae("cancel",n),ae("close",n),i=r;break;case"iframe":case"object":case"embed":ae("load",n),i=r;break;case"video":case"audio":for(i=0;i<ws.length;i++)ae(ws[i],n);i=r;break;case"source":ae("error",n),i=r;break;case"img":case"image":case"link":ae("error",n),ae("load",n),i=r;break;case"details":ae("toggle",n),i=r;break;case"input":ed(n,r),i=Xu(n,r),ae("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=ye({},r,{value:void 0}),ae("invalid",n);break;case"textarea":nd(n,r),i=Qu(n,r),ae("invalid",n);break;default:i=r}Ju(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?og(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ig(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Vs(n,l):typeof l=="number"&&Vs(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&($s.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ae("scroll",n):l!=null&&Th(n,s,l,o))}switch(t){case"input":Ro(n),td(n,r,!1);break;case"textarea":Ro(n),rd(n);break;case"option":r.value!=null&&n.setAttribute("value",""+ar(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?Ai(n,!!r.multiple,s,!1):r.defaultValue!=null&&Ai(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=Ia)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ve(e),null;case 6:if(n&&e.stateNode!=null)E0(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(M(166));if(t=Or(to.current),Or(dn.current),Uo(e)){if(r=e.stateNode,t=e.memoizedProps,r[un]=e,(s=r.nodeValue!==t)&&(n=Tt,n!==null))switch(n.tag){case 3:Bo(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Bo(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[un]=e,e.stateNode=r}return Ve(e),null;case 13:if(le(he),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(ue&&St!==null&&e.mode&1&&!(e.flags&128))Yg(),Bi(),e.flags|=98560,s=!1;else if(s=Uo(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(M(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(M(317));s[un]=e}else Bi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ve(e),s=!1}else Kt!==null&&(Oc(Kt),Kt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||he.current&1?Ie===0&&(Ie=3):af())),e.updateQueue!==null&&(e.flags|=4),Ve(e),null);case 4:return Gi(),bc(n,e),n===null&&Qs(e.stateNode.containerInfo),Ve(e),null;case 10:return $h(e.type._context),Ve(e),null;case 17:return ut(e.type)&&Fa(),Ve(e),null;case 19:if(le(he),s=e.memoizedState,s===null)return Ve(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)hs(s,!1);else{if(Ie!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Ua(n),o!==null){for(e.flags|=128,hs(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return oe(he,he.current&1|2),e.child}n=n.sibling}s.tail!==null&&Ce()>$i&&(e.flags|=128,r=!0,hs(s,!1),e.lanes=4194304)}else{if(!r)if(n=Ua(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),hs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ue)return Ve(e),null}else 2*Ce()-s.renderingStartTime>$i&&t!==1073741824&&(e.flags|=128,r=!0,hs(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ce(),e.sibling=null,t=he.current,oe(he,r?t&1|2:t&1),e):(Ve(e),null);case 22:case 23:return of(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?xt&1073741824&&(Ve(e),e.subtreeFlags&6&&(e.flags|=8192)):Ve(e),null;case 24:return null;case 25:return null}throw Error(M(156,e.tag))}function O1(n,e){switch(Bh(e),e.tag){case 1:return ut(e.type)&&Fa(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Gi(),le(lt),le(Qe),Xh(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return Yh(e),null;case 13:if(le(he),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(M(340));Bi()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return le(he),null;case 4:return Gi(),null;case 10:return $h(e.type._context),null;case 22:case 23:return of(),null;case 24:return null;default:return null}}var $o=!1,We=!1,N1=typeof WeakSet=="function"?WeakSet:Set,z=null;function Ti(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){xe(n,e,r)}else t.current=null}function Pc(n,e,t){try{t()}catch(r){xe(n,e,r)}}var Hd=!1;function z1(n,e){if(cc=Ea,n=Og(),Dh(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=n,f=null;t:for(;;){for(var d;h!==t||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(d=h.firstChild)!==null;)f=h,h=d;for(;;){if(h===n)break t;if(f===t&&++u===i&&(a=o),f===s&&++c===r&&(l=o),(d=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=d}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(hc={focusedElem:n,selectionRange:t},Ea=!1,z=e;z!==null;)if(e=z,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,z=n;else for(;z!==null;){e=z;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,_=g.memoizedState,y=e.stateNode,m=y.getSnapshotBeforeUpdate(e.elementType===e.type?p:Xt(e.type,p),_);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(v){xe(e,e.return,v)}if(n=e.sibling,n!==null){n.return=e.return,z=n;break}z=e.return}return g=Hd,Hd=!1,g}function Os(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&Pc(e,t,s)}i=i.next}while(i!==r)}}function yl(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function Ac(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function M0(n){var e=n.alternate;e!==null&&(n.alternate=null,M0(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[un],delete e[Js],delete e[pc],delete e[_1],delete e[x1])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function R0(n){return n.tag===5||n.tag===3||n.tag===4}function Yd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||R0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ec(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Ia));else if(r!==4&&(n=n.child,n!==null))for(Ec(n,e,t),n=n.sibling;n!==null;)Ec(n,e,t),n=n.sibling}function Mc(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(Mc(n,e,t),n=n.sibling;n!==null;)Mc(n,e,t),n=n.sibling}var Le=null,qt=!1;function Bn(n,e,t){for(t=t.child;t!==null;)I0(n,e,t),t=t.sibling}function I0(n,e,t){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(ul,t)}catch{}switch(t.tag){case 5:We||Ti(t,e);case 6:var r=Le,i=qt;Le=null,Bn(n,e,t),Le=r,qt=i,Le!==null&&(qt?(n=Le,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Le.removeChild(t.stateNode));break;case 18:Le!==null&&(qt?(n=Le,t=t.stateNode,n.nodeType===8?ql(n.parentNode,t):n.nodeType===1&&ql(n,t),Xs(n)):ql(Le,t.stateNode));break;case 4:r=Le,i=qt,Le=t.stateNode.containerInfo,qt=!0,Bn(n,e,t),Le=r,qt=i;break;case 0:case 11:case 14:case 15:if(!We&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Pc(t,e,o),i=i.next}while(i!==r)}Bn(n,e,t);break;case 1:if(!We&&(Ti(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){xe(t,e,a)}Bn(n,e,t);break;case 21:Bn(n,e,t);break;case 22:t.mode&1?(We=(r=We)||t.memoizedState!==null,Bn(n,e,t),We=r):Bn(n,e,t);break;default:Bn(n,e,t)}}function Xd(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new N1),e.forEach(function(r){var i=W1.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function Ht(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Le=a.stateNode,qt=!1;break e;case 3:Le=a.stateNode.containerInfo,qt=!0;break e;case 4:Le=a.stateNode.containerInfo,qt=!0;break e}a=a.return}if(Le===null)throw Error(M(160));I0(s,o,i),Le=null,qt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){xe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)F0(e,n),e=e.sibling}function F0(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Ht(e,n),rn(n),r&4){try{Os(3,n,n.return),yl(3,n)}catch(p){xe(n,n.return,p)}try{Os(5,n,n.return)}catch(p){xe(n,n.return,p)}}break;case 1:Ht(e,n),rn(n),r&512&&t!==null&&Ti(t,t.return);break;case 5:if(Ht(e,n),rn(n),r&512&&t!==null&&Ti(t,t.return),n.flags&32){var i=n.stateNode;try{Vs(i,"")}catch(p){xe(n,n.return,p)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&tg(i,s),ec(a,o);var u=ec(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?og(i,h):c==="dangerouslySetInnerHTML"?ig(i,h):c==="children"?Vs(i,h):Th(i,c,h,u)}switch(a){case"input":qu(i,s);break;case"textarea":ng(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var d=s.value;d!=null?Ai(i,!!s.multiple,d,!1):f!==!!s.multiple&&(s.defaultValue!=null?Ai(i,!!s.multiple,s.defaultValue,!0):Ai(i,!!s.multiple,s.multiple?[]:"",!1))}i[Js]=s}catch(p){xe(n,n.return,p)}}break;case 6:if(Ht(e,n),rn(n),r&4){if(n.stateNode===null)throw Error(M(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(p){xe(n,n.return,p)}}break;case 3:if(Ht(e,n),rn(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{Xs(e.containerInfo)}catch(p){xe(n,n.return,p)}break;case 4:Ht(e,n),rn(n);break;case 13:Ht(e,n),rn(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(rf=Ce())),r&4&&Xd(n);break;case 22:if(c=t!==null&&t.memoizedState!==null,n.mode&1?(We=(u=We)||c,Ht(e,n),We=u):Ht(e,n),rn(n),r&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!c&&n.mode&1)for(z=n,c=n.child;c!==null;){for(h=z=c;z!==null;){switch(f=z,d=f.child,f.tag){case 0:case 11:case 14:case 15:Os(4,f,f.return);break;case 1:Ti(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,t=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(p){xe(r,t,p)}}break;case 5:Ti(f,f.return);break;case 22:if(f.memoizedState!==null){Kd(h);continue}}d!==null?(d.return=f,z=d):Kd(h)}c=c.sibling}e:for(c=null,h=n;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=sg("display",o))}catch(p){xe(n,n.return,p)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(p){xe(n,n.return,p)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ht(e,n),rn(n),r&4&&Xd(n);break;case 21:break;default:Ht(e,n),rn(n)}}function rn(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(R0(t)){var r=t;break e}t=t.return}throw Error(M(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Vs(i,""),r.flags&=-33);var s=Yd(n);Mc(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Yd(n);Ec(n,a,o);break;default:throw Error(M(161))}}catch(l){xe(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function D1(n,e,t){z=n,O0(n)}function O0(n,e,t){for(var r=(n.mode&1)!==0;z!==null;){var i=z,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||$o;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||We;a=$o;var u=We;if($o=o,(We=l)&&!u)for(z=i;z!==null;)o=z,l=o.child,o.tag===22&&o.memoizedState!==null?Qd(i):l!==null?(l.return=o,z=l):Qd(i);for(;s!==null;)z=s,O0(s),s=s.sibling;z=i,$o=a,We=u}qd(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,z=s):qd(n)}}function qd(n){for(;z!==null;){var e=z;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:We||yl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!We)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:Xt(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Fd(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}Fd(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Xs(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}We||e.flags&512&&Ac(e)}catch(f){xe(e,e.return,f)}}if(e===n){z=null;break}if(t=e.sibling,t!==null){t.return=e.return,z=t;break}z=e.return}}function Kd(n){for(;z!==null;){var e=z;if(e===n){z=null;break}var t=e.sibling;if(t!==null){t.return=e.return,z=t;break}z=e.return}}function Qd(n){for(;z!==null;){var e=z;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{yl(4,e)}catch(l){xe(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){xe(e,i,l)}}var s=e.return;try{Ac(e)}catch(l){xe(e,s,l)}break;case 5:var o=e.return;try{Ac(e)}catch(l){xe(e,o,l)}}}catch(l){xe(e,e.return,l)}if(e===n){z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,z=a;break}z=e.return}}var L1=Math.ceil,$a=Dn.ReactCurrentDispatcher,tf=Dn.ReactCurrentOwner,Gt=Dn.ReactCurrentBatchConfig,Q=0,ze=null,Ee=null,Ue=0,xt=0,ki=fr(0),Ie=0,so=null,qr=0,_l=0,nf=0,Ns=null,st=null,rf=0,$i=1/0,xn=null,Va=!1,Rc=null,nr=null,Vo=!1,Hn=null,Wa=0,zs=0,Ic=null,ga=-1,ya=0;function nt(){return Q&6?Ce():ga!==-1?ga:ga=Ce()}function rr(n){return n.mode&1?Q&2&&Ue!==0?Ue&-Ue:w1.transition!==null?(ya===0&&(ya=_g()),ya):(n=te,n!==0||(n=window.event,n=n===void 0?16:kg(n.type)),n):1}function Jt(n,e,t,r){if(50<zs)throw zs=0,Ic=null,Error(M(185));So(n,t,r),(!(Q&2)||n!==ze)&&(n===ze&&(!(Q&2)&&(_l|=t),Ie===4&&$n(n,Ue)),ct(n,r),t===1&&Q===0&&!(e.mode&1)&&($i=Ce()+500,pl&&dr()))}function ct(n,e){var t=n.callbackNode;wv(n,e);var r=Aa(n,n===ze?Ue:0);if(r===0)t!==null&&od(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&od(t),e===1)n.tag===0?v1(Zd.bind(null,n)):Vg(Zd.bind(null,n)),g1(function(){!(Q&6)&&dr()}),t=null;else{switch(xg(r)){case 1:t=Eh;break;case 4:t=gg;break;case 16:t=Pa;break;case 536870912:t=yg;break;default:t=Pa}t=j0(t,N0.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function N0(n,e){if(ga=-1,ya=0,Q&6)throw Error(M(327));var t=n.callbackNode;if(Fi()&&n.callbackNode!==t)return null;var r=Aa(n,n===ze?Ue:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=Ha(n,r);else{e=r;var i=Q;Q|=2;var s=D0();(ze!==n||Ue!==e)&&(xn=null,$i=Ce()+500,Ur(n,e));do try{G1();break}catch(a){z0(n,a)}while(!0);jh(),$a.current=s,Q=i,Ee!==null?e=0:(ze=null,Ue=0,e=Ie)}if(e!==0){if(e===2&&(i=sc(n),i!==0&&(r=i,e=Fc(n,i))),e===1)throw t=so,Ur(n,0),$n(n,r),ct(n,Ce()),t;if(e===6)$n(n,r);else{if(i=n.current.alternate,!(r&30)&&!B1(i)&&(e=Ha(n,r),e===2&&(s=sc(n),s!==0&&(r=s,e=Fc(n,s))),e===1))throw t=so,Ur(n,0),$n(n,r),ct(n,Ce()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(M(345));case 2:Tr(n,st,xn);break;case 3:if($n(n,r),(r&130023424)===r&&(e=rf+500-Ce(),10<e)){if(Aa(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){nt(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=dc(Tr.bind(null,n,st,xn),e);break}Tr(n,st,xn);break;case 4:if($n(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-Zt(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ce()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*L1(r/1960))-r,10<r){n.timeoutHandle=dc(Tr.bind(null,n,st,xn),r);break}Tr(n,st,xn);break;case 5:Tr(n,st,xn);break;default:throw Error(M(329))}}}return ct(n,Ce()),n.callbackNode===t?N0.bind(null,n):null}function Fc(n,e){var t=Ns;return n.current.memoizedState.isDehydrated&&(Ur(n,e).flags|=256),n=Ha(n,e),n!==2&&(e=st,st=t,e!==null&&Oc(e)),n}function Oc(n){st===null?st=n:st.push.apply(st,n)}function B1(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!en(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $n(n,e){for(e&=~nf,e&=~_l,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Zt(e),r=1<<t;n[t]=-1,e&=~r}}function Zd(n){if(Q&6)throw Error(M(327));Fi();var e=Aa(n,0);if(!(e&1))return ct(n,Ce()),null;var t=Ha(n,e);if(n.tag!==0&&t===2){var r=sc(n);r!==0&&(e=r,t=Fc(n,r))}if(t===1)throw t=so,Ur(n,0),$n(n,e),ct(n,Ce()),t;if(t===6)throw Error(M(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Tr(n,st,xn),ct(n,Ce()),null}function sf(n,e){var t=Q;Q|=1;try{return n(e)}finally{Q=t,Q===0&&($i=Ce()+500,pl&&dr())}}function Kr(n){Hn!==null&&Hn.tag===0&&!(Q&6)&&Fi();var e=Q;Q|=1;var t=Gt.transition,r=te;try{if(Gt.transition=null,te=1,n)return n()}finally{te=r,Gt.transition=t,Q=e,!(Q&6)&&dr()}}function of(){xt=ki.current,le(ki)}function Ur(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,m1(t)),Ee!==null)for(t=Ee.return;t!==null;){var r=t;switch(Bh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fa();break;case 3:Gi(),le(lt),le(Qe),Xh();break;case 5:Yh(r);break;case 4:Gi();break;case 13:le(he);break;case 19:le(he);break;case 10:$h(r.type._context);break;case 22:case 23:of()}t=t.return}if(ze=n,Ee=n=ir(n.current,null),Ue=xt=e,Ie=0,so=null,nf=_l=qr=0,st=Ns=null,Fr!==null){for(e=0;e<Fr.length;e++)if(t=Fr[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}Fr=null}return n}function z0(n,e){do{var t=Ee;try{if(jh(),da.current=ja,Ga){for(var r=me.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ga=!1}if(Xr=0,Oe=Re=me=null,Fs=!1,no=0,tf.current=null,t===null||t.return===null){Ie=1,so=e,Ee=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=Ue,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=Bd(o);if(d!==null){d.flags&=-257,Ud(d,o,a,s,e),d.mode&1&&Ld(s,u,e),e=d,l=u;var g=e.updateQueue;if(g===null){var p=new Set;p.add(l),e.updateQueue=p}else g.add(l);break e}else{if(!(e&1)){Ld(s,u,e),af();break e}l=Error(M(426))}}else if(ue&&a.mode&1){var _=Bd(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Ud(_,o,a,s,e),Uh(ji(l,a));break e}}s=l=ji(l,a),Ie!==4&&(Ie=2),Ns===null?Ns=[s]:Ns.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=x0(s,l,e);Id(s,y);break e;case 1:a=l;var m=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(nr===null||!nr.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var v=v0(s,a,e);Id(s,v);break e}}s=s.return}while(s!==null)}B0(t)}catch(w){e=w,Ee===t&&t!==null&&(Ee=t=t.return);continue}break}while(!0)}function D0(){var n=$a.current;return $a.current=ja,n===null?ja:n}function af(){(Ie===0||Ie===3||Ie===2)&&(Ie=4),ze===null||!(qr&268435455)&&!(_l&268435455)||$n(ze,Ue)}function Ha(n,e){var t=Q;Q|=2;var r=D0();(ze!==n||Ue!==e)&&(xn=null,Ur(n,e));do try{U1();break}catch(i){z0(n,i)}while(!0);if(jh(),Q=t,$a.current=r,Ee!==null)throw Error(M(261));return ze=null,Ue=0,Ie}function U1(){for(;Ee!==null;)L0(Ee)}function G1(){for(;Ee!==null&&!fv();)L0(Ee)}function L0(n){var e=G0(n.alternate,n,xt);n.memoizedProps=n.pendingProps,e===null?B0(n):Ee=e,tf.current=null}function B0(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=O1(t,e),t!==null){t.flags&=32767,Ee=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Ie=6,Ee=null;return}}else if(t=F1(t,e,xt),t!==null){Ee=t;return}if(e=e.sibling,e!==null){Ee=e;return}Ee=e=n}while(e!==null);Ie===0&&(Ie=5)}function Tr(n,e,t){var r=te,i=Gt.transition;try{Gt.transition=null,te=1,j1(n,e,t,r)}finally{Gt.transition=i,te=r}return null}function j1(n,e,t,r){do Fi();while(Hn!==null);if(Q&6)throw Error(M(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(M(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(Sv(n,s),n===ze&&(Ee=ze=null,Ue=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Vo||(Vo=!0,j0(Pa,function(){return Fi(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Gt.transition,Gt.transition=null;var o=te;te=1;var a=Q;Q|=4,tf.current=null,z1(n,t),F0(t,n),l1(hc),Ea=!!cc,hc=cc=null,n.current=t,D1(t),dv(),Q=a,te=o,Gt.transition=s}else n.current=t;if(Vo&&(Vo=!1,Hn=n,Wa=i),s=n.pendingLanes,s===0&&(nr=null),gv(t.stateNode),ct(n,Ce()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(Va)throw Va=!1,n=Rc,Rc=null,n;return Wa&1&&n.tag!==0&&Fi(),s=n.pendingLanes,s&1?n===Ic?zs++:(zs=0,Ic=n):zs=0,dr(),null}function Fi(){if(Hn!==null){var n=xg(Wa),e=Gt.transition,t=te;try{if(Gt.transition=null,te=16>n?16:n,Hn===null)var r=!1;else{if(n=Hn,Hn=null,Wa=0,Q&6)throw Error(M(331));var i=Q;for(Q|=4,z=n.current;z!==null;){var s=z,o=s.child;if(z.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(z=u;z!==null;){var c=z;switch(c.tag){case 0:case 11:case 15:Os(8,c,s)}var h=c.child;if(h!==null)h.return=c,z=h;else for(;z!==null;){c=z;var f=c.sibling,d=c.return;if(M0(c),c===u){z=null;break}if(f!==null){f.return=d,z=f;break}z=d}}}var g=s.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var _=p.sibling;p.sibling=null,p=_}while(p!==null)}}z=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,z=o;else e:for(;z!==null;){if(s=z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Os(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,z=y;break e}z=s.return}}var m=n.current;for(z=m;z!==null;){o=z;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,z=x;else e:for(o=m;z!==null;){if(a=z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:yl(9,a)}}catch(w){xe(a,a.return,w)}if(a===o){z=null;break e}var v=a.sibling;if(v!==null){v.return=a.return,z=v;break e}z=a.return}}if(Q=i,dr(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(ul,n)}catch{}r=!0}return r}finally{te=t,Gt.transition=e}}return!1}function Jd(n,e,t){e=ji(t,e),e=x0(n,e,1),n=tr(n,e,1),e=nt(),n!==null&&(So(n,1,e),ct(n,e))}function xe(n,e,t){if(n.tag===3)Jd(n,n,t);else for(;e!==null;){if(e.tag===3){Jd(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(nr===null||!nr.has(r))){n=ji(t,n),n=v0(e,n,1),e=tr(e,n,1),n=nt(),e!==null&&(So(e,1,n),ct(e,n));break}}e=e.return}}function $1(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=nt(),n.pingedLanes|=n.suspendedLanes&t,ze===n&&(Ue&t)===t&&(Ie===4||Ie===3&&(Ue&130023424)===Ue&&500>Ce()-rf?Ur(n,0):nf|=t),ct(n,e)}function U0(n,e){e===0&&(n.mode&1?(e=Oo,Oo<<=1,!(Oo&130023424)&&(Oo=4194304)):e=1);var t=nt();n=In(n,e),n!==null&&(So(n,e,t),ct(n,t))}function V1(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),U0(n,t)}function W1(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(M(314))}r!==null&&r.delete(e),U0(n,t)}var G0;G0=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||lt.current)at=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return at=!1,I1(n,e,t);at=!!(n.flags&131072)}else at=!1,ue&&e.flags&1048576&&Wg(e,za,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ma(n,e),n=e.pendingProps;var i=Li(e,Qe.current);Ii(e,t),i=Kh(null,e,r,n,i,t);var s=Qh();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ut(r)?(s=!0,Oa(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Wh(e),i.updater=gl,e.stateNode=i,i._reactInternals=e,vc(e,r,n,t),e=Cc(null,e,r,!0,s,t)):(e.tag=0,ue&&s&&Lh(e),Je(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(ma(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Y1(r),n=Xt(r,n),i){case 0:e=Sc(null,e,r,n,t);break e;case 1:e=$d(null,e,r,n,t);break e;case 11:e=Gd(null,e,r,n,t);break e;case 14:e=jd(null,e,r,Xt(r.type,n),t);break e}throw Error(M(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xt(r,i),Sc(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xt(r,i),$d(n,e,r,i,t);case 3:e:{if(T0(e),n===null)throw Error(M(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Qg(n,e),Ba(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ji(Error(M(423)),e),e=Vd(n,e,r,t,i);break e}else if(r!==i){i=ji(Error(M(424)),e),e=Vd(n,e,r,t,i);break e}else for(St=er(e.stateNode.containerInfo.firstChild),Tt=e,ue=!0,Kt=null,t=qg(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Bi(),r===i){e=Fn(n,e,t);break e}Je(n,e,r,t)}e=e.child}return e;case 5:return Zg(e),n===null&&yc(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,fc(r,i)?o=null:s!==null&&fc(r,s)&&(e.flags|=32),C0(n,e),Je(n,e,o,t),e.child;case 6:return n===null&&yc(e),null;case 13:return k0(n,e,t);case 4:return Hh(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Ui(e,null,r,t):Je(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xt(r,i),Gd(n,e,r,i,t);case 7:return Je(n,e,e.pendingProps,t),e.child;case 8:return Je(n,e,e.pendingProps.children,t),e.child;case 12:return Je(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,oe(Da,r._currentValue),r._currentValue=o,s!==null)if(en(s.value,o)){if(s.children===i.children&&!lt.current){e=Fn(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Pn(-1,t&-t),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),_c(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(M(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),_c(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Je(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ii(e,t),i=jt(i),r=r(i),e.flags|=1,Je(n,e,r,t),e.child;case 14:return r=e.type,i=Xt(r,e.pendingProps),i=Xt(r.type,i),jd(n,e,r,i,t);case 15:return w0(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xt(r,i),ma(n,e),e.tag=1,ut(r)?(n=!0,Oa(e)):n=!1,Ii(e,t),_0(e,r,i),vc(e,r,i,t),Cc(null,e,r,!0,n,t);case 19:return b0(n,e,t);case 22:return S0(n,e,t)}throw Error(M(156,e.tag))};function j0(n,e){return mg(n,e)}function H1(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(n,e,t,r){return new H1(n,e,t,r)}function lf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Y1(n){if(typeof n=="function")return lf(n)?1:0;if(n!=null){if(n=n.$$typeof,n===bh)return 11;if(n===Ph)return 14}return 2}function ir(n,e){var t=n.alternate;return t===null?(t=zt(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function _a(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")lf(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case mi:return Gr(t.children,i,s,e);case kh:o=8,i|=8;break;case Vu:return n=zt(12,t,e,i|2),n.elementType=Vu,n.lanes=s,n;case Wu:return n=zt(13,t,e,i),n.elementType=Wu,n.lanes=s,n;case Hu:return n=zt(19,t,e,i),n.elementType=Hu,n.lanes=s,n;case Zm:return xl(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Km:o=10;break e;case Qm:o=9;break e;case bh:o=11;break e;case Ph:o=14;break e;case Un:o=16,r=null;break e}throw Error(M(130,n==null?n:typeof n,""))}return e=zt(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function Gr(n,e,t,r){return n=zt(7,n,r,e),n.lanes=t,n}function xl(n,e,t,r){return n=zt(22,n,r,e),n.elementType=Zm,n.lanes=t,n.stateNode={isHidden:!1},n}function ru(n,e,t){return n=zt(6,n,null,e),n.lanes=t,n}function iu(n,e,t){return e=zt(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function X1(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ll(0),this.expirationTimes=Ll(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ll(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function uf(n,e,t,r,i,s,o,a,l){return n=new X1(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=zt(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wh(s),n}function q1(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pi,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function $0(n){if(!n)return lr;n=n._reactInternals;e:{if(ri(n)!==n||n.tag!==1)throw Error(M(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ut(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(M(171))}if(n.tag===1){var t=n.type;if(ut(t))return $g(n,t,e)}return e}function V0(n,e,t,r,i,s,o,a,l){return n=uf(t,r,!0,n,i,s,o,a,l),n.context=$0(null),t=n.current,r=nt(),i=rr(t),s=Pn(r,i),s.callback=e??null,tr(t,s,i),n.current.lanes=i,So(n,i,r),ct(n,r),n}function vl(n,e,t,r){var i=e.current,s=nt(),o=rr(i);return t=$0(t),e.context===null?e.context=t:e.pendingContext=t,e=Pn(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=tr(i,e,o),n!==null&&(Jt(n,i,o,s),fa(n,i,o)),o}function Ya(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function ep(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function cf(n,e){ep(n,e),(n=n.alternate)&&ep(n,e)}function K1(){return null}var W0=typeof reportError=="function"?reportError:function(n){console.error(n)};function hf(n){this._internalRoot=n}wl.prototype.render=hf.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(M(409));vl(n,e,null,null)};wl.prototype.unmount=hf.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Kr(function(){vl(null,n,null,null)}),e[Rn]=null}};function wl(n){this._internalRoot=n}wl.prototype.unstable_scheduleHydration=function(n){if(n){var e=Sg();n={blockedOn:null,target:n,priority:e};for(var t=0;t<jn.length&&e!==0&&e<jn[t].priority;t++);jn.splice(t,0,n),t===0&&Tg(n)}};function ff(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Sl(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function tp(){}function Q1(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Ya(o);s.call(u)}}var o=V0(e,r,n,0,null,!1,!1,"",tp);return n._reactRootContainer=o,n[Rn]=o.current,Qs(n.nodeType===8?n.parentNode:n),Kr(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Ya(l);a.call(u)}}var l=uf(n,0,!1,null,null,!1,!1,"",tp);return n._reactRootContainer=l,n[Rn]=l.current,Qs(n.nodeType===8?n.parentNode:n),Kr(function(){vl(e,l,t,r)}),l}function Cl(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Ya(o);a.call(l)}}vl(e,o,n,i)}else o=Q1(t,e,n,i,r);return Ya(o)}vg=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=vs(e.pendingLanes);t!==0&&(Mh(e,t|1),ct(e,Ce()),!(Q&6)&&($i=Ce()+500,dr()))}break;case 13:Kr(function(){var r=In(n,1);if(r!==null){var i=nt();Jt(r,n,1,i)}}),cf(n,1)}};Rh=function(n){if(n.tag===13){var e=In(n,134217728);if(e!==null){var t=nt();Jt(e,n,134217728,t)}cf(n,134217728)}};wg=function(n){if(n.tag===13){var e=rr(n),t=In(n,e);if(t!==null){var r=nt();Jt(t,n,e,r)}cf(n,e)}};Sg=function(){return te};Cg=function(n,e){var t=te;try{return te=n,e()}finally{te=t}};nc=function(n,e,t){switch(e){case"input":if(qu(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=dl(r);if(!i)throw Error(M(90));eg(r),qu(r,i)}}}break;case"textarea":ng(n,t);break;case"select":e=t.value,e!=null&&Ai(n,!!t.multiple,e,!1)}};ug=sf;cg=Kr;var Z1={usingClientEntryPoint:!1,Events:[To,xi,dl,ag,lg,sf]},fs={findFiberByHostInstance:Ir,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},J1={bundleType:fs.bundleType,version:fs.version,rendererPackageName:fs.rendererPackageName,rendererConfig:fs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Dn.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=dg(n),n===null?null:n.stateNode},findFiberByHostInstance:fs.findFiberByHostInstance||K1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wo.isDisabled&&Wo.supportsFiber)try{ul=Wo.inject(J1),fn=Wo}catch{}}Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z1;Mt.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ff(e))throw Error(M(200));return q1(n,e,null,t)};Mt.createRoot=function(n,e){if(!ff(n))throw Error(M(299));var t=!1,r="",i=W0;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=uf(n,1,!1,null,null,t,!1,r,i),n[Rn]=e.current,Qs(n.nodeType===8?n.parentNode:n),new hf(e)};Mt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(M(188)):(n=Object.keys(n).join(","),Error(M(268,n)));return n=dg(e),n=n===null?null:n.stateNode,n};Mt.flushSync=function(n){return Kr(n)};Mt.hydrate=function(n,e,t){if(!Sl(e))throw Error(M(200));return Cl(null,n,e,!0,t)};Mt.hydrateRoot=function(n,e,t){if(!ff(n))throw Error(M(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=W0;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=V0(e,null,n,1,t??null,i,!1,s,o),n[Rn]=e.current,Qs(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new wl(e)};Mt.render=function(n,e,t){if(!Sl(e))throw Error(M(200));return Cl(null,n,e,!1,t)};Mt.unmountComponentAtNode=function(n){if(!Sl(n))throw Error(M(40));return n._reactRootContainer?(Kr(function(){Cl(null,null,n,!1,function(){n._reactRootContainer=null,n[Rn]=null})}),!0):!1};Mt.unstable_batchedUpdates=sf;Mt.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!Sl(t))throw Error(M(200));if(n==null||n._reactInternals===void 0)throw Error(M(38));return Cl(n,e,t,!1,r)};Mt.version="18.3.1-next-f1338f8080-20240426";function H0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(H0)}catch(n){console.error(n)}}H0(),Hm.exports=Mt;var ew=Hm.exports,Y0,np=ew;Y0=np.createRoot,np.hydrateRoot;class tw{constructor(e){U(this,"audioContext");U(this,"voiceConfig");this.voiceConfig=e,this.audioContext=new(window.AudioContext||window.webkitAudioContext)}async generateProfessionalSpeech(e,t={}){if(this.voiceConfig.provider==="browser")return this.generateBrowserTTS(e);throw new Error("API-based TTS requires API keys. Using browser TTS for demo.")}async generateBrowserTTS(e){return new Promise((t,r)=>{const i=new SpeechSynthesisUtterance(e);i.lang=this.voiceConfig.language,i.rate=this.voiceConfig.speed,i.pitch=this.voiceConfig.pitch;const s=this.audioContext.createMediaStreamDestination(),o=new MediaRecorder(s.stream),a=[];o.ondataavailable=l=>{l.data.size>0&&a.push(l.data)},o.onstop=async()=>{const u=await new Blob(a,{type:"audio/webm"}).arrayBuffer();try{const c=await this.audioContext.decodeAudioData(u);t(c)}catch{const f=this.audioContext.sampleRate,d=this.audioContext.createBuffer(2,f*5,f);t(d)}},o.start(),window.speechSynthesis.speak(i),i.onend=()=>{setTimeout(()=>{o.stop()},500)},i.onerror=()=>{const u=this.audioContext.sampleRate,c=this.audioContext.createBuffer(2,u*5,u);t(c)}})}async generateSpeech(e,t){return this.generateProfessionalSpeech(e,{emotion:t})}}function nw(n){return new tw(n)}const rw="modulepreload",iw=function(n){return"/loupuaroy/"+n},rp={},Xa=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(t.map(l=>{if(l=iw(l),l in rp)return;rp[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":rw,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((f,d)=>{h.addEventListener("load",f),h.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};var ne=(n=>(n.Application="application",n.WebGLPipes="webgl-pipes",n.WebGLPipesAdaptor="webgl-pipes-adaptor",n.WebGLSystem="webgl-system",n.WebGPUPipes="webgpu-pipes",n.WebGPUPipesAdaptor="webgpu-pipes-adaptor",n.WebGPUSystem="webgpu-system",n.CanvasSystem="canvas-system",n.CanvasPipesAdaptor="canvas-pipes-adaptor",n.CanvasPipes="canvas-pipes",n.Asset="asset",n.LoadParser="load-parser",n.ResolveParser="resolve-parser",n.CacheParser="cache-parser",n.DetectionParser="detection-parser",n.MaskEffect="mask-effect",n.BlendMode="blend-mode",n.TextureSource="texture-source",n.Environment="environment",n.ShapeBuilder="shape-builder",n.Batcher="batcher",n))(ne||{});const Nc=n=>{if(typeof n=="function"||typeof n=="object"&&n.extension){if(!n.extension)throw new Error("Extension class must have an extension object");n={...typeof n.extension!="object"?{type:n.extension}:n.extension,ref:n}}if(typeof n=="object")n={...n};else throw new Error("Invalid extension type");return typeof n.type=="string"&&(n.type=[n.type]),n},Ho=(n,e)=>Nc(n).priority??e,Wt={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...n){return n.map(Nc).forEach(e=>{e.type.forEach(t=>{var r,i;return(i=(r=this._removeHandlers)[t])==null?void 0:i.call(r,e)})}),this},add(...n){return n.map(Nc).forEach(e=>{e.type.forEach(t=>{var s,o;const r=this._addHandlers,i=this._queue;r[t]?(o=r[t])==null||o.call(r,e):(i[t]=i[t]||[],(s=i[t])==null||s.push(e))})}),this},handle(n,e,t){var o;const r=this._addHandlers,i=this._removeHandlers;if(r[n]||i[n])throw new Error(`Extension type ${n} already has a handler`);r[n]=e,i[n]=t;const s=this._queue;return s[n]&&((o=s[n])==null||o.forEach(a=>e(a)),delete s[n]),this},handleByMap(n,e){return this.handle(n,t=>{t.name&&(e[t.name]=t.ref)},t=>{t.name&&delete e[t.name]})},handleByNamedList(n,e,t=-1){return this.handle(n,r=>{e.findIndex(s=>s.name===r.name)>=0||(e.push({name:r.name,value:r.ref}),e.sort((s,o)=>Ho(o.value,t)-Ho(s.value,t)))},r=>{const i=e.findIndex(s=>s.name===r.name);i!==-1&&e.splice(i,1)})},handleByList(n,e,t=-1){return this.handle(n,r=>{e.includes(r.ref)||(e.push(r.ref),e.sort((i,s)=>Ho(s,t)-Ho(i,t)))},r=>{const i=e.indexOf(r.ref);i!==-1&&e.splice(i,1)})},mixin(n,...e){for(const t of e)Object.defineProperties(n.prototype,Object.getOwnPropertyDescriptors(t))}},sw={extension:{type:ne.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await Xa(()=>import("./browserAll-DXCM0rQC.js"),__vite__mapDeps([0,1,2]))}},ow={extension:{type:ne.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await Xa(()=>import("./webworkerAll-DJJDNBSK.js"),__vite__mapDeps([1,2]))}};class Be{constructor(e,t,r){this._x=t||0,this._y=r||0,this._observer=e}clone(e){return new Be(e??this._observer,this._x,this._y)}set(e=0,t=e){return(this._x!==e||this._y!==t)&&(this._x=e,this._y=t,this._observer._onUpdate(this)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this._observer._onUpdate(this)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=${this._x} y=${this._y} scope=${this._observer}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this._observer._onUpdate(this))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this._observer._onUpdate(this))}}var X0={exports:{}};(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function s(l,u,c,h,f){if(typeof c!="function")throw new TypeError("The listener must be a function");var d=new i(c,h||l,f),g=t?t+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],d]:l._events[g].push(d):(l._events[g]=d,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,h;if(this._eventsCount===0)return u;for(h in c=this._events)e.call(c,h)&&u.push(t?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=t?t+u:u,h=this._events[c];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,d=h.length,g=new Array(d);f<d;f++)g[f]=h[f].fn;return g},a.prototype.listenerCount=function(u){var c=t?t+u:u,h=this._events[c];return h?h.fn?1:h.length:0},a.prototype.emit=function(u,c,h,f,d,g){var p=t?t+u:u;if(!this._events[p])return!1;var _=this._events[p],y=arguments.length,m,x;if(_.fn){switch(_.once&&this.removeListener(u,_.fn,void 0,!0),y){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,c),!0;case 3:return _.fn.call(_.context,c,h),!0;case 4:return _.fn.call(_.context,c,h,f),!0;case 5:return _.fn.call(_.context,c,h,f,d),!0;case 6:return _.fn.call(_.context,c,h,f,d,g),!0}for(x=1,m=new Array(y-1);x<y;x++)m[x-1]=arguments[x];_.fn.apply(_.context,m)}else{var v=_.length,w;for(x=0;x<v;x++)switch(_[x].once&&this.removeListener(u,_[x].fn,void 0,!0),y){case 1:_[x].fn.call(_[x].context);break;case 2:_[x].fn.call(_[x].context,c);break;case 3:_[x].fn.call(_[x].context,c,h);break;case 4:_[x].fn.call(_[x].context,c,h,f);break;default:if(!m)for(w=1,m=new Array(y-1);w<y;w++)m[w-1]=arguments[w];_[x].fn.apply(_[x].context,m)}}return!0},a.prototype.on=function(u,c,h){return s(this,u,c,h,!1)},a.prototype.once=function(u,c,h){return s(this,u,c,h,!0)},a.prototype.removeListener=function(u,c,h,f){var d=t?t+u:u;if(!this._events[d])return this;if(!c)return o(this,d),this;var g=this._events[d];if(g.fn)g.fn===c&&(!f||g.once)&&(!h||g.context===h)&&o(this,d);else{for(var p=0,_=[],y=g.length;p<y;p++)(g[p].fn!==c||f&&!g[p].once||h&&g[p].context!==h)&&_.push(g[p]);_.length?this._events[d]=_.length===1?_[0]:_:o(this,d)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=t?t+u:u,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=t,a.EventEmitter=a,n.exports=a})(X0);var aw=X0.exports;const gn=Om(aw),lw=Math.PI*2,uw=180/Math.PI,cw=Math.PI/180;class Xe{constructor(e=0,t=0){this.x=0,this.y=0,this.x=e,this.y=t}clone(){return new Xe(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,t=e){return this.x=e,this.y=t,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return su.x=0,su.y=0,su}}const su=new Xe;class W{constructor(e=1,t=0,r=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=t,this.c=r,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,t,r,i,s,o){return this.a=e,this.b=t,this.c=r,this.d=i,this.tx=s,this.ty=o,this}toArray(e,t){this.array||(this.array=new Float32Array(9));const r=t||this.array;return e?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r}apply(e,t){t=t||new Xe;const r=e.x,i=e.y;return t.x=this.a*r+this.c*i+this.tx,t.y=this.b*r+this.d*i+this.ty,t}applyInverse(e,t){t=t||new Xe;const r=this.a,i=this.b,s=this.c,o=this.d,a=this.tx,l=this.ty,u=1/(r*o+s*-i),c=e.x,h=e.y;return t.x=o*u*c+-s*u*h+(l*s-a*o)*u,t.y=r*u*h+-i*u*c+(-l*r+a*i)*u,t}translate(e,t){return this.tx+=e,this.ty+=t,this}scale(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this}rotate(e){const t=Math.cos(e),r=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*t-this.b*r,this.b=i*r+this.b*t,this.c=s*t-this.d*r,this.d=s*r+this.d*t,this.tx=o*t-this.ty*r,this.ty=o*r+this.ty*t,this}append(e){const t=this.a,r=this.b,i=this.c,s=this.d;return this.a=e.a*t+e.b*i,this.b=e.a*r+e.b*s,this.c=e.c*t+e.d*i,this.d=e.c*r+e.d*s,this.tx=e.tx*t+e.ty*i+this.tx,this.ty=e.tx*r+e.ty*s+this.ty,this}appendFrom(e,t){const r=e.a,i=e.b,s=e.c,o=e.d,a=e.tx,l=e.ty,u=t.a,c=t.b,h=t.c,f=t.d;return this.a=r*u+i*h,this.b=r*c+i*f,this.c=s*u+o*h,this.d=s*c+o*f,this.tx=a*u+l*h+t.tx,this.ty=a*c+l*f+t.ty,this}setTransform(e,t,r,i,s,o,a,l,u){return this.a=Math.cos(a+u)*s,this.b=Math.sin(a+u)*s,this.c=-Math.sin(a-l)*o,this.d=Math.cos(a-l)*o,this.tx=e-(r*this.a+i*this.c),this.ty=t-(r*this.b+i*this.d),this}prepend(e){const t=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const r=this.a,i=this.c;this.a=r*e.a+this.b*e.c,this.b=r*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this}decompose(e){const t=this.a,r=this.b,i=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-i,s),l=Math.atan2(r,t),u=Math.abs(a+l);return u<1e-5||Math.abs(lw-u)<1e-5?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=l),e.scale.x=Math.sqrt(t*t+r*r),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*t+o.y*i),e.position.y=this.ty+(o.x*r+o.y*s),e}invert(){const e=this.a,t=this.b,r=this.c,i=this.d,s=this.tx,o=e*i-t*r;return this.a=i/o,this.b=-t/o,this.c=-r/o,this.d=e/o,this.tx=(r*this.ty-i*s)/o,this.ty=-(e*this.ty-t*s)/o,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new W;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}equals(e){return e.a===this.a&&e.b===this.b&&e.c===this.c&&e.d===this.d&&e.tx===this.tx&&e.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return fw.identity()}static get shared(){return hw.identity()}}const hw=new W,fw=new W,kr=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],br=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Pr=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Ar=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],zc=[],q0=[],Yo=Math.sign;function dw(){for(let n=0;n<16;n++){const e=[];zc.push(e);for(let t=0;t<16;t++){const r=Yo(kr[n]*kr[t]+Pr[n]*br[t]),i=Yo(br[n]*kr[t]+Ar[n]*br[t]),s=Yo(kr[n]*Pr[t]+Pr[n]*Ar[t]),o=Yo(br[n]*Pr[t]+Ar[n]*Ar[t]);for(let a=0;a<16;a++)if(kr[a]===r&&br[a]===i&&Pr[a]===s&&Ar[a]===o){e.push(a);break}}}for(let n=0;n<16;n++){const e=new W;e.set(kr[n],br[n],Pr[n],Ar[n],0,0),q0.push(e)}}dw();const ie={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:n=>kr[n],uY:n=>br[n],vX:n=>Pr[n],vY:n=>Ar[n],inv:n=>n&8?n&15:-n&7,add:(n,e)=>zc[n][e],sub:(n,e)=>zc[n][ie.inv(e)],rotate180:n=>n^4,isVertical:n=>(n&3)===2,byDirection:(n,e)=>Math.abs(n)*2<=Math.abs(e)?e>=0?ie.S:ie.N:Math.abs(e)*2<=Math.abs(n)?n>0?ie.E:ie.W:e>0?n>0?ie.SE:ie.SW:n>0?ie.NE:ie.NW,matrixAppendRotationInv:(n,e,t=0,r=0)=>{const i=q0[ie.inv(e)];i.tx=t,i.ty=r,n.append(i)},transformRectCoords:(n,e,t,r)=>{const{x:i,y:s,width:o,height:a}=n,{x:l,y:u,width:c,height:h}=e;return t===ie.E?(r.set(i+l,s+u,o,a),r):t===ie.S?r.set(c-s-a+l,i+u,a,o):t===ie.W?r.set(c-i-o+l,h-s-a+u,o,a):t===ie.N?r.set(s+l,h-i-o+u,a,o):r.set(i+l,s+u,o,a)}},Xo=[new Xe,new Xe,new Xe,new Xe];class Te{constructor(e=0,t=0,r=0,i=0){this.type="rectangle",this.x=Number(e),this.y=Number(t),this.width=Number(r),this.height=Number(i)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new Te(0,0,0,0)}clone(){return new Te(this.x,this.y,this.width,this.height)}copyFromBounds(e){return this.x=e.minX,this.y=e.minY,this.width=e.maxX-e.minX,this.height=e.maxY-e.minY,this}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.copyFrom(this),e}contains(e,t){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height}strokeContains(e,t,r,i=.5){const{width:s,height:o}=this;if(s<=0||o<=0)return!1;const a=this.x,l=this.y,u=r*(1-i),c=r-u,h=a-u,f=a+s+u,d=l-u,g=l+o+u,p=a+c,_=a+s-c,y=l+c,m=l+o-c;return e>=h&&e<=f&&t>=d&&t<=g&&!(e>p&&e<_&&t>y&&t<m)}intersects(e,t){if(!t){const T=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=T)return!1;const P=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>P}const r=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=r||o<=s)return!1;const a=Xo[0].set(e.left,e.top),l=Xo[1].set(e.left,e.bottom),u=Xo[2].set(e.right,e.top),c=Xo[3].set(e.right,e.bottom);if(u.x<=a.x||l.y<=a.y)return!1;const h=Math.sign(t.a*t.d-t.b*t.c);if(h===0||(t.apply(a,a),t.apply(l,l),t.apply(u,u),t.apply(c,c),Math.max(a.x,l.x,u.x,c.x)<=r||Math.min(a.x,l.x,u.x,c.x)>=i||Math.max(a.y,l.y,u.y,c.y)<=s||Math.min(a.y,l.y,u.y,c.y)>=o))return!1;const f=h*(l.y-a.y),d=h*(a.x-l.x),g=f*r+d*s,p=f*i+d*s,_=f*r+d*o,y=f*i+d*o;if(Math.max(g,p,_,y)<=f*a.x+d*a.y||Math.min(g,p,_,y)>=f*c.x+d*c.y)return!1;const m=h*(a.y-u.y),x=h*(u.x-a.x),v=m*r+x*s,w=m*i+x*s,C=m*r+x*o,S=m*i+x*o;return!(Math.max(v,w,C,S)<=m*a.x+x*a.y||Math.min(v,w,C,S)>=m*c.x+x*c.y)}pad(e=0,t=e){return this.x-=e,this.y-=t,this.width+=e*2,this.height+=t*2,this}fit(e){const t=Math.max(this.x,e.x),r=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(r-t,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,t=.001){const r=Math.ceil((this.x+this.width-t)*e)/e,i=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=r-this.x,this.height=i-this.y,this}scale(e,t=e){return this.x*=e,this.y*=t,this.width*=e,this.height*=t,this}enlarge(e){const t=Math.min(this.x,e.x),r=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=r-t,this.y=i,this.height=s-i,this}getBounds(e){return e||(e=new Te),e.copyFrom(this),e}containsRect(e){if(this.width<=0||this.height<=0)return!1;const t=e.x,r=e.y,i=e.x+e.width,s=e.y+e.height;return t>=this.x&&t<this.x+this.width&&r>=this.y&&r<this.y+this.height&&i>=this.x&&i<this.x+this.width&&s>=this.y&&s<this.y+this.height}set(e,t,r,i){return this.x=e,this.y=t,this.width=r,this.height=i,this}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const ou={default:-1};function ke(n="default"){return ou[n]===void 0&&(ou[n]=-1),++ou[n]}const ip={},ve="8.0.0",pw="8.3.4";function K(n,e,t=3){if(ip[e])return;let r=new Error().stack;typeof r>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${n}`):(r=r.split(`
`).splice(t).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${n}`),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${n}`),console.warn(r))),ip[e]=!0}const K0=()=>{};function Vi(n){return n+=n===0?1:0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1}function sp(n){return!(n&n-1)&&!!n}function Q0(n){const e={};for(const t in n)n[t]!==void 0&&(e[t]=n[t]);return e}const op=Object.create(null);function mw(n){const e=op[n];return e===void 0&&(op[n]=ke("resource")),e}const Z0=class J0 extends gn{constructor(e={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,e={...J0.defaultOptions,...e},this.addressMode=e.addressMode,this.addressModeU=e.addressModeU??this.addressModeU,this.addressModeV=e.addressModeV??this.addressModeV,this.addressModeW=e.addressModeW??this.addressModeW,this.scaleMode=e.scaleMode,this.magFilter=e.magFilter??this.magFilter,this.minFilter=e.minFilter??this.minFilter,this.mipmapFilter=e.mipmapFilter??this.mipmapFilter,this.lodMinClamp=e.lodMinClamp,this.lodMaxClamp=e.lodMaxClamp,this.compare=e.compare,this.maxAnisotropy=e.maxAnisotropy??1}set addressMode(e){this.addressModeU=e,this.addressModeV=e,this.addressModeW=e}get addressMode(){return this.addressModeU}set wrapMode(e){K(ve,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=e}get wrapMode(){return this.addressMode}set scaleMode(e){this.magFilter=e,this.minFilter=e,this.mipmapFilter=e}get scaleMode(){return this.magFilter}set maxAnisotropy(e){this._maxAnisotropy=Math.min(e,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){const e=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=mw(e),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};Z0.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let qa=Z0;const ey=class ty extends gn{constructor(e={}){super(),this.options=e,this.uid=ke("textureSource"),this._resourceType="textureSource",this._resourceId=ke("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,e={...ty.defaultOptions,...e},this.label=e.label??"",this.resource=e.resource,this.autoGarbageCollect=e.autoGarbageCollect,this._resolution=e.resolution,e.width?this.pixelWidth=e.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,e.height?this.pixelHeight=e.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=e.format,this.dimension=e.dimensions,this.mipLevelCount=e.mipLevelCount,this.autoGenerateMipmaps=e.autoGenerateMipmaps,this.sampleCount=e.sampleCount,this.antialias=e.antialias,this.alphaMode=e.alphaMode,this.style=new qa(Q0(e)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(e){var t,r;this.style!==e&&((t=this._style)==null||t.off("change",this._onStyleChange,this),this._style=e,(r=this._style)==null||r.on("change",this._onStyleChange,this),this._onStyleChange())}set maxAnisotropy(e){this._style.maxAnisotropy=e}get maxAnisotropy(){return this._style.maxAnisotropy}get addressMode(){return this._style.addressMode}set addressMode(e){this._style.addressMode=e}get repeatMode(){return this._style.addressMode}set repeatMode(e){this._style.addressMode=e}get magFilter(){return this._style.magFilter}set magFilter(e){this._style.magFilter=e}get minFilter(){return this._style.minFilter}set minFilter(e){this._style.minFilter=e}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(e){this._style.mipmapFilter=e}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(e){this._style.lodMinClamp=e}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(e){this._style.lodMaxClamp=e}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const e=this._resolution;if(this.resize(this.resourceWidth/e,this.resourceHeight/e))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=ke("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){const{resource:e}=this;return e.naturalWidth||e.videoWidth||e.displayWidth||e.width}get resourceHeight(){const{resource:e}=this;return e.naturalHeight||e.videoHeight||e.displayHeight||e.height}get resolution(){return this._resolution}set resolution(e){this._resolution!==e&&(this._resolution=e,this.width=this.pixelWidth/e,this.height=this.pixelHeight/e)}resize(e,t,r){r||(r=this._resolution),e||(e=this.width),t||(t=this.height);const i=Math.round(e*r),s=Math.round(t*r);return this.width=i/r,this.height=s/r,this._resolution=r,this.pixelWidth===i&&this.pixelHeight===s?!1:(this._refreshPOT(),this.pixelWidth=i,this.pixelHeight=s,this.emit("resize",this),this._resourceId=ke("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(e){this._style.wrapMode=e}get wrapMode(){return this._style.wrapMode}set scaleMode(e){this._style.scaleMode=e}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=sp(this.pixelWidth)&&sp(this.pixelHeight)}static test(e){throw new Error("Unimplemented")}};ey.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let nn=ey;class df extends nn{constructor(e){const t=e.resource||new Float32Array(e.width*e.height*4);let r=e.format;r||(t instanceof Float32Array?r="rgba32float":t instanceof Int32Array||t instanceof Uint32Array?r="rgba32uint":t instanceof Int16Array||t instanceof Uint16Array?r="rgba16uint":(t instanceof Int8Array,r="bgra8unorm")),super({...e,resource:t,format:r}),this.uploadMethodId="buffer"}static test(e){return e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}df.extension=ne.TextureSource;const ap=new W;class gw{constructor(e,t){this.mapCoord=new W,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof t>"u"?this.clampMargin=e.width<10?0:.5:this.clampMargin=t,this.isSimple=!1,this.texture=e}get texture(){return this._texture}set texture(e){var t;this.texture!==e&&((t=this._texture)==null||t.removeListener("update",this.update,this),this._texture=e,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(e,t){t===void 0&&(t=e);const r=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];t[i]=s*r.a+o*r.c+r.tx,t[i+1]=s*r.b+o*r.d+r.ty}return t}update(){const e=this._texture;this._updateID++;const t=e.uvs;this.mapCoord.set(t.x1-t.x0,t.y1-t.y0,t.x3-t.x0,t.y3-t.y0,t.x0,t.y0);const r=e.orig,i=e.trim;i&&(ap.set(r.width/i.width,0,0,r.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(ap));const s=e.source,o=this.uClampFrame,a=this.clampMargin/s._resolution,l=this.clampOffset/s._resolution;return o[0]=(e.frame.x+a+l)/s.width,o[1]=(e.frame.y+a+l)/s.height,o[2]=(e.frame.x+e.frame.width-a+l)/s.width,o[3]=(e.frame.y+e.frame.height-a+l)/s.height,this.uClampOffset[0]=this.clampOffset/s.pixelWidth,this.uClampOffset[1]=this.clampOffset/s.pixelHeight,this.isSimple=e.frame.width===s.width&&e.frame.height===s.height&&e.rotate===0,!0}}class J extends gn{constructor({source:e,label:t,frame:r,orig:i,trim:s,defaultAnchor:o,defaultBorders:a,rotate:l,dynamic:u}={}){if(super(),this.uid=ke("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new Te,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=t,this.source=(e==null?void 0:e.source)??new nn,this.noFrame=!r,r)this.frame.copyFrom(r);else{const{width:c,height:h}=this._source;this.frame.width=c,this.frame.height=h}this.orig=i||this.frame,this.trim=s,this.rotate=l??0,this.defaultAnchor=o,this.defaultBorders=a,this.destroyed=!1,this.dynamic=u||!1,this.updateUvs()}set source(e){this._source&&this._source.off("resize",this.update,this),this._source=e,e.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new gw(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:e,frame:t}=this,{width:r,height:i}=this._source,s=t.x/r,o=t.y/i,a=t.width/r,l=t.height/i;let u=this.rotate;if(u){const c=a/2,h=l/2,f=s+c,d=o+h;u=ie.add(u,ie.NW),e.x0=f+c*ie.uX(u),e.y0=d+h*ie.uY(u),u=ie.add(u,2),e.x1=f+c*ie.uX(u),e.y1=d+h*ie.uY(u),u=ie.add(u,2),e.x2=f+c*ie.uX(u),e.y2=d+h*ie.uY(u),u=ie.add(u,2),e.x3=f+c*ie.uX(u),e.y3=d+h*ie.uY(u)}else e.x0=s,e.y0=o,e.x1=s+a,e.y1=o,e.x2=s+a,e.y2=o+l,e.x3=s,e.y3=o+l}destroy(e=!1){this._source&&e&&(this._source.destroy(),this._source=null),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return K(ve,"Texture.baseTexture is now Texture.source"),this._source}}J.EMPTY=new J({label:"EMPTY",source:new nn({label:"EMPTY"})});J.EMPTY.destroy=K0;J.WHITE=new J({source:new df({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});J.WHITE.destroy=K0;function yw(n,e,t){const{width:r,height:i}=t.orig,s=t.trim;if(s){const o=s.width,a=s.height;n.minX=s.x-e._x*r,n.maxX=n.minX+o,n.minY=s.y-e._y*i,n.maxY=n.minY+a}else n.minX=-e._x*r,n.maxX=n.minX+r,n.minY=-e._y*i,n.maxY=n.minY+i}const lp=new W;class tn{constructor(e=1/0,t=1/0,r=-1/0,i=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=lp,this.minX=e,this.minY=t,this.maxX=r,this.maxY=i}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new Te);const e=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(e.x=0,e.y=0,e.width=0,e.height=0):e.copyFromBounds(this),e}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=lp,this}set(e,t,r,i){this.minX=e,this.minY=t,this.maxX=r,this.maxY=i}addFrame(e,t,r,i,s){s||(s=this.matrix);const o=s.a,a=s.b,l=s.c,u=s.d,c=s.tx,h=s.ty;let f=this.minX,d=this.minY,g=this.maxX,p=this.maxY,_=o*e+l*t+c,y=a*e+u*t+h;_<f&&(f=_),y<d&&(d=y),_>g&&(g=_),y>p&&(p=y),_=o*r+l*t+c,y=a*r+u*t+h,_<f&&(f=_),y<d&&(d=y),_>g&&(g=_),y>p&&(p=y),_=o*e+l*i+c,y=a*e+u*i+h,_<f&&(f=_),y<d&&(d=y),_>g&&(g=_),y>p&&(p=y),_=o*r+l*i+c,y=a*r+u*i+h,_<f&&(f=_),y<d&&(d=y),_>g&&(g=_),y>p&&(p=y),this.minX=f,this.minY=d,this.maxX=g,this.maxY=p}addRect(e,t){this.addFrame(e.x,e.y,e.x+e.width,e.y+e.height,t)}addBounds(e,t){this.addFrame(e.minX,e.minY,e.maxX,e.maxY,t)}addBoundsMask(e){this.minX=this.minX>e.minX?this.minX:e.minX,this.minY=this.minY>e.minY?this.minY:e.minY,this.maxX=this.maxX<e.maxX?this.maxX:e.maxX,this.maxY=this.maxY<e.maxY?this.maxY:e.maxY}applyMatrix(e){const t=this.minX,r=this.minY,i=this.maxX,s=this.maxY,{a:o,b:a,c:l,d:u,tx:c,ty:h}=e;let f=o*t+l*r+c,d=a*t+u*r+h;this.minX=f,this.minY=d,this.maxX=f,this.maxY=d,f=o*i+l*r+c,d=a*i+u*r+h,this.minX=f<this.minX?f:this.minX,this.minY=d<this.minY?d:this.minY,this.maxX=f>this.maxX?f:this.maxX,this.maxY=d>this.maxY?d:this.maxY,f=o*t+l*s+c,d=a*t+u*s+h,this.minX=f<this.minX?f:this.minX,this.minY=d<this.minY?d:this.minY,this.maxX=f>this.maxX?f:this.maxX,this.maxY=d>this.maxY?d:this.maxY,f=o*i+l*s+c,d=a*i+u*s+h,this.minX=f<this.minX?f:this.minX,this.minY=d<this.minY?d:this.minY,this.maxX=f>this.maxX?f:this.maxX,this.maxY=d>this.maxY?d:this.maxY}fit(e){return this.minX<e.left&&(this.minX=e.left),this.maxX>e.right&&(this.maxX=e.right),this.minY<e.top&&(this.minY=e.top),this.maxY>e.bottom&&(this.maxY=e.bottom),this}fitBounds(e,t,r,i){return this.minX<e&&(this.minX=e),this.maxX>t&&(this.maxX=t),this.minY<r&&(this.minY=r),this.maxY>i&&(this.maxY=i),this}pad(e,t=e){return this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new tn(this.minX,this.minY,this.maxX,this.maxY)}scale(e,t=e){return this.minX*=e,this.minY*=t,this.maxX*=e,this.maxY*=t,this}get x(){return this.minX}set x(e){const t=this.maxX-this.minX;this.minX=e,this.maxX=e+t}get y(){return this.minY}set y(e){const t=this.maxY-this.minY;this.minY=e,this.maxY=e+t}get width(){return this.maxX-this.minX}set width(e){this.maxX=this.minX+e}get height(){return this.maxY-this.minY}set height(e){this.maxY=this.minY+e}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(e,t,r,i){let s=this.minX,o=this.minY,a=this.maxX,l=this.maxY;i||(i=this.matrix);const u=i.a,c=i.b,h=i.c,f=i.d,d=i.tx,g=i.ty;for(let p=t;p<r;p+=2){const _=e[p],y=e[p+1],m=u*_+h*y+d,x=c*_+f*y+g;s=m<s?m:s,o=x<o?x:o,a=m>a?m:a,l=x>l?x:l}this.minX=s,this.minY=o,this.maxX=a,this.maxY=l}containsPoint(e,t){return this.minX<=e&&this.minY<=t&&this.maxX>=e&&this.maxY>=t}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}copyFrom(e){return this.minX=e.minX,this.minY=e.minY,this.maxX=e.maxX,this.maxY=e.maxY,this}}var _w={grad:.9,turn:360,rad:360/(2*Math.PI)},_n=function(n){return typeof n=="string"?n.length>0:typeof n=="number"},Ne=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t+0},Dt=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n>e?n:e},ny=function(n){return(n=isFinite(n)?n%360:0)>0?n:n+360},up=function(n){return{r:Dt(n.r,0,255),g:Dt(n.g,0,255),b:Dt(n.b,0,255),a:Dt(n.a)}},au=function(n){return{r:Ne(n.r),g:Ne(n.g),b:Ne(n.b),a:Ne(n.a,3)}},xw=/^#([0-9a-f]{3,8})$/i,qo=function(n){var e=n.toString(16);return e.length<2?"0"+e:e},ry=function(n){var e=n.r,t=n.g,r=n.b,i=n.a,s=Math.max(e,t,r),o=s-Math.min(e,t,r),a=o?s===e?(t-r)/o:s===t?2+(r-e)/o:4+(e-t)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},iy=function(n){var e=n.h,t=n.s,r=n.v,i=n.a;e=e/360*6,t/=100,r/=100;var s=Math.floor(e),o=r*(1-t),a=r*(1-(e-s)*t),l=r*(1-(1-e+s)*t),u=s%6;return{r:255*[r,a,o,o,l,r][u],g:255*[l,r,r,a,o,o][u],b:255*[o,o,l,r,r,a][u],a:i}},cp=function(n){return{h:ny(n.h),s:Dt(n.s,0,100),l:Dt(n.l,0,100),a:Dt(n.a)}},hp=function(n){return{h:Ne(n.h),s:Ne(n.s),l:Ne(n.l),a:Ne(n.a,3)}},fp=function(n){return iy((t=(e=n).s,{h:e.h,s:(t*=((r=e.l)<50?r:100-r)/100)>0?2*t/(r+t)*100:0,v:r+t,a:e.a}));var e,t,r},Ds=function(n){return{h:(e=ry(n)).h,s:(i=(200-(t=e.s))*(r=e.v)/100)>0&&i<200?t*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,t,r,i},vw=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,ww=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Sw=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Cw=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Dc={string:[[function(n){var e=xw.exec(n);return e?(n=e[1]).length<=4?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:n.length===4?Ne(parseInt(n[3]+n[3],16)/255,2):1}:n.length===6||n.length===8?{r:parseInt(n.substr(0,2),16),g:parseInt(n.substr(2,2),16),b:parseInt(n.substr(4,2),16),a:n.length===8?Ne(parseInt(n.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(n){var e=Sw.exec(n)||Cw.exec(n);return e?e[2]!==e[4]||e[4]!==e[6]?null:up({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(n){var e=vw.exec(n)||ww.exec(n);if(!e)return null;var t,r,i=cp({h:(t=e[1],r=e[2],r===void 0&&(r="deg"),Number(t)*(_w[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return fp(i)},"hsl"]],object:[[function(n){var e=n.r,t=n.g,r=n.b,i=n.a,s=i===void 0?1:i;return _n(e)&&_n(t)&&_n(r)?up({r:Number(e),g:Number(t),b:Number(r),a:Number(s)}):null},"rgb"],[function(n){var e=n.h,t=n.s,r=n.l,i=n.a,s=i===void 0?1:i;if(!_n(e)||!_n(t)||!_n(r))return null;var o=cp({h:Number(e),s:Number(t),l:Number(r),a:Number(s)});return fp(o)},"hsl"],[function(n){var e=n.h,t=n.s,r=n.v,i=n.a,s=i===void 0?1:i;if(!_n(e)||!_n(t)||!_n(r))return null;var o=function(a){return{h:ny(a.h),s:Dt(a.s,0,100),v:Dt(a.v,0,100),a:Dt(a.a)}}({h:Number(e),s:Number(t),v:Number(r),a:Number(s)});return iy(o)},"hsv"]]},dp=function(n,e){for(var t=0;t<e.length;t++){var r=e[t][0](n);if(r)return[r,e[t][1]]}return[null,void 0]},Tw=function(n){return typeof n=="string"?dp(n.trim(),Dc.string):typeof n=="object"&&n!==null?dp(n,Dc.object):[null,void 0]},lu=function(n,e){var t=Ds(n);return{h:t.h,s:Dt(t.s+100*e,0,100),l:t.l,a:t.a}},uu=function(n){return(299*n.r+587*n.g+114*n.b)/1e3/255},pp=function(n,e){var t=Ds(n);return{h:t.h,s:t.s,l:Dt(t.l+100*e,0,100),a:t.a}},Lc=function(){function n(e){this.parsed=Tw(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return n.prototype.isValid=function(){return this.parsed!==null},n.prototype.brightness=function(){return Ne(uu(this.rgba),2)},n.prototype.isDark=function(){return uu(this.rgba)<.5},n.prototype.isLight=function(){return uu(this.rgba)>=.5},n.prototype.toHex=function(){return e=au(this.rgba),t=e.r,r=e.g,i=e.b,o=(s=e.a)<1?qo(Ne(255*s)):"","#"+qo(t)+qo(r)+qo(i)+o;var e,t,r,i,s,o},n.prototype.toRgb=function(){return au(this.rgba)},n.prototype.toRgbString=function(){return e=au(this.rgba),t=e.r,r=e.g,i=e.b,(s=e.a)<1?"rgba("+t+", "+r+", "+i+", "+s+")":"rgb("+t+", "+r+", "+i+")";var e,t,r,i,s},n.prototype.toHsl=function(){return hp(Ds(this.rgba))},n.prototype.toHslString=function(){return e=hp(Ds(this.rgba)),t=e.h,r=e.s,i=e.l,(s=e.a)<1?"hsla("+t+", "+r+"%, "+i+"%, "+s+")":"hsl("+t+", "+r+"%, "+i+"%)";var e,t,r,i,s},n.prototype.toHsv=function(){return e=ry(this.rgba),{h:Ne(e.h),s:Ne(e.s),v:Ne(e.v),a:Ne(e.a,3)};var e},n.prototype.invert=function(){return sn({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},n.prototype.saturate=function(e){return e===void 0&&(e=.1),sn(lu(this.rgba,e))},n.prototype.desaturate=function(e){return e===void 0&&(e=.1),sn(lu(this.rgba,-e))},n.prototype.grayscale=function(){return sn(lu(this.rgba,-1))},n.prototype.lighten=function(e){return e===void 0&&(e=.1),sn(pp(this.rgba,e))},n.prototype.darken=function(e){return e===void 0&&(e=.1),sn(pp(this.rgba,-e))},n.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},n.prototype.alpha=function(e){return typeof e=="number"?sn({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):Ne(this.rgba.a,3);var t},n.prototype.hue=function(e){var t=Ds(this.rgba);return typeof e=="number"?sn({h:e,s:t.s,l:t.l,a:t.a}):Ne(t.h)},n.prototype.isEqual=function(e){return this.toHex()===sn(e).toHex()},n}(),sn=function(n){return n instanceof Lc?n:new Lc(n)},mp=[],kw=function(n){n.forEach(function(e){mp.indexOf(e)<0&&(e(Lc,Dc),mp.push(e))})};function bw(n,e){var t={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var i in t)r[t[i]]=i;var s={};n.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,l,u=r[this.toHex()];if(u)return u;if(o!=null&&o.closest){var c=this.toRgb(),h=1/0,f="black";if(!s.length)for(var d in t)s[d]=new n(t[d]).toRgb();for(var g in t){var p=(a=c,l=s[g],Math.pow(a.r-l.r,2)+Math.pow(a.g-l.g,2)+Math.pow(a.b-l.b,2));p<h&&(h=p,f=g)}return f}},e.string.push([function(o){var a=o.toLowerCase(),l=a==="transparent"?"#0000":t[a];return l?new n(l).toRgb():null},"name"])}kw([bw]);const Wi=class Ss{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof Ss)this._value=this._cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,e))&&(this._value=this._cloneSource(e),this._normalize(this._value))}}get value(){return this._value}_cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}_isSourceEqual(e,t){const r=typeof e;if(r!==typeof t)return!1;if(r==="number"||r==="string"||e instanceof Number)return e===t;if(Array.isArray(e)&&Array.isArray(t)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return e.length!==t.length?!1:e.every((s,o)=>s===t[o]);if(e!==null&&t!==null){const s=Object.keys(e),o=Object.keys(t);return s.length!==o.length?!1:s.every(a=>e[a]===t[a])}return e===t}toRgba(){const[e,t,r,i]=this._components;return{r:e,g:t,b:r,a:i}}toRgb(){const[e,t,r]=this._components;return{r:e,g:t,b:r}}toRgbaString(){const[e,t,r]=this.toUint8RgbArray();return`rgba(${e},${t},${r},${this.alpha})`}toUint8RgbArray(e){const[t,r,i]=this._components;return this._arrayRgb||(this._arrayRgb=[]),e||(e=this._arrayRgb),e[0]=Math.round(t*255),e[1]=Math.round(r*255),e[2]=Math.round(i*255),e}toArray(e){this._arrayRgba||(this._arrayRgba=[]),e||(e=this._arrayRgba);const[t,r,i,s]=this._components;return e[0]=t,e[1]=r,e[2]=i,e[3]=s,e}toRgbArray(e){this._arrayRgb||(this._arrayRgb=[]),e||(e=this._arrayRgb);const[t,r,i]=this._components;return e[0]=t,e[1]=r,e[2]=i,e}toNumber(){return this._int}toBgrNumber(){const[e,t,r]=this.toUint8RgbArray();return(r<<16)+(t<<8)+e}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[t,r,i,s]=Ss._temp.setValue(e)._components;return this._components[0]*=t,this._components[1]*=r,this._components[2]*=i,this._components[3]*=s,this._refreshInt(),this._value=null,this}premultiply(e,t=!0){return t&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this._refreshInt(),this._value=null,this}toPremultiplied(e,t=!0){if(e===1)return(255<<24)+this._int;if(e===0)return t?0:this._int;let r=this._int>>16&255,i=this._int>>8&255,s=this._int&255;return t&&(r=r*e+.5|0,i=i*e+.5|0,s=s*e+.5|0),(e*255<<24)+(r<<16)+(i<<8)+s}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const t=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-t.length)+t}setAlpha(e){return this._components[3]=this._clamp(e),this}_normalize(e){let t,r,i,s;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const o=e;t=(o>>16&255)/255,r=(o>>8&255)/255,i=(o&255)/255,s=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[t,r,i,s=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[t,r,i,s=255]=e,t/=255,r/=255,i/=255,s/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const a=Ss.HEX_PATTERN.exec(e);a&&(e=`#${a[2]}`)}const o=sn(e);o.isValid()&&({r:t,g:r,b:i,a:s}=o.rgba,t/=255,r/=255,i/=255)}if(t!==void 0)this._components[0]=t,this._components[1]=r,this._components[2]=i,this._components[3]=s,this._refreshInt();else throw new Error(`Unable to convert color ${e}`)}_refreshInt(){this._clamp(this._components);const[e,t,r]=this._components;this._int=(e*255<<16)+(t*255<<8)+(r*255|0)}_clamp(e,t=0,r=1){return typeof e=="number"?Math.min(Math.max(e,t),r):(e.forEach((i,s)=>{e[s]=Math.min(Math.max(i,t),r)}),e)}static isColorLike(e){return typeof e=="number"||typeof e=="string"||e instanceof Number||e instanceof Ss||Array.isArray(e)||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Float32Array||e.r!==void 0&&e.g!==void 0&&e.b!==void 0||e.r!==void 0&&e.g!==void 0&&e.b!==void 0&&e.a!==void 0||e.h!==void 0&&e.s!==void 0&&e.l!==void 0||e.h!==void 0&&e.s!==void 0&&e.l!==void 0&&e.a!==void 0||e.h!==void 0&&e.s!==void 0&&e.v!==void 0||e.h!==void 0&&e.s!==void 0&&e.v!==void 0&&e.a!==void 0}};Wi.shared=new Wi;Wi._temp=new Wi;Wi.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let ge=Wi;const Pw={cullArea:null,cullable:!1,cullableChildren:!0};let cu=0;const gp=500;function qe(...n){cu!==gp&&(cu++,cu===gp?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...n))}class pf{constructor(e,t){this._pool=[],this._count=0,this._index=0,this._classType=e,t&&this.prepopulate(t)}prepopulate(e){for(let t=0;t<e;t++)this._pool[this._index++]=new this._classType;this._count+=e}get(e){var r;let t;return this._index>0?t=this._pool[--this._index]:t=new this._classType,(r=t.init)==null||r.call(t,e),t}return(e){var t;(t=e.reset)==null||t.call(e),this._pool[this._index++]=e}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){this._pool.length=0,this._index=0}}class Aw{constructor(){this._poolsByClass=new Map}prepopulate(e,t){this.getPool(e).prepopulate(t)}get(e,t){return this.getPool(e).get(t)}return(e){this.getPool(e.constructor).return(e)}getPool(e){return this._poolsByClass.has(e)||this._poolsByClass.set(e,new pf(e)),this._poolsByClass.get(e)}stats(){const e={};return this._poolsByClass.forEach(t=>{const r=e[t._classType.name]?t._classType.name+t._classType.ID:t._classType.name;e[r]={free:t.totalFree,used:t.totalUsed,size:t.totalSize}}),e}}const An=new Aw,Ew={get isCachedAsTexture(){var n;return!!((n=this.renderGroup)!=null&&n.isCachedAsTexture)},cacheAsTexture(n){typeof n=="boolean"&&n===!1?this.disableRenderGroup():(this.enableRenderGroup(),this.renderGroup.enableCacheAsTexture(n===!0?{}:n))},updateCacheTexture(){var n;(n=this.renderGroup)==null||n.updateCacheTexture()},get cacheAsBitmap(){return this.isCachedAsTexture},set cacheAsBitmap(n){K("v8.6.0","cacheAsBitmap is deprecated, use cacheAsTexture instead."),this.cacheAsTexture(n)}};function Mw(n,e,t){const r=n.length;let i;if(e>=r||t===0)return;t=e+t>r?r-e:t;const s=r-t;for(i=e;i<s;++i)n[i]=n[i+t];n.length=s}const Rw={allowChildren:!0,removeChildren(n=0,e){var s;const t=e??this.children.length,r=t-n,i=[];if(r>0&&r<=t){for(let a=t-1;a>=n;a--){const l=this.children[a];l&&(i.push(l),l.parent=null)}Mw(this.children,n,t);const o=this.renderGroup||this.parentRenderGroup;o&&o.removeChildren(i);for(let a=0;a<i.length;++a){const l=i[a];(s=l.parentRenderLayer)==null||s.detach(l),this.emit("childRemoved",l,this,a),i[a].emit("removed",this)}return i.length>0&&this._didViewChangeTick++,i}else if(r===0&&this.children.length===0)return i;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(n){const e=this.getChildAt(n);return this.removeChild(e)},getChildAt(n){if(n<0||n>=this.children.length)throw new Error(`getChildAt: Index (${n}) does not exist.`);return this.children[n]},setChildIndex(n,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);this.getChildIndex(n),this.addChildAt(n,e)},getChildIndex(n){const e=this.children.indexOf(n);if(e===-1)throw new Error("The supplied Container must be a child of the caller");return e},addChildAt(n,e){this.allowChildren||K(ve,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:t}=this;if(e<0||e>t.length)throw new Error(`${n}addChildAt: The index ${e} supplied is out of bounds ${t.length}`);if(n.parent){const i=n.parent.children.indexOf(n);if(n.parent===this&&i===e)return n;i!==-1&&n.parent.children.splice(i,1)}e===t.length?t.push(n):t.splice(e,0,n),n.parent=this,n.didChange=!0,n._updateFlags=15;const r=this.renderGroup||this.parentRenderGroup;return r&&r.addChild(n),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",n,this,e),n.emit("added",this),n},swapChildren(n,e){if(n===e)return;const t=this.getChildIndex(n),r=this.getChildIndex(e);this.children[t]=e,this.children[r]=n;const i=this.renderGroup||this.parentRenderGroup;i&&(i.structureDidChange=!0),this._didContainerChangeTick++},removeFromParent(){var n;(n=this.parent)==null||n.removeChild(this)},reparentChild(...n){return n.length===1?this.reparentChildAt(n[0],this.children.length):(n.forEach(e=>this.reparentChildAt(e,this.children.length)),n[0])},reparentChildAt(n,e){if(n.parent===this)return this.setChildIndex(n,e),n;const t=n.worldTransform.clone();n.removeFromParent(),this.addChildAt(n,e);const r=this.worldTransform.clone();return r.invert(),t.prepend(r),n.setFromMatrix(t),n},replaceChild(n,e){n.updateLocalTransform(),this.addChildAt(e,this.getChildIndex(n)),e.setFromMatrix(n.localTransform),e.updateLocalTransform(),this.removeChild(n)}},Iw={collectRenderables(n,e,t){this.parentRenderLayer&&this.parentRenderLayer!==t||this.globalDisplayStatus<7||!this.includeInBuild||(this.sortableChildren&&this.sortChildren(),this.isSimple?this.collectRenderablesSimple(n,e,t):this.renderGroup?e.renderPipes.renderGroup.addRenderGroup(this.renderGroup,n):this.collectRenderablesWithEffects(n,e,t))},collectRenderablesSimple(n,e,t){const r=this.children,i=r.length;for(let s=0;s<i;s++)r[s].collectRenderables(n,e,t)},collectRenderablesWithEffects(n,e,t){const{renderPipes:r}=e;for(let i=0;i<this.effects.length;i++){const s=this.effects[i];r[s.pipe].push(s,this,n)}this.collectRenderablesSimple(n,e,t);for(let i=this.effects.length-1;i>=0;i--){const s=this.effects[i];r[s.pipe].pop(s,this,n)}}};class yp{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let e=0;e<this.filters.length;e++)this.filters[e].destroy();this.filters=null,this.filterArea=null}}class Fw{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(e=>{this.add({test:e.test,maskClass:e})}))}add(e){this._tests.push(e)}getMaskEffect(e){this._initialized||this.init();for(let t=0;t<this._tests.length;t++){const r=this._tests[t];if(r.test(e))return An.get(r.maskClass,e)}return e}returnMaskEffect(e){An.return(e)}}const Bc=new Fw;Wt.handleByList(ne.MaskEffect,Bc._effectClasses);const Ow={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],_markStructureAsChanged(){const n=this.renderGroup||this.parentRenderGroup;n&&(n.structureDidChange=!0)},addEffect(n){this.effects.indexOf(n)===-1&&(this.effects.push(n),this.effects.sort((t,r)=>t.priority-r.priority),this._markStructureAsChanged(),this._updateIsSimple())},removeEffect(n){const e=this.effects.indexOf(n);e!==-1&&(this.effects.splice(e,1),this._markStructureAsChanged(),this._updateIsSimple())},set mask(n){const e=this._maskEffect;(e==null?void 0:e.mask)!==n&&(e&&(this.removeEffect(e),Bc.returnMaskEffect(e),this._maskEffect=null),n!=null&&(this._maskEffect=Bc.getMaskEffect(n),this.addEffect(this._maskEffect)))},get mask(){var n;return(n=this._maskEffect)==null?void 0:n.mask},setMask(n){this._maskOptions={...this._maskOptions,...n},n.mask&&(this.mask=n.mask),this._markStructureAsChanged()},set filters(n){var s;!Array.isArray(n)&&n&&(n=[n]);const e=this._filterEffect||(this._filterEffect=new yp);n=n;const t=(n==null?void 0:n.length)>0,r=((s=e.filters)==null?void 0:s.length)>0,i=t!==r;n=Array.isArray(n)?n.slice(0):n,e.filters=Object.freeze(n),i&&(t?this.addEffect(e):(this.removeEffect(e),e.filters=n??null))},get filters(){var n;return(n=this._filterEffect)==null?void 0:n.filters},set filterArea(n){this._filterEffect||(this._filterEffect=new yp),this._filterEffect.filterArea=n},get filterArea(){var n;return(n=this._filterEffect)==null?void 0:n.filterArea}},Nw={label:null,get name(){return K(ve,"Container.name property has been removed, use Container.label instead"),this.label},set name(n){K(ve,"Container.name property has been removed, use Container.label instead"),this.label=n},getChildByName(n,e=!1){return this.getChildByLabel(n,e)},getChildByLabel(n,e=!1){const t=this.children;for(let r=0;r<t.length;r++){const i=t[r];if(i.label===n||n instanceof RegExp&&n.test(i.label))return i}if(e)for(let r=0;r<t.length;r++){const s=t[r].getChildByLabel(n,!0);if(s)return s}return null},getChildrenByLabel(n,e=!1,t=[]){const r=this.children;for(let i=0;i<r.length;i++){const s=r[i];(s.label===n||n instanceof RegExp&&n.test(s.label))&&t.push(s)}if(e)for(let i=0;i<r.length;i++)r[i].getChildrenByLabel(n,!0,t);return t}},tt=new pf(W),En=new pf(tn),zw=new W,Dw={getFastGlobalBounds(n,e){e||(e=new tn),e.clear(),this._getGlobalBoundsRecursive(!!n,e,this.parentRenderLayer),e.isValid||e.set(0,0,0,0);const t=this.renderGroup||this.parentRenderGroup;return e.applyMatrix(t.worldTransform),e},_getGlobalBoundsRecursive(n,e,t){let r=e;if(n&&this.parentRenderLayer&&this.parentRenderLayer!==t||this.localDisplayStatus!==7||!this.measurable)return;const i=!!this.effects.length;if((this.renderGroup||i)&&(r=En.get().clear()),this.boundsArea)e.addRect(this.boundsArea,this.worldTransform);else{if(this.renderPipeId){const o=this.bounds;r.addFrame(o.minX,o.minY,o.maxX,o.maxY,this.groupTransform)}const s=this.children;for(let o=0;o<s.length;o++)s[o]._getGlobalBoundsRecursive(n,r,t)}if(i){let s=!1;const o=this.renderGroup||this.parentRenderGroup;for(let a=0;a<this.effects.length;a++)this.effects[a].addBounds&&(s||(s=!0,r.applyMatrix(o.worldTransform)),this.effects[a].addBounds(r,!0));s&&r.applyMatrix(o.worldTransform.copyTo(zw).invert()),e.addBounds(r),En.return(r)}else this.renderGroup&&(e.addBounds(r,this.relativeGroupTransform),En.return(r))}};function sy(n,e,t){t.clear();let r,i;return n.parent?e?r=n.parent.worldTransform:(i=tt.get().identity(),r=mf(n,i)):r=W.IDENTITY,oy(n,t,r,e),i&&tt.return(i),t.isValid||t.set(0,0,0,0),t}function oy(n,e,t,r){var a,l;if(!n.visible||!n.measurable)return;let i;r?i=n.worldTransform:(n.updateLocalTransform(),i=tt.get(),i.appendFrom(n.localTransform,t));const s=e,o=!!n.effects.length;if(o&&(e=En.get().clear()),n.boundsArea)e.addRect(n.boundsArea,i);else{n.bounds&&(e.matrix=i,e.addBounds(n.bounds));for(let u=0;u<n.children.length;u++)oy(n.children[u],e,i,r)}if(o){for(let u=0;u<n.effects.length;u++)(l=(a=n.effects[u]).addBounds)==null||l.call(a,e);s.addBounds(e,W.IDENTITY),En.return(e)}r||tt.return(i)}function mf(n,e){const t=n.parent;return t&&(mf(t,e),t.updateLocalTransform(),e.append(t.localTransform)),e}function ay(n,e){if(n===16777215||!e)return e;if(e===16777215||!n)return n;const t=n>>16&255,r=n>>8&255,i=n&255,s=e>>16&255,o=e>>8&255,a=e&255,l=t*s/255|0,u=r*o/255|0,c=i*a/255|0;return(l<<16)+(u<<8)+c}const _p=16777215;function xp(n,e){return n===_p?e:e===_p?n:ay(n,e)}function xa(n){return((n&255)<<16)+(n&65280)+(n>>16&255)}const Lw={getGlobalAlpha(n){if(n)return this.renderGroup?this.renderGroup.worldAlpha:this.parentRenderGroup?this.parentRenderGroup.worldAlpha*this.alpha:this.alpha;let e=this.alpha,t=this.parent;for(;t;)e*=t.alpha,t=t.parent;return e},getGlobalTransform(n=new W,e){if(e)return n.copyFrom(this.worldTransform);this.updateLocalTransform();const t=mf(this,tt.get().identity());return n.appendFrom(this.localTransform,t),tt.return(t),n},getGlobalTint(n){if(n)return this.renderGroup?xa(this.renderGroup.worldColor):this.parentRenderGroup?xa(xp(this.localColor,this.parentRenderGroup.worldColor)):this.tint;let e=this.localColor,t=this.parent;for(;t;)e=xp(e,t.localColor),t=t.parent;return xa(e)}};function ly(n,e,t){return e.clear(),t||(t=W.IDENTITY),uy(n,e,t,n,!0),e.isValid||e.set(0,0,0,0),e}function uy(n,e,t,r,i){var l,u;let s;if(i)s=tt.get(),s=t.copyTo(s);else{if(!n.visible||!n.measurable)return;n.updateLocalTransform();const c=n.localTransform;s=tt.get(),s.appendFrom(c,t)}const o=e,a=!!n.effects.length;if(a&&(e=En.get().clear()),n.boundsArea)e.addRect(n.boundsArea,s);else{n.renderPipeId&&(e.matrix=s,e.addBounds(n.bounds));const c=n.children;for(let h=0;h<c.length;h++)uy(c[h],e,s,r,!1)}if(a){for(let c=0;c<n.effects.length;c++)(u=(l=n.effects[c]).addLocalBounds)==null||u.call(l,e,r);o.addBounds(e,W.IDENTITY),En.return(e)}tt.return(s)}function cy(n,e){const t=n.children;for(let r=0;r<t.length;r++){const i=t[r],s=i.uid,o=(i._didViewChangeTick&65535)<<16|i._didContainerChangeTick&65535,a=e.index;(e.data[a]!==s||e.data[a+1]!==o)&&(e.data[e.index]=s,e.data[e.index+1]=o,e.didChange=!0),e.index=a+2,i.children.length&&cy(i,e)}return e.didChange}const Bw=new W,Uw={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(n,e){const t=Math.sign(this.scale.x)||1;e!==0?this.scale.x=n/e*t:this.scale.x=t},_setHeight(n,e){const t=Math.sign(this.scale.y)||1;e!==0?this.scale.y=n/e*t:this.scale.y=t},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new tn});const n=this._localBoundsCacheData;return n.index=1,n.didChange=!1,n.data[0]!==this._didViewChangeTick&&(n.didChange=!0,n.data[0]=this._didViewChangeTick),cy(this,n),n.didChange&&ly(this,n.localBounds,Bw),n.localBounds},getBounds(n,e){return sy(this,n,e||new tn)}},Gw={_onRender:null,set onRender(n){const e=this.renderGroup||this.parentRenderGroup;if(!n){this._onRender&&(e==null||e.removeOnRender(this)),this._onRender=null;return}this._onRender||e==null||e.addOnRender(this),this._onRender=n},get onRender(){return this._onRender}},jw={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(n){this._zIndex!==n&&(this._zIndex=n,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort($w))}};function $w(n,e){return n._zIndex-e._zIndex}const Vw={getGlobalPosition(n=new Xe,e=!1){return this.parent?this.parent.toGlobal(this._position,n,e):(n.x=this._position.x,n.y=this._position.y),n},toGlobal(n,e,t=!1){const r=this.getGlobalTransform(tt.get(),t);return e=r.apply(n,e),tt.return(r),e},toLocal(n,e,t,r){e&&(n=e.toGlobal(n,t,r));const i=this.getGlobalTransform(tt.get(),r);return t=i.applyInverse(n,t),tt.return(i),t}};class hy{constructor(){this.uid=ke("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.gcTick=0}reset(){this.instructionSize=0}add(e){this.instructions[this.instructionSize++]=e}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}let Ww=0;class Hw{constructor(e){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this.textureStyle=new qa(this.textureOptions)}createTexture(e,t,r){const i=new nn({...this.textureOptions,width:e,height:t,resolution:1,antialias:r,autoGarbageCollect:!1});return new J({source:i,label:`texturePool_${Ww++}`})}getOptimalTexture(e,t,r=1,i){let s=Math.ceil(e*r-1e-6),o=Math.ceil(t*r-1e-6);s=Vi(s),o=Vi(o);const a=(s<<17)+(o<<1)+(i?1:0);this._texturePool[a]||(this._texturePool[a]=[]);let l=this._texturePool[a].pop();return l||(l=this.createTexture(s,o,i)),l.source._resolution=r,l.source.width=s/r,l.source.height=o/r,l.source.pixelWidth=s,l.source.pixelHeight=o,l.frame.x=0,l.frame.y=0,l.frame.width=e,l.frame.height=t,l.updateUvs(),this._poolKeyHash[l.uid]=a,l}getSameSizeTexture(e,t=!1){const r=e.source;return this.getOptimalTexture(e.width,e.height,r._resolution,t)}returnTexture(e,t=!1){const r=this._poolKeyHash[e.uid];t&&(e.source.style=this.textureStyle),this._texturePool[r].push(e)}clear(e){if(e=e!==!1,e)for(const t in this._texturePool){const r=this._texturePool[t];if(r)for(let i=0;i<r.length;i++)r[i].destroy(!0)}this._texturePool={}}}const oo=new Hw;class Yw{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new W,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.gcTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new hy,this._onRenderContainers=[],this.textureNeedsUpdate=!0,this.isCachedAsTexture=!1,this._matrixDirty=7}init(e){this.root=e,e._onRender&&this.addOnRender(e),e.didChange=!0;const t=e.children;for(let r=0;r<t.length;r++){const i=t[r];i._updateFlags=15,this.addChild(i)}}enableCacheAsTexture(e={}){this.textureOptions=e,this.isCachedAsTexture=!0,this.textureNeedsUpdate=!0}disableCacheAsTexture(){this.isCachedAsTexture=!1,this.texture&&(oo.returnTexture(this.texture,!0),this.texture=null)}updateCacheTexture(){this.textureNeedsUpdate=!0}reset(){this.renderGroupChildren.length=0;for(const e in this.childrenToUpdate){const t=this.childrenToUpdate[e];t.list.fill(null),t.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null,this.disableCacheAsTexture()}get localTransform(){return this.root.localTransform}addRenderGroupChild(e){e.renderGroupParent&&e.renderGroupParent._removeRenderGroupChild(e),e.renderGroupParent=this,this.renderGroupChildren.push(e)}_removeRenderGroupChild(e){const t=this.renderGroupChildren.indexOf(e);t>-1&&this.renderGroupChildren.splice(t,1),e.renderGroupParent=null}addChild(e){if(this.structureDidChange=!0,e.parentRenderGroup=this,e.updateTick=-1,e.parent===this.root?e.relativeRenderGroupDepth=1:e.relativeRenderGroupDepth=e.parent.relativeRenderGroupDepth+1,e.didChange=!0,this.onChildUpdate(e),e.renderGroup){this.addRenderGroupChild(e.renderGroup);return}e._onRender&&this.addOnRender(e);const t=e.children;for(let r=0;r<t.length;r++)this.addChild(t[r])}removeChild(e){if(this.structureDidChange=!0,e._onRender&&(e.renderGroup||this.removeOnRender(e)),e.parentRenderGroup=null,e.renderGroup){this._removeRenderGroupChild(e.renderGroup);return}const t=e.children;for(let r=0;r<t.length;r++)this.removeChild(t[r])}removeChildren(e){for(let t=0;t<e.length;t++)this.removeChild(e[t])}onChildUpdate(e){let t=this.childrenToUpdate[e.relativeRenderGroupDepth];t||(t=this.childrenToUpdate[e.relativeRenderGroupDepth]={index:0,list:[]}),t.list[t.index++]=e}updateRenderable(e){e.globalDisplayStatus<7||(this.instructionSet.renderPipes[e.renderPipeId].updateRenderable(e),e.didViewUpdate=!1)}onChildViewUpdate(e){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=e}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(e){this._onRenderContainers.push(e)}removeOnRender(e){this._onRenderContainers.splice(this._onRenderContainers.indexOf(e),1)}runOnRender(e){for(let t=0;t<this._onRenderContainers.length;t++)this._onRenderContainers[t]._onRender(e)}destroy(){this.disableCacheAsTexture(),this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(e=[]){const t=this.root.children;for(let r=0;r<t.length;r++)this._getChildren(t[r],e);return e}_getChildren(e,t=[]){if(t.push(e),e.renderGroup)return t;const r=e.children;for(let i=0;i<r.length;i++)this._getChildren(r[i],t);return t}invalidateMatrices(){this._matrixDirty=7}get inverseWorldTransform(){return this._matrixDirty&1?(this._matrixDirty&=-2,this._inverseWorldTransform||(this._inverseWorldTransform=new W),this._inverseWorldTransform.copyFrom(this.worldTransform).invert()):this._inverseWorldTransform}get textureOffsetInverseTransform(){return this._matrixDirty&2?(this._matrixDirty&=-3,this._textureOffsetInverseTransform||(this._textureOffsetInverseTransform=new W),this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x,-this._textureBounds.y)):this._textureOffsetInverseTransform}get inverseParentTextureTransform(){if(!(this._matrixDirty&4))return this._inverseParentTextureTransform;this._matrixDirty&=-5;const e=this._parentCacheAsTextureRenderGroup;return e?(this._inverseParentTextureTransform||(this._inverseParentTextureTransform=new W),this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(e.inverseWorldTransform).translate(-e._textureBounds.x,-e._textureBounds.y)):this.worldTransform}get cacheToLocalTransform(){return this._parentCacheAsTextureRenderGroup?this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform:null}}function Xw(n,e,t={}){for(const r in e)!t[r]&&e[r]!==void 0&&(n[r]=e[r])}const hu=new Be(null),Ko=new Be(null),fu=new Be(null,1,1),Qo=new Be(null),vp=1,qw=2,du=4;class ht extends gn{constructor(e={}){var t,r;super(),this.uid=ke("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.updateTick=-1,this.localTransform=new W,this.relativeGroupTransform=new W,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new Be(this,0,0),this._scale=fu,this._pivot=Ko,this._origin=Qo,this._skew=hu,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],Xw(this,e,{children:!0,parent:!0,effects:!0}),(t=e.children)==null||t.forEach(i=>this.addChild(i)),(r=e.parent)==null||r.addChild(this)}static mixin(e){K("8.8.0","Container.mixin is deprecated, please use extensions.mixin instead."),Wt.mixin(ht,e)}set _didChangeId(e){this._didViewChangeTick=e>>12&4095,this._didContainerChangeTick=e&4095}get _didChangeId(){return this._didContainerChangeTick&4095|(this._didViewChangeTick&4095)<<12}addChild(...e){if(this.allowChildren||K(ve,"addChild: Only Containers will be allowed to add children in v8.0.0"),e.length>1){for(let i=0;i<e.length;i++)this.addChild(e[i]);return e[0]}const t=e[0],r=this.renderGroup||this.parentRenderGroup;return t.parent===this?(this.children.splice(this.children.indexOf(t),1),this.children.push(t),r&&(r.structureDidChange=!0),t):(t.parent&&t.parent.removeChild(t),this.children.push(t),this.sortableChildren&&(this.sortDirty=!0),t.parent=this,t.didChange=!0,t._updateFlags=15,r&&r.addChild(t),this.emit("childAdded",t,this,this.children.length-1),t.emit("added",this),this._didViewChangeTick++,t._zIndex!==0&&t.depthOfChildModified(),t)}removeChild(...e){if(e.length>1){for(let i=0;i<e.length;i++)this.removeChild(e[i]);return e[0]}const t=e[0],r=this.children.indexOf(t);return r>-1&&(this._didViewChangeTick++,this.children.splice(r,1),this.renderGroup?this.renderGroup.removeChild(t):this.parentRenderGroup&&this.parentRenderGroup.removeChild(t),t.parentRenderLayer&&t.parentRenderLayer.detach(t),t.parent=null,this.emit("childRemoved",t,this,r),t.emit("removed",this)),t}_onUpdate(e){e&&e===this._skew&&this._updateSkew(),this._didContainerChangeTick++,!this.didChange&&(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(e){!!this.renderGroup!==e&&(e?this.enableRenderGroup():this.disableRenderGroup())}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const e=this.parentRenderGroup;e==null||e.removeChild(this),this.renderGroup=An.get(Yw,this),this.groupTransform=W.IDENTITY,e==null||e.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;const e=this.parentRenderGroup;e==null||e.removeChild(this),An.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,e==null||e.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new W),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(e){this._position.x=e}get y(){return this._position.y}set y(e){this._position.y=e}get position(){return this._position}set position(e){this._position.copyFrom(e)}get rotation(){return this._rotation}set rotation(e){this._rotation!==e&&(this._rotation=e,this._onUpdate(this._skew))}get angle(){return this.rotation*uw}set angle(e){this.rotation=e*cw}get pivot(){return this._pivot===Ko&&(this._pivot=new Be(this,0,0)),this._pivot}set pivot(e){this._pivot===Ko&&(this._pivot=new Be(this,0,0),this._origin!==Qo&&qe("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof e=="number"?this._pivot.set(e):this._pivot.copyFrom(e)}get skew(){return this._skew===hu&&(this._skew=new Be(this,0,0)),this._skew}set skew(e){this._skew===hu&&(this._skew=new Be(this,0,0)),this._skew.copyFrom(e)}get scale(){return this._scale===fu&&(this._scale=new Be(this,1,1)),this._scale}set scale(e){this._scale===fu&&(this._scale=new Be(this,0,0)),typeof e=="string"&&(e=parseFloat(e)),typeof e=="number"?this._scale.set(e):this._scale.copyFrom(e)}get origin(){return this._origin===Qo&&(this._origin=new Be(this,0,0)),this._origin}set origin(e){this._origin===Qo&&(this._origin=new Be(this,0,0),this._pivot!==Ko&&qe("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof e=="number"?this._origin.set(e):this._origin.copyFrom(e)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(e){const t=this.getLocalBounds().width;this._setWidth(e,t)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(e){const t=this.getLocalBounds().height;this._setHeight(e,t)}getSize(e){e||(e={});const t=this.getLocalBounds();return e.width=Math.abs(this.scale.x*t.width),e.height=Math.abs(this.scale.y*t.height),e}setSize(e,t){const r=this.getLocalBounds();typeof e=="object"?(t=e.height??e.width,e=e.width):t??(t=e),e!==void 0&&this._setWidth(e,r.width),t!==void 0&&this._setHeight(t,r.height)}_updateSkew(){const e=this._rotation,t=this._skew;this._cx=Math.cos(e+t._y),this._sx=Math.sin(e+t._y),this._cy=-Math.sin(e-t._x),this._sy=Math.cos(e-t._x)}updateTransform(e){return this.position.set(typeof e.x=="number"?e.x:this.position.x,typeof e.y=="number"?e.y:this.position.y),this.scale.set(typeof e.scaleX=="number"?e.scaleX||1:this.scale.x,typeof e.scaleY=="number"?e.scaleY||1:this.scale.y),this.rotation=typeof e.rotation=="number"?e.rotation:this.rotation,this.skew.set(typeof e.skewX=="number"?e.skewX:this.skew.x,typeof e.skewY=="number"?e.skewY:this.skew.y),this.pivot.set(typeof e.pivotX=="number"?e.pivotX:this.pivot.x,typeof e.pivotY=="number"?e.pivotY:this.pivot.y),this.origin.set(typeof e.originX=="number"?e.originX:this.origin.x,typeof e.originY=="number"?e.originY:this.origin.y),this}setFromMatrix(e){e.decompose(this)}updateLocalTransform(){const e=this._didContainerChangeTick;if(this._didLocalTransformChangeId===e)return;this._didLocalTransformChangeId=e;const t=this.localTransform,r=this._scale,i=this._pivot,s=this._origin,o=this._position,a=r._x,l=r._y,u=i._x,c=i._y,h=-s._x,f=-s._y;t.a=this._cx*a,t.b=this._sx*a,t.c=this._cy*l,t.d=this._sy*l,t.tx=o._x-(u*t.a+c*t.c)+(h*t.a+f*t.c)-h,t.ty=o._y-(u*t.b+c*t.d)+(h*t.b+f*t.d)-f}set alpha(e){e!==this.localAlpha&&(this.localAlpha=e,this._updateFlags|=vp,this._onUpdate())}get alpha(){return this.localAlpha}set tint(e){const r=ge.shared.setValue(e??16777215).toBgrNumber();r!==this.localColor&&(this.localColor=r,this._updateFlags|=vp,this._onUpdate())}get tint(){return xa(this.localColor)}set blendMode(e){this.localBlendMode!==e&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=qw,this.localBlendMode=e,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(e){const t=e?2:0;(this.localDisplayStatus&2)!==t&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=du,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(e){const t=e?0:4;(this.localDisplayStatus&4)!==t&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=du,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(e){const t=e?1:0;(this.localDisplayStatus&1)!==t&&(this._updateFlags|=du,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(e=!1){var i;if(this.destroyed)return;this.destroyed=!0;let t;if(this.children.length&&(t=this.removeChildren(0,this.children.length)),this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._origin=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),(typeof e=="boolean"?e:e==null?void 0:e.children)&&t)for(let s=0;s<t.length;++s)t[s].destroy(e);(i=this.renderGroup)==null||i.destroy(),this.renderGroup=null}}Wt.mixin(ht,Rw,Dw,Vw,Gw,Uw,Ow,Nw,jw,Pw,Ew,Lw,Iw);class gf extends ht{constructor(e){super(e),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=-1,this._gpuData=Object.create(null),this._bounds=new tn(0,1,0,0),this._boundsDirty=!0}get bounds(){return this._boundsDirty?(this.updateBounds(),this._boundsDirty=!1,this._bounds):this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(e){this._roundPixels=e?1:0}containsPoint(e){const t=this.bounds,{x:r,y:i}=e;return r>=t.minX&&r<=t.maxX&&i>=t.minY&&i<=t.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const e=this.renderGroup||this.parentRenderGroup;e&&e.onChildViewUpdate(this)}destroy(e){var t,r;super.destroy(e),this._bounds=null;for(const i in this._gpuData)(r=(t=this._gpuData[i]).destroy)==null||r.call(t);this._gpuData=null}collectRenderablesSimple(e,t,r){const{renderPipes:i}=t;i.blendMode.setBlendMode(this,this.groupBlendMode,e),i[this.renderPipeId].addRenderable(this,e),this.didViewUpdate=!1;const o=this.children,a=o.length;for(let l=0;l<a;l++)o[l].collectRenderables(e,t,r)}}class Hi extends gf{constructor(e=J.EMPTY){e instanceof J&&(e={texture:e});const{texture:t=J.EMPTY,anchor:r,roundPixels:i,width:s,height:o,...a}=e;super({label:"Sprite",...a}),this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new Be({_onUpdate:()=>{this.onViewUpdate()}}),r?this.anchor=r:t.defaultAnchor&&(this.anchor=t.defaultAnchor),this.texture=t,this.allowChildren=!1,this.roundPixels=i??!1,s!==void 0&&(this.width=s),o!==void 0&&(this.height=o)}static from(e,t=!1){return e instanceof J?new Hi(e):new Hi(J.from(e,t))}set texture(e){e||(e=J.EMPTY);const t=this._texture;t!==e&&(t&&t.dynamic&&t.off("update",this.onViewUpdate,this),e.dynamic&&e.on("update",this.onViewUpdate,this),this._texture=e,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get visualBounds(){return yw(this._visualBounds,this._anchor,this._texture),this._visualBounds}get sourceBounds(){return K("8.6.1","Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){const e=this._anchor,t=this._texture,r=this._bounds,{width:i,height:s}=t.orig;r.minX=-e._x*i,r.maxX=r.minX+i,r.minY=-e._y*s,r.maxY=r.minY+s}destroy(e=!1){if(super.destroy(e),typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.textureSource;this._texture.destroy(r)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null,this._gpuData=null}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this._setWidth(e,this._texture.orig.width),this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this._setHeight(e,this._texture.orig.height),this._height=e}getSize(e){return e||(e={}),e.width=Math.abs(this.scale.x)*this._texture.orig.width,e.height=Math.abs(this.scale.y)*this._texture.orig.height,e}setSize(e,t){typeof e=="object"?(t=e.height??e.width,e=e.width):t??(t=e),e!==void 0&&this._setWidth(e,this._texture.orig.width),t!==void 0&&this._setHeight(t,this._texture.orig.height)}}const Kw=new tn;function fy(n,e,t){const r=Kw;n.measurable=!0,sy(n,t,r),e.addBoundsMask(r),n.measurable=!1}function dy(n,e,t){const r=En.get();n.measurable=!0;const i=tt.get().identity(),s=py(n,t,i);ly(n,r,s),n.measurable=!1,e.addBoundsMask(r),tt.return(i),En.return(r)}function py(n,e,t){return n?(n!==e&&(py(n.parent,e,t),n.updateLocalTransform(),t.append(n.localTransform)),t):(qe("Mask bounds, renderable is not inside the root container"),t)}class my{constructor(e){this.priority=0,this.inverse=!1,this.pipe="alphaMask",e!=null&&e.mask&&this.init(e.mask)}init(e){this.mask=e,this.renderMaskToTexture=!(e instanceof Hi),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask=null}addBounds(e,t){this.inverse||fy(this.mask,e,t)}addLocalBounds(e,t){dy(this.mask,e,t)}containsPoint(e,t){const r=this.mask;return t(r,e)}destroy(){this.reset()}static test(e){return e instanceof Hi}}my.extension=ne.MaskEffect;class gy{constructor(e){this.priority=0,this.pipe="colorMask",e!=null&&e.mask&&this.init(e.mask)}init(e){this.mask=e}destroy(){}static test(e){return typeof e=="number"}}gy.extension=ne.MaskEffect;class yy{constructor(e){this.priority=0,this.pipe="stencilMask",e!=null&&e.mask&&this.init(e.mask)}init(e){this.mask=e,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null}addBounds(e,t){fy(this.mask,e,t)}addLocalBounds(e,t){dy(this.mask,e,t)}containsPoint(e,t){const r=this.mask;return t(r,e)}destroy(){this.reset()}static test(e){return e instanceof ht}}yy.extension=ne.MaskEffect;const Qw={createCanvas:(n,e)=>{const t=document.createElement("canvas");return t.width=n,t.height=e,t},createImage:()=>new Image,getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(n,e)=>fetch(n,e),parseXML:n=>new DOMParser().parseFromString(n,"text/xml")};let wp=Qw;const kt={get(){return wp},set(n){wp=n}};class _y extends nn{constructor(e){e.resource||(e.resource=kt.get().createCanvas()),e.width||(e.width=e.resource.width,e.autoDensity||(e.width/=e.resolution)),e.height||(e.height=e.resource.height,e.autoDensity||(e.height/=e.resolution)),super(e),this.uploadMethodId="image",this.autoDensity=e.autoDensity,this.resizeCanvas(),this.transparent=!!e.transparent}resizeCanvas(){this.autoDensity&&"style"in this.resource&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(e=this.width,t=this.height,r=this._resolution){const i=super.resize(e,t,r);return i&&this.resizeCanvas(),i}static test(e){return globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&e instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}}_y.extension=ne.TextureSource;class Ka extends nn{constructor(e){super(e),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(e){return globalThis.HTMLImageElement&&e instanceof HTMLImageElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap||globalThis.VideoFrame&&e instanceof VideoFrame}}Ka.extension=ne.TextureSource;var Uc=(n=>(n[n.INTERACTION=50]="INTERACTION",n[n.HIGH=25]="HIGH",n[n.NORMAL=0]="NORMAL",n[n.LOW=-25]="LOW",n[n.UTILITY=-50]="UTILITY",n))(Uc||{});class pu{constructor(e,t=null,r=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=e,this._context=t,this.priority=r,this._once=i}match(e,t=null){return this._fn===e&&this._context===t}emit(e){this._fn&&(this._context?this._fn.call(this._context,e):this._fn(e));const t=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),t}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const t=this.next;return this.next=e?null:t,this.previous=null,t}}const xy=class yt{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new pu(null,null,1/0),this.deltaMS=1/yt.targetFPMS,this.elapsedMS=1/yt.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,t,r=Uc.NORMAL){return this._addListener(new pu(e,t,r))}addOnce(e,t,r=Uc.NORMAL){return this._addListener(new pu(e,t,r,!0))}_addListener(e){let t=this._head.next,r=this._head;if(!t)e.connect(r);else{for(;t;){if(e.priority>t.priority){e.connect(r);break}r=t,t=t.next}e.previous||e.connect(r)}return this._startIfPossible(),this}remove(e,t){let r=this._head.next;for(;r;)r.match(e,t)?r=r.destroy():r=r.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,t=this._head;for(;t=t.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let t;if(e>this.lastTime){if(t=this.elapsedMS=e-this.lastTime,t>this._maxElapsedMS&&(t=this._maxElapsedMS),t*=this.speed,this._minElapsedMS){const s=e-this._lastFrame|0;if(s<this._minElapsedMS)return;this._lastFrame=e-s%this._minElapsedMS}this.deltaMS=t,this.deltaTime=this.deltaMS*yt.targetFPMS;const r=this._head;let i=r.next;for(;i;)i=i.emit(this);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const t=Math.min(this.maxFPS,e),r=Math.min(Math.max(0,t)/1e3,yt.targetFPMS);this._maxElapsedMS=1/r}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const t=Math.max(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}}static get shared(){if(!yt._shared){const e=yt._shared=new yt;e.autoStart=!0,e._protected=!0}return yt._shared}static get system(){if(!yt._system){const e=yt._system=new yt;e.autoStart=!0,e._protected=!0}return yt._system}};xy.targetFPMS=.06;let Zo=xy,mu;async function Zw(){return mu??(mu=(async()=>{var o;const e=kt.get().createCanvas(1,1).getContext("webgl");if(!e)return"premultiply-alpha-on-upload";const t=await new Promise(a=>{const l=document.createElement("video");l.onloadeddata=()=>a(l),l.onerror=()=>a(null),l.autoplay=!1,l.crossOrigin="anonymous",l.preload="auto",l.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",l.load()});if(!t)return"premultiply-alpha-on-upload";const r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r);const i=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,i),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t);const s=new Uint8Array(4);return e.readPixels(0,0,1,1,e.RGBA,e.UNSIGNED_BYTE,s),e.deleteFramebuffer(i),e.deleteTexture(r),(o=e.getExtension("WEBGL_lose_context"))==null||o.loseContext(),s[0]<=s[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),mu}const Tl=class vy extends nn{constructor(e){super(e),this.isReady=!1,this.uploadMethodId="video",e={...vy.defaultOptions,...e},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this.alphaMode=e.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),e.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const e=Zo.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const e=this.resource,t=this.options;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(t.preload||e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlayThrough),e.addEventListener("error",this._onError,!0)),this.alphaMode=await Zw(),this._load=new Promise((r,i)=>{this.isValid?r(this):(this._resolve=r,this._reject=i,t.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${t.preloadTimeoutMs}ms`))})),e.load())}),this._load}_onError(e){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.resource;return!e.paused&&!e.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const e=this.resource;this.isValid&&(this.isReady=!0,this.resize(e.videoWidth,e.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const e=this.resource;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlayThrough),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(Zo.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Zo.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Zo.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement}};Tl.extension=ne.TextureSource;Tl.defaultOptions={...nn.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};Tl.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let Jw=Tl;const ui=(n,e,t=!1)=>(Array.isArray(n)||(n=[n]),e?n.map(r=>typeof r=="string"||t?e(r):r):n);class eS{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const t=this._cache.get(e);return t||qe(`[Assets] Asset id ${e} was not found in the Cache`),t}set(e,t){const r=ui(e);let i;for(let l=0;l<this.parsers.length;l++){const u=this.parsers[l];if(u.test(t)){i=u.getCacheableAssets(r,t);break}}const s=new Map(Object.entries(i||{}));i||r.forEach(l=>{s.set(l,t)});const o=[...s.keys()],a={cacheKeys:o,keys:r};r.forEach(l=>{this._cacheMap.set(l,a)}),o.forEach(l=>{const u=i?i[l]:t;this._cache.has(l)&&this._cache.get(l)!==u&&qe("[Cache] already has key:",l),this._cache.set(l,s.get(l))})}remove(e){if(!this._cacheMap.has(e)){qe(`[Assets] Asset id ${e} was not found in the Cache`);return}const t=this._cacheMap.get(e);t.cacheKeys.forEach(i=>{this._cache.delete(i)}),t.keys.forEach(i=>{this._cacheMap.delete(i)})}get parsers(){return this._parsers}}const ci=new eS,Gc=[];Wt.handleByList(ne.TextureSource,Gc);function wy(n={}){const e=n&&n.resource,t=e?n.resource:n,r=e?n:{resource:n};for(let i=0;i<Gc.length;i++){const s=Gc[i];if(s.test(t))return new s(r)}throw new Error(`Could not find a source type for resource: ${r.resource}`)}function tS(n={},e=!1){const t=n&&n.resource,r=t?n.resource:n,i=t?n:{resource:n};if(!e&&ci.has(r))return ci.get(r);const s=new J({source:wy(i)});return s.on("destroy",()=>{ci.has(r)&&ci.remove(r)}),e||ci.set(r,s),s}function nS(n,e=!1){return typeof n=="string"?ci.get(n):n instanceof nn?new J({source:n}):tS(n,e)}J.from=nS;nn.from=wy;Wt.add(my,gy,yy,Jw,Ka,_y,df);var Sy=(n=>(n[n.Low=0]="Low",n[n.Normal=1]="Normal",n[n.High=2]="High",n))(Sy||{});function Yt(n){if(typeof n!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(n)}`)}function ds(n){return n.split("?")[0].split("#")[0]}function rS(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function iS(n,e,t){return n.replace(new RegExp(rS(e),"g"),t)}function sS(n,e){let t="",r=0,i=-1,s=0,o=-1;for(let a=0;a<=n.length;++a){if(a<n.length)o=n.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(t.length<2||r!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){const l=t.lastIndexOf("/");if(l!==t.length-1){l===-1?(t="",r=0):(t=t.slice(0,l),r=t.length-1-t.lastIndexOf("/")),i=a,s=0;continue}}else if(t.length===2||t.length===1){t="",r=0,i=a,s=0;continue}}}else t.length>0?t+=`/${n.slice(i+1,a)}`:t=n.slice(i+1,a),r=a-i-1;i=a,s=0}else o===46&&s!==-1?++s:s=-1}return t}const ao={toPosix(n){return iS(n,"\\","/")},isUrl(n){return/^https?:/.test(this.toPosix(n))},isDataUrl(n){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(n)},isBlobUrl(n){return n.startsWith("blob:")},hasProtocol(n){return/^[^/:]+:/.test(this.toPosix(n))},getProtocol(n){Yt(n),n=this.toPosix(n);const e=/^file:\/\/\//.exec(n);if(e)return e[0];const t=/^[^/:]+:\/{0,2}/.exec(n);return t?t[0]:""},toAbsolute(n,e,t){if(Yt(n),this.isDataUrl(n)||this.isBlobUrl(n))return n;const r=ds(this.toPosix(e??kt.get().getBaseUrl())),i=ds(this.toPosix(t??this.rootname(r)));return n=this.toPosix(n),n.startsWith("/")?ao.join(i,n.slice(1)):this.isAbsolute(n)?n:this.join(r,n)},normalize(n){if(Yt(n),n.length===0)return".";if(this.isDataUrl(n)||this.isBlobUrl(n))return n;n=this.toPosix(n);let e="";const t=n.startsWith("/");this.hasProtocol(n)&&(e=this.rootname(n),n=n.slice(e.length));const r=n.endsWith("/");return n=sS(n),n.length>0&&r&&(n+="/"),t?`/${n}`:e+n},isAbsolute(n){return Yt(n),n=this.toPosix(n),this.hasProtocol(n)?!0:n.startsWith("/")},join(...n){if(n.length===0)return".";let e;for(let t=0;t<n.length;++t){const r=n[t];if(Yt(r),r.length>0)if(e===void 0)e=r;else{const i=n[t-1]??"";this.joinExtensions.includes(this.extname(i).toLowerCase())?e+=`/../${r}`:e+=`/${r}`}}return e===void 0?".":this.normalize(e)},dirname(n){if(Yt(n),n.length===0)return".";n=this.toPosix(n);let e=n.charCodeAt(0);const t=e===47;let r=-1,i=!0;const s=this.getProtocol(n),o=n;n=n.slice(s.length);for(let a=n.length-1;a>=1;--a)if(e=n.charCodeAt(a),e===47){if(!i){r=a;break}}else i=!1;return r===-1?t?"/":this.isUrl(o)?s+n:s:t&&r===1?"//":s+n.slice(0,r)},rootname(n){Yt(n),n=this.toPosix(n);let e="";if(n.startsWith("/")?e="/":e=this.getProtocol(n),this.isUrl(n)){const t=n.indexOf("/",e.length);t!==-1?e=n.slice(0,t):e=n,e.endsWith("/")||(e+="/")}return e},basename(n,e){Yt(n),e&&Yt(e),n=ds(this.toPosix(n));let t=0,r=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=n.length){if(e.length===n.length&&e===n)return"";let o=e.length-1,a=-1;for(s=n.length-1;s>=0;--s){const l=n.charCodeAt(s);if(l===47){if(!i){t=s+1;break}}else a===-1&&(i=!1,a=s+1),o>=0&&(l===e.charCodeAt(o)?--o===-1&&(r=s):(o=-1,r=a))}return t===r?r=a:r===-1&&(r=n.length),n.slice(t,r)}for(s=n.length-1;s>=0;--s)if(n.charCodeAt(s)===47){if(!i){t=s+1;break}}else r===-1&&(i=!1,r=s+1);return r===-1?"":n.slice(t,r)},extname(n){Yt(n),n=ds(this.toPosix(n));let e=-1,t=0,r=-1,i=!0,s=0;for(let o=n.length-1;o>=0;--o){const a=n.charCodeAt(o);if(a===47){if(!i){t=o+1;break}continue}r===-1&&(i=!1,r=o+1),a===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||r===-1||s===0||s===1&&e===r-1&&e===t+1?"":n.slice(e,r)},parse(n){Yt(n);const e={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return e;n=ds(this.toPosix(n));let t=n.charCodeAt(0);const r=this.isAbsolute(n);let i;e.root=this.rootname(n),r||this.hasProtocol(n)?i=1:i=0;let s=-1,o=0,a=-1,l=!0,u=n.length-1,c=0;for(;u>=i;--u){if(t=n.charCodeAt(u),t===47){if(!l){o=u+1;break}continue}a===-1&&(l=!1,a=u+1),t===46?s===-1?s=u:c!==1&&(c=1):s!==-1&&(c=-1)}return s===-1||a===-1||c===0||c===1&&s===a-1&&s===o+1?a!==-1&&(o===0&&r?e.base=e.name=n.slice(1,a):e.base=e.name=n.slice(o,a)):(o===0&&r?(e.name=n.slice(1,s),e.base=n.slice(1,a)):(e.name=n.slice(o,s),e.base=n.slice(o,a)),e.ext=n.slice(s,a)),e.dir=this.dirname(n),e},sep:"/",delimiter:":",joinExtensions:[".html"]};function Cy(n,e,t,r,i){const s=e[t];for(let o=0;o<s.length;o++){const a=s[o];t<e.length-1?Cy(n.replace(r[t],a),e,t+1,r,i):i.push(n.replace(r[t],a))}}function oS(n){const e=/\{(.*?)\}/g,t=n.match(e),r=[];if(t){const i=[];t.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),Cy(n,i,0,t,r)}else r.push(n);return r}const Sp=n=>!Array.isArray(n);class Ty{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,t)=>`${e}${this._bundleIdConnector}${t}`,extractAssetIdFromBundle:(e,t)=>t.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(t=>{this._preferredOrder.push(t),t.priority||(t.priority=Object.keys(t.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const t=e;this._defaultSearchParams=Object.keys(t).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(t[r])}`).join("&")}}getAlias(e){const{alias:t,src:r}=e;return ui(t||r,s=>typeof s=="string"?s:Array.isArray(s)?s.map(o=>(o==null?void 0:o.src)??o):s!=null&&s.src?s.src:s,!0)}addManifest(e){this._manifest&&qe("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(t=>{this.addBundle(t.name,t.assets)})}addBundle(e,t){const r=[];let i=t;Array.isArray(t)||(i=Object.entries(t).map(([s,o])=>typeof o=="string"||Array.isArray(o)?{alias:s,src:o}:{alias:s,...o})),i.forEach(s=>{const o=s.src,a=s.alias;let l;if(typeof a=="string"){const u=this._createBundleAssetId(e,a);r.push(u),l=[a,u]}else{const u=a.map(c=>this._createBundleAssetId(e,c));r.push(...u),l=[...a,...u]}this.add({...s,alias:l,src:o})}),this._bundles[e]=r}add(e){const t=[];Array.isArray(e)?t.push(...e):t.push(e);let r;r=s=>{this.hasKey(s)&&qe(`[Resolver] already has key: ${s} overwriting`)},ui(t).forEach(s=>{const{src:o}=s;let{data:a,format:l,loadParser:u,parser:c}=s;const h=ui(o).map(g=>typeof g=="string"?oS(g):Array.isArray(g)?g:[g]),f=this.getAlias(s);Array.isArray(f)?f.forEach(r):r(f);const d=[];h.forEach(g=>{g.forEach(p=>{let _={};if(typeof p!="object"){_.src=p;for(let y=0;y<this._parsers.length;y++){const m=this._parsers[y];if(m.test(p)){_=m.parse(p);break}}}else a=p.data??a,l=p.format??l,(p.loadParser||p.parser)&&(u=p.loadParser??u,c=p.parser??c),_={..._,...p};if(!f)throw new Error(`[Resolver] alias is undefined for this asset: ${_.src}`);_=this._buildResolvedAsset(_,{aliases:f,data:a,format:l,loadParser:u,parser:c}),d.push(_)})}),f.forEach(g=>{this._assetMap[g]=d})})}resolveBundle(e){const t=Sp(e);e=ui(e);const r={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),a={};for(const l in o){const u=o[l];a[this._extractAssetIdFromBundle(i,l)]=u}r[i]=a}}),t?r[e[0]]:r}resolveUrl(e){const t=this.resolve(e);if(typeof e!="string"){const r={};for(const i in t)r[i]=t[i].src;return r}return t.src}resolve(e){const t=Sp(e);e=ui(e);const r={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=this._getPreferredOrder(s);o==null||o.priority.forEach(a=>{o.params[a].forEach(l=>{const u=s.filter(c=>c[a]?c[a]===l:!1);u.length&&(s=u)})}),this._resolverHash[i]=s[0]}else this._resolverHash[i]=this._buildResolvedAsset({alias:[i],src:i},{});r[i]=this._resolverHash[i]}),t?r[e[0]]:r}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let t=0;t<e.length;t++){const r=e[t],i=this._preferredOrder.find(s=>s.params.format.includes(r.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const t=/\?/.test(e)?"&":"?";return`${e}${t}${this._defaultSearchParams}`}_buildResolvedAsset(e,t){const{aliases:r,data:i,loadParser:s,parser:o,format:a}=t;return(this._basePath||this._rootPath)&&(e.src=ao.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=r??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...i||{},...e.data},e.loadParser=s??e.loadParser,e.parser=o??e.parser,e.format=a??e.format??aS(e.src),e}}Ty.RETINA_PREFIX=/@([0-9\.]+)x/;function aS(n){return n.split(".").pop().split("?").shift().split("#").shift()}const Cp=(n,e)=>{const t=e.split("?")[1];return t&&(n+=`?${t}`),n},ky=class Cs{constructor(e,t){this.linkedSheets=[];let r=e;(e==null?void 0:e.source)instanceof nn&&(r={texture:e,data:t});const{texture:i,data:s,cachePrefix:o=""}=r;this.cachePrefix=o,this._texture=i instanceof J?i:null,this.textureSource=i.source,this.textures={},this.animations={},this.data=s;const a=parseFloat(s.meta.scale);a?(this.resolution=a,i.source.resolution=this.resolution):this.resolution=i.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=Cs.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let t=e;const r=Cs.BATCH_SIZE;for(;t-e<r&&t<this._frameKeys.length;){const i=this._frameKeys[t],s=this._frames[i],o=s.frame;if(o){let a=null,l=null;const u=s.trimmed!==!1&&s.sourceSize?s.sourceSize:s.frame,c=new Te(0,0,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution);s.rotated?a=new Te(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):a=new Te(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),s.trimmed!==!1&&s.spriteSourceSize&&(l=new Te(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new J({source:this.textureSource,frame:a,orig:c,trim:l,rotate:s.rotated?2:0,defaultAnchor:s.anchor,defaultBorders:s.borders,label:i.toString()})}t++}}_processAnimations(){const e=this.data.animations||{};for(const t in e){this.animations[t]=[];for(let r=0;r<e[t].length;r++){const i=e[t][r];this.animations[t].push(this.textures[i])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Cs.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Cs.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var t;for(const r in this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((t=this._texture)==null||t.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};ky.BATCH_SIZE=1e3;let Tp=ky;const lS=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function by(n,e,t){const r={};if(n.forEach(i=>{r[i]=e}),Object.keys(e.textures).forEach(i=>{r[`${e.cachePrefix}${i}`]=e.textures[i]}),!t){const i=ao.dirname(n[0]);e.linkedSheets.forEach((s,o)=>{const a=by([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0);Object.assign(r,a)})}return r}const uS={extension:ne.Asset,cache:{test:n=>n instanceof Tp,getCacheableAssets:(n,e)=>by(n,e,!1)},resolver:{extension:{type:ne.ResolveParser,name:"resolveSpritesheet"},test:n=>{const t=n.split("?")[0].split("."),r=t.pop(),i=t.pop();return r==="json"&&lS.includes(i)},parse:n=>{var t;const e=n.split(".");return{resolution:parseFloat(((t=Ty.RETINA_PREFIX.exec(n))==null?void 0:t[1])??"1"),format:e[e.length-2],src:n}}},loader:{name:"spritesheetLoader",id:"spritesheet",extension:{type:ne.LoadParser,priority:Sy.Normal,name:"spritesheetLoader"},async testParse(n,e){return ao.extname(e.src).toLowerCase()===".json"&&!!n.frames},async parse(n,e,t){var h,f;const{texture:r,imageFilename:i,textureOptions:s,cachePrefix:o}=(e==null?void 0:e.data)??{};let a=ao.dirname(e.src);a&&a.lastIndexOf("/")!==a.length-1&&(a+="/");let l;if(r instanceof J)l=r;else{const d=Cp(a+(i??n.meta.image),e.src);l=(await t.load([{src:d,data:s}]))[d]}const u=new Tp({texture:l.source,data:n,cachePrefix:o});await u.parse();const c=(h=n==null?void 0:n.meta)==null?void 0:h.related_multi_packs;if(Array.isArray(c)){const d=[];for(const p of c){if(typeof p!="string")continue;let _=a+p;(f=e.data)!=null&&f.ignoreMultiPack||(_=Cp(_,e.src),d.push(t.load({src:_,data:{textureOptions:s,ignoreMultiPack:!0}})))}const g=await Promise.all(d);u.linkedSheets=g,g.forEach(p=>{p.linkedSheets=[u].concat(u.linkedSheets.filter(_=>_!==p))})}return u},async unload(n,e,t){await t.unload(n.textureSource._sourceOrigin),n.destroy(!1)}}};Wt.add(uS);const gu=Object.create(null),kp=Object.create(null);function yf(n,e){let t=kp[n];return t===void 0&&(gu[e]===void 0&&(gu[e]=1),kp[n]=t=gu[e]++),t}let oi;function Py(){return(!oi||oi!=null&&oi.isContextLost())&&(oi=kt.get().createCanvas().getContext("webgl",{})),oi}let Jo;function cS(){if(!Jo){Jo="mediump";const n=Py();n&&n.getShaderPrecisionFormat&&(Jo=n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision?"highp":"mediump")}return Jo}function hS(n,e,t){return e?n:t?(n=n.replace("out vec4 finalColor;",""),`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${n}
        `):`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${n}
        `}function fS(n,e,t){const r=t?e.maxSupportedFragmentPrecision:e.maxSupportedVertexPrecision;if(n.substring(0,9)!=="precision"){let i=t?e.requestedFragmentPrecision:e.requestedVertexPrecision;return i==="highp"&&r!=="highp"&&(i="mediump"),`precision ${i} float;
${n}`}else if(r!=="highp"&&n.substring(0,15)==="precision highp")return n.replace("precision highp","precision mediump");return n}function dS(n,e){return e?`#version 300 es
${n}`:n}const pS={},mS={};function gS(n,{name:e="pixi-program"},t=!0){e=e.replace(/\s+/g,"-"),e+=t?"-fragment":"-vertex";const r=t?pS:mS;return r[e]?(r[e]++,e+=`-${r[e]}`):r[e]=1,n.indexOf("#define SHADER_NAME")!==-1?n:`${`#define SHADER_NAME ${e}`}
${n}`}function yS(n,e){return e?n.replace("#version 300 es",""):n}const yu={stripVersion:yS,ensurePrecision:fS,addProgramDefines:hS,setProgramName:gS,insertVersion:dS},_u=Object.create(null),Ay=class jc{constructor(e){e={...jc.defaultOptions,...e};const t=e.fragment.indexOf("#version 300 es")!==-1,r={stripVersion:t,ensurePrecision:{requestedFragmentPrecision:e.preferredFragmentPrecision,requestedVertexPrecision:e.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:cS()},setProgramName:{name:e.name},addProgramDefines:t,insertVersion:t};let i=e.fragment,s=e.vertex;Object.keys(yu).forEach(o=>{const a=r[o];i=yu[o](i,a,!0),s=yu[o](s,a,!1)}),this.fragment=i,this.vertex=s,this.transformFeedbackVaryings=e.transformFeedbackVaryings,this._key=yf(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null}static from(e){const t=`${e.vertex}:${e.fragment}`;return _u[t]||(_u[t]=new jc(e)),_u[t]}};Ay.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let pn=Ay;const bp={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function _S(n){return bp[n]??bp.float32}const xS={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function vS({source:n,entryPoint:e}){const t={},r=n.indexOf(`fn ${e}`);if(r!==-1){const i=n.indexOf("->",r);if(i!==-1){const s=n.substring(r,i),o=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let a;for(;(a=o.exec(s))!==null;){const l=xS[a[3]]??"float32";t[a[2]]={location:parseInt(a[1],10),format:l,stride:_S(l).stride,offset:0,instance:!1,start:0}}}}return t}function xu(n){var h,f;const e=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,t=/@group\((\d+)\)/,r=/@binding\((\d+)\)/,i=/var(<[^>]+>)? (\w+)/,s=/:\s*(\w+)/,o=/struct\s+(\w+)\s*{([^}]+)}/g,a=/(\w+)\s*:\s*([\w\<\>]+)/g,l=/struct\s+(\w+)/,u=(h=n.match(e))==null?void 0:h.map(d=>({group:parseInt(d.match(t)[1],10),binding:parseInt(d.match(r)[1],10),name:d.match(i)[2],isUniform:d.match(i)[1]==="<uniform>",type:d.match(s)[1]}));if(!u)return{groups:[],structs:[]};const c=((f=n.match(o))==null?void 0:f.map(d=>{const g=d.match(l)[1],p=d.match(a).reduce((_,y)=>{const[m,x]=y.split(":");return _[m.trim()]=x.trim(),_},{});return p?{name:g,members:p}:null}).filter(({name:d})=>u.some(g=>g.type===d)))??[];return{groups:u,structs:c}}var Ts=(n=>(n[n.VERTEX=1]="VERTEX",n[n.FRAGMENT=2]="FRAGMENT",n[n.COMPUTE=4]="COMPUTE",n))(Ts||{});function wS({groups:n}){const e=[];for(let t=0;t<n.length;t++){const r=n[t];e[r.group]||(e[r.group]=[]),r.isUniform?e[r.group].push({binding:r.binding,visibility:Ts.VERTEX|Ts.FRAGMENT,buffer:{type:"uniform"}}):r.type==="sampler"?e[r.group].push({binding:r.binding,visibility:Ts.FRAGMENT,sampler:{type:"filtering"}}):r.type==="texture_2d"&&e[r.group].push({binding:r.binding,visibility:Ts.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return e}function SS({groups:n}){const e=[];for(let t=0;t<n.length;t++){const r=n[t];e[r.group]||(e[r.group]={}),e[r.group][r.name]=r.binding}return e}function CS(n,e){const t=new Set,r=new Set,i=[...n.structs,...e.structs].filter(o=>t.has(o.name)?!1:(t.add(o.name),!0)),s=[...n.groups,...e.groups].filter(o=>{const a=`${o.name}-${o.binding}`;return r.has(a)?!1:(r.add(a),!0)});return{structs:i,groups:s}}const vu=Object.create(null);class Vt{constructor(e){var a,l;this._layoutKey=0,this._attributeLocationsKey=0;const{fragment:t,vertex:r,layout:i,gpuLayout:s,name:o}=e;if(this.name=o,this.fragment=t,this.vertex=r,t.source===r.source){const u=xu(t.source);this.structsAndGroups=u}else{const u=xu(r.source),c=xu(t.source);this.structsAndGroups=CS(u,c)}this.layout=i??SS(this.structsAndGroups),this.gpuLayout=s??wS(this.structsAndGroups),this.autoAssignGlobalUniforms=((a=this.layout[0])==null?void 0:a.globalUniforms)!==void 0,this.autoAssignLocalUniforms=((l=this.layout[1])==null?void 0:l.localUniforms)!==void 0,this._generateProgramKey()}_generateProgramKey(){const{vertex:e,fragment:t}=this,r=e.source+t.source+e.entryPoint+t.entryPoint;this._layoutKey=yf(r,"program")}get attributeData(){return this._attributeData??(this._attributeData=vS(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null}static from(e){const t=`${e.vertex.source}:${e.fragment.source}:${e.fragment.entryPoint}:${e.vertex.entryPoint}`;return vu[t]||(vu[t]=new Vt(e)),vu[t]}}const Ey=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>","vec2<i32>","vec3<i32>","vec4<i32>"],TS=Ey.reduce((n,e)=>(n[e]=!0,n),{});function kS(n,e){switch(n){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*e);case"vec3<f32>":return new Float32Array(3*e);case"vec4<f32>":return new Float32Array(4*e);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const My=class Ry{constructor(e,t){this._touched=0,this.uid=ke("uniform"),this._resourceType="uniformGroup",this._resourceId=ke("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,t={...Ry.defaultOptions,...t},this.uniformStructures=e;const r={};for(const i in e){const s=e[i];if(s.name=i,s.size=s.size??1,!TS[s.type])throw new Error(`Uniform type ${s.type} is not supported. Supported uniform types are: ${Ey.join(", ")}`);s.value??(s.value=kS(s.type,s.size)),r[i]=s.value}this.uniforms=r,this._dirtyId=1,this.ubo=t.ubo,this.isStatic=t.isStatic,this._signature=yf(Object.keys(r).map(i=>`${i}-${e[i].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};My.defaultOptions={ubo:!1,isStatic:!1};let Iy=My;class va{constructor(e){this.resources=Object.create(null),this._dirty=!0;let t=0;for(const r in e){const i=e[r];this.setResource(i,t++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const e=[];let t=0;for(const r in this.resources)e[t++]=this.resources[r]._resourceId;this._key=e.join("|")}setResource(e,t){var i,s;const r=this.resources[t];e!==r&&(r&&((i=e.off)==null||i.call(e,"change",this.onResourceChange,this)),(s=e.on)==null||s.call(e,"change",this.onResourceChange,this),this.resources[t]=e,this._dirty=!0)}getResource(e){return this.resources[e]}_touch(e){const t=this.resources;for(const r in t)t[r]._touched=e}destroy(){var t;const e=this.resources;for(const r in e){const i=e[r];(t=i.off)==null||t.call(i,"change",this.onResourceChange,this)}this.resources=null}onResourceChange(e){if(this._dirty=!0,e.destroyed){const t=this.resources;for(const r in t)t[r]===e&&(t[r]=null)}else this._updateKey()}}var $c=(n=>(n[n.WEBGL=1]="WEBGL",n[n.WEBGPU=2]="WEBGPU",n[n.BOTH=3]="BOTH",n))($c||{});class kl extends gn{constructor(e){super(),this.uid=ke("shader"),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[];let{gpuProgram:t,glProgram:r,groups:i,resources:s,compatibleRenderers:o,groupMap:a}=e;this.gpuProgram=t,this.glProgram=r,o===void 0&&(o=0,t&&(o|=$c.WEBGPU),r&&(o|=$c.WEBGL)),this.compatibleRenderers=o;const l={};if(!s&&!i&&(s={}),s&&i)throw new Error("[Shader] Cannot have both resources and groups");if(!t&&i&&!a)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!t&&i&&a)for(const u in a)for(const c in a[u]){const h=a[u][c];l[h]={group:u,binding:c,name:h}}else if(t&&i&&!a){const u=t.structsAndGroups.groups;a={},u.forEach(c=>{a[c.group]=a[c.group]||{},a[c.group][c.binding]=c.name,l[c.name]=c})}else if(s){i={},a={},t&&t.structsAndGroups.groups.forEach(h=>{a[h.group]=a[h.group]||{},a[h.group][h.binding]=h.name,l[h.name]=h});let u=0;for(const c in s)l[c]||(i[99]||(i[99]=new va,this._ownedBindGroups.push(i[99])),l[c]={group:99,binding:u,name:c},a[99]=a[99]||{},a[99][u]=c,u++);for(const c in s){const h=c;let f=s[c];!f.source&&!f._resourceType&&(f=new Iy(f));const d=l[h];d&&(i[d.group]||(i[d.group]=new va,this._ownedBindGroups.push(i[d.group])),i[d.group].setResource(f,d.binding))}}this.groups=i,this._uniformBindMap=a,this.resources=this._buildResourceAccessor(i,l)}addResource(e,t,r){var i,s;(i=this._uniformBindMap)[t]||(i[t]={}),(s=this._uniformBindMap[t])[r]||(s[r]=e),this.groups[t]||(this.groups[t]=new va,this._ownedBindGroups.push(this.groups[t]))}_buildResourceAccessor(e,t){const r={};for(const i in t){const s=t[i];Object.defineProperty(r,s.name,{get(){return e[s.group].getResource(s.binding)},set(o){e[s.group].setResource(o,s.binding)}})}return r}destroy(e=!1){var t,r;this.emit("destroy",this),e&&((t=this.gpuProgram)==null||t.destroy(),(r=this.glProgram)==null||r.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(i=>{i.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null}static from(e){const{gpu:t,gl:r,...i}=e;let s,o;return t&&(s=Vt.from(t)),r&&(o=pn.from(r)),new kl({gpuProgram:s,glProgram:o,...i})}}const bS={normal:0,add:1,multiply:2,screen:3,overlay:4,erase:5,"normal-npm":6,"add-npm":7,"screen-npm":8,min:9,max:10},wu=0,Su=1,Cu=2,Tu=3,ku=4,bu=5,Vc=class Fy{constructor(){this.data=0,this.blendMode="normal",this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<wu)}set blend(e){!!(this.data&1<<wu)!==e&&(this.data^=1<<wu)}get offsets(){return!!(this.data&1<<Su)}set offsets(e){!!(this.data&1<<Su)!==e&&(this.data^=1<<Su)}set cullMode(e){if(e==="none"){this.culling=!1;return}this.culling=!0,this.clockwiseFrontFace=e==="front"}get cullMode(){return this.culling?this.clockwiseFrontFace?"front":"back":"none"}get culling(){return!!(this.data&1<<Cu)}set culling(e){!!(this.data&1<<Cu)!==e&&(this.data^=1<<Cu)}get depthTest(){return!!(this.data&1<<Tu)}set depthTest(e){!!(this.data&1<<Tu)!==e&&(this.data^=1<<Tu)}get depthMask(){return!!(this.data&1<<bu)}set depthMask(e){!!(this.data&1<<bu)!==e&&(this.data^=1<<bu)}get clockwiseFrontFace(){return!!(this.data&1<<ku)}set clockwiseFrontFace(e){!!(this.data&1<<ku)!==e&&(this.data^=1<<ku)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!=="none",this._blendMode=e,this._blendModeId=bS[e]||0}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[pixi.js/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const e=new Fy;return e.depthTest=!1,e.blend=!0,e}};Vc.default2d=Vc.for2d();let PS=Vc;const Oy=class Wc extends kl{constructor(e){e={...Wc.defaultOptions,...e},super(e),this.enabled=!0,this._state=PS.for2d(),this.blendMode=e.blendMode,this.padding=e.padding,typeof e.antialias=="boolean"?this.antialias=e.antialias?"on":"off":this.antialias=e.antialias,this.resolution=e.resolution,this.blendRequired=e.blendRequired,this.clipToViewport=e.clipToViewport,this.addResource("uTexture",0,1)}apply(e,t,r,i){e.applyFilter(this,t,r,i)}get blendMode(){return this._state.blendMode}set blendMode(e){this._state.blendMode=e}static from(e){const{gpu:t,gl:r,...i}=e;let s,o;return t&&(s=Vt.from(t)),r&&(o=pn.from(r)),new Wc({gpuProgram:s,glProgram:o,...i})}};Oy.defaultOptions={blendMode:"normal",resolution:1,padding:0,antialias:"off",blendRequired:!1,clipToViewport:!0};let Qr=Oy;const Hc=[];Wt.handleByNamedList(ne.Environment,Hc);async function AS(n){if(!n)for(let e=0;e<Hc.length;e++){const t=Hc[e];if(t.value.test()){await t.value.load();return}}}let ps;function ES(){if(typeof ps=="boolean")return ps;try{ps=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{ps=!1}return ps}function Pp(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let s=Ny(n,0,i,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,u;if(r&&(s=OS(n,e,s,t)),n.length>80*t){a=n[0],l=n[1];let c=a,h=l;for(let f=t;f<i;f+=t){const d=n[f],g=n[f+1];d<a&&(a=d),g<l&&(l=g),d>c&&(c=d),g>h&&(h=g)}u=Math.max(c-a,h-l),u=u!==0?32767/u:0}return lo(s,o,t,a,l,u,0),o}function Ny(n,e,t,r,i){let s;if(i===WS(n,e,t,r)>0)for(let o=e;o<t;o+=r)s=Ap(o/r|0,n[o],n[o+1],s);else for(let o=t-r;o>=e;o-=r)s=Ap(o/r|0,n[o],n[o+1],s);return s&&Yi(s,s.next)&&(co(s),s=s.next),s}function Zr(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(Yi(t,t.next)||de(t.prev,t,t.next)===0)){if(co(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function lo(n,e,t,r,i,s,o){if(!n)return;!o&&s&&BS(n,r,i,s);let a=n;for(;n.prev!==n.next;){const l=n.prev,u=n.next;if(s?RS(n,r,i,s):MS(n)){e.push(l.i,n.i,u.i),co(n),n=u.next,a=u.next;continue}if(n=u,n===a){o?o===1?(n=IS(Zr(n),e),lo(n,e,t,r,i,s,2)):o===2&&FS(n,e,t,r,i,s):lo(Zr(n),e,t,r,i,s,1);break}}}function MS(n){const e=n.prev,t=n,r=n.next;if(de(e,t,r)>=0)return!1;const i=e.x,s=t.x,o=r.x,a=e.y,l=t.y,u=r.y,c=Math.min(i,s,o),h=Math.min(a,l,u),f=Math.max(i,s,o),d=Math.max(a,l,u);let g=r.next;for(;g!==e;){if(g.x>=c&&g.x<=f&&g.y>=h&&g.y<=d&&ks(i,a,s,l,o,u,g.x,g.y)&&de(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function RS(n,e,t,r){const i=n.prev,s=n,o=n.next;if(de(i,s,o)>=0)return!1;const a=i.x,l=s.x,u=o.x,c=i.y,h=s.y,f=o.y,d=Math.min(a,l,u),g=Math.min(c,h,f),p=Math.max(a,l,u),_=Math.max(c,h,f),y=Yc(d,g,e,t,r),m=Yc(p,_,e,t,r);let x=n.prevZ,v=n.nextZ;for(;x&&x.z>=y&&v&&v.z<=m;){if(x.x>=d&&x.x<=p&&x.y>=g&&x.y<=_&&x!==i&&x!==o&&ks(a,c,l,h,u,f,x.x,x.y)&&de(x.prev,x,x.next)>=0||(x=x.prevZ,v.x>=d&&v.x<=p&&v.y>=g&&v.y<=_&&v!==i&&v!==o&&ks(a,c,l,h,u,f,v.x,v.y)&&de(v.prev,v,v.next)>=0))return!1;v=v.nextZ}for(;x&&x.z>=y;){if(x.x>=d&&x.x<=p&&x.y>=g&&x.y<=_&&x!==i&&x!==o&&ks(a,c,l,h,u,f,x.x,x.y)&&de(x.prev,x,x.next)>=0)return!1;x=x.prevZ}for(;v&&v.z<=m;){if(v.x>=d&&v.x<=p&&v.y>=g&&v.y<=_&&v!==i&&v!==o&&ks(a,c,l,h,u,f,v.x,v.y)&&de(v.prev,v,v.next)>=0)return!1;v=v.nextZ}return!0}function IS(n,e){let t=n;do{const r=t.prev,i=t.next.next;!Yi(r,i)&&Dy(r,t,t.next,i)&&uo(r,i)&&uo(i,r)&&(e.push(r.i,t.i,i.i),co(t),co(t.next),t=n=i),t=t.next}while(t!==n);return Zr(t)}function FS(n,e,t,r,i,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&jS(o,a)){let l=Ly(o,a);o=Zr(o,o.next),l=Zr(l,l.next),lo(o,e,t,r,i,s,0),lo(l,e,t,r,i,s,0);return}a=a.next}o=o.next}while(o!==n)}function OS(n,e,t,r){const i=[];for(let s=0,o=e.length;s<o;s++){const a=e[s]*r,l=s<o-1?e[s+1]*r:n.length,u=Ny(n,a,l,r,!1);u===u.next&&(u.steiner=!0),i.push(GS(u))}i.sort(NS);for(let s=0;s<i.length;s++)t=zS(i[s],t);return t}function NS(n,e){let t=n.x-e.x;if(t===0&&(t=n.y-e.y,t===0)){const r=(n.next.y-n.y)/(n.next.x-n.x),i=(e.next.y-e.y)/(e.next.x-e.x);t=r-i}return t}function zS(n,e){const t=DS(n,e);if(!t)return e;const r=Ly(t,n);return Zr(r,r.next),Zr(t,t.next)}function DS(n,e){let t=e;const r=n.x,i=n.y;let s=-1/0,o;if(Yi(n,t))return t;do{if(Yi(n,t.next))return t.next;if(i<=t.y&&i>=t.next.y&&t.next.y!==t.y){const h=t.x+(i-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(h<=r&&h>s&&(s=h,o=t.x<t.next.x?t:t.next,h===r))return o}t=t.next}while(t!==e);if(!o)return null;const a=o,l=o.x,u=o.y;let c=1/0;t=o;do{if(r>=t.x&&t.x>=l&&r!==t.x&&zy(i<u?r:s,i,l,u,i<u?s:r,i,t.x,t.y)){const h=Math.abs(i-t.y)/(r-t.x);uo(t,n)&&(h<c||h===c&&(t.x>o.x||t.x===o.x&&LS(o,t)))&&(o=t,c=h)}t=t.next}while(t!==a);return o}function LS(n,e){return de(n.prev,n,e.prev)<0&&de(e.next,n,n.next)<0}function BS(n,e,t,r){let i=n;do i.z===0&&(i.z=Yc(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,US(i)}function US(n){let e,t=1;do{let r=n,i;n=null;let s=null;for(e=0;r;){e++;let o=r,a=0;for(let u=0;u<t&&(a++,o=o.nextZ,!!o);u++);let l=t;for(;a>0||l>0&&o;)a!==0&&(l===0||!o||r.z<=o.z)?(i=r,r=r.nextZ,a--):(i=o,o=o.nextZ,l--),s?s.nextZ=i:n=i,i.prevZ=s,s=i;r=o}s.nextZ=null,t*=2}while(e>1);return n}function Yc(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function GS(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function zy(n,e,t,r,i,s,o,a){return(i-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(r-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(i-o)*(r-a)}function ks(n,e,t,r,i,s,o,a){return!(n===o&&e===a)&&zy(n,e,t,r,i,s,o,a)}function jS(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!$S(n,e)&&(uo(n,e)&&uo(e,n)&&VS(n,e)&&(de(n.prev,n,e.prev)||de(n,e.prev,e))||Yi(n,e)&&de(n.prev,n,n.next)>0&&de(e.prev,e,e.next)>0)}function de(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Yi(n,e){return n.x===e.x&&n.y===e.y}function Dy(n,e,t,r){const i=ta(de(n,e,t)),s=ta(de(n,e,r)),o=ta(de(t,r,n)),a=ta(de(t,r,e));return!!(i!==s&&o!==a||i===0&&ea(n,t,e)||s===0&&ea(n,r,e)||o===0&&ea(t,n,r)||a===0&&ea(t,e,r))}function ea(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function ta(n){return n>0?1:n<0?-1:0}function $S(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&Dy(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function uo(n,e){return de(n.prev,n,n.next)<0?de(n,e,n.next)>=0&&de(n,n.prev,e)>=0:de(n,e,n.prev)<0||de(n,n.next,e)<0}function VS(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function Ly(n,e){const t=Xc(n.i,n.x,n.y),r=Xc(e.i,e.x,e.y),i=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function Ap(n,e,t,r){const i=Xc(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function co(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function Xc(n,e,t){return{i:n,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function WS(n,e,t,r){let i=0;for(let s=e,o=t-r;s<t;s+=r)i+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return i}const HS=Pp.default||Pp;var By=(n=>(n[n.NONE=0]="NONE",n[n.COLOR=16384]="COLOR",n[n.STENCIL=1024]="STENCIL",n[n.DEPTH=256]="DEPTH",n[n.COLOR_DEPTH=16640]="COLOR_DEPTH",n[n.COLOR_STENCIL=17408]="COLOR_STENCIL",n[n.DEPTH_STENCIL=1280]="DEPTH_STENCIL",n[n.ALL=17664]="ALL",n))(By||{});class YS{constructor(e){this.items=[],this._name=e}emit(e,t,r,i,s,o,a,l){const{name:u,items:c}=this;for(let h=0,f=c.length;h<f;h++)c[h][u](e,t,r,i,s,o,a,l);return this}add(e){return e[this._name]&&(this.remove(e),this.items.push(e)),this}remove(e){const t=this.items.indexOf(e);return t!==-1&&this.items.splice(t,1),this}contains(e){return this.items.indexOf(e)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const XS=["init","destroy","contextChange","resolutionChange","resetState","renderEnd","renderStart","render","update","postrender","prerender"],Uy=class Gy extends gn{constructor(e){super(),this.uid=ke("renderer"),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=e.type,this.name=e.name,this.config=e;const t=[...XS,...this.config.runners??[]];this._addRunners(...t),this._unsafeEvalCheck()}async init(e={}){const t=e.skipExtensionImports===!0?!0:e.manageImports===!1;await AS(t),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const r in this._systemsHash)e={...this._systemsHash[r].constructor.defaultOptions,...e};e={...Gy.defaultOptions,...e},this._roundPixels=e.roundPixels?1:0;for(let r=0;r<this.runners.init.items.length;r++)await this.runners.init.items[r].init(e);this._initOptions=e}render(e,t){let r=e;if(r instanceof ht&&(r={container:r},t&&(K(ve,"passing a second argument is deprecated, please use render options instead"),r.target=t.renderTexture)),r.target||(r.target=this.view.renderTarget),r.target===this.view.renderTarget&&(this._lastObjectRendered=r.container,r.clearColor??(r.clearColor=this.background.colorRgba),r.clear??(r.clear=this.background.clearBeforeRender)),r.clearColor){const i=Array.isArray(r.clearColor)&&r.clearColor.length===4;r.clearColor=i?r.clearColor:ge.shared.setValue(r.clearColor).toArray()}r.transform||(r.container.updateLocalTransform(),r.transform=r.container.localTransform),r.container.enableRenderGroup(),this.runners.prerender.emit(r),this.runners.renderStart.emit(r),this.runners.render.emit(r),this.runners.renderEnd.emit(r),this.runners.postrender.emit(r)}resize(e,t,r){const i=this.view.resolution;this.view.resize(e,t,r),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),r!==void 0&&r!==i&&this.runners.resolutionChange.emit(r)}clear(e={}){const t=this;e.target||(e.target=t.renderTarget.renderTarget),e.clearColor||(e.clearColor=this.background.colorRgba),e.clear??(e.clear=By.ALL);const{clear:r,clearColor:i,target:s}=e;ge.shared.setValue(i??this.background.colorRgba),t.renderTarget.clear(s,r,ge.shared.toArray())}get resolution(){return this.view.resolution}set resolution(e){this.view.resolution=e,this.runners.resolutionChange.emit(e)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...e){e.forEach(t=>{this.runners[t]=new YS(t)})}_addSystems(e){let t;for(t in e){const r=e[t];this._addSystem(r.value,r.name)}}_addSystem(e,t){const r=new e(this);if(this[t])throw new Error(`Whoops! The name "${t}" is already in use`);this[t]=r,this._systemsHash[t]=r;for(const i in this.runners)this.runners[i].add(r);return this}_addPipes(e,t){const r=t.reduce((i,s)=>(i[s.name]=s.value,i),{});e.forEach(i=>{const s=i.value,o=i.name,a=r[o];this.renderPipes[o]=new s(this,a?new a:null)})}destroy(e=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(e),Object.values(this.runners).forEach(t=>{t.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(e){return this.textureGenerator.generateTexture(e)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!ES())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}resetState(){this.runners.resetState.emit()}};Uy.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let jy=Uy,na;function qS(n){return na!==void 0||(na=(()=>{var t;const e={stencil:!0,failIfMajorPerformanceCaveat:n??jy.defaultOptions.failIfMajorPerformanceCaveat};try{if(!kt.get().getWebGLRenderingContext())return!1;let i=kt.get().createCanvas().getContext("webgl",e);const s=!!((t=i==null?void 0:i.getContextAttributes())!=null&&t.stencil);if(i){const o=i.getExtension("WEBGL_lose_context");o&&o.loseContext()}return i=null,s}catch{return!1}})()),na}let ra;async function KS(n={}){return ra!==void 0||(ra=await(async()=>{const e=kt.get().getNavigator().gpu;if(!e)return!1;try{return await(await e.requestAdapter(n)).requestDevice(),!0}catch{return!1}})()),ra}const Ep=["webgl","webgpu","canvas"];async function QS(n){let e=[];n.preference?(e.push(n.preference),Ep.forEach(s=>{s!==n.preference&&e.push(s)})):e=Ep.slice();let t,r={};for(let s=0;s<e.length;s++){const o=e[s];if(o==="webgpu"&&await KS()){const{WebGPURenderer:a}=await Xa(async()=>{const{WebGPURenderer:l}=await import("./WebGPURenderer-DjCSbzGP.js");return{WebGPURenderer:l}},__vite__mapDeps([3,2,4]));t=a,r={...n,...n.webgpu};break}else if(o==="webgl"&&qS(n.failIfMajorPerformanceCaveat??jy.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:a}=await Xa(async()=>{const{WebGLRenderer:l}=await import("./WebGLRenderer-CEUmiEMf.js");return{WebGLRenderer:l}},__vite__mapDeps([5,2,4]));t=a,r={...n,...n.webgl};break}else if(o==="canvas")throw r={...n},new Error("CanvasRenderer is not yet implemented")}if(delete r.webgpu,delete r.webgl,!t)throw new Error("No available renderer for the current environment");const i=new t;return await i.init(r),i}const $y="8.12.0";class Vy{static init(){var e;(e=globalThis.__PIXI_APP_INIT__)==null||e.call(globalThis,this,$y)}static destroy(){}}Vy.extension=ne.Application;class ZS{constructor(e){this._renderer=e}init(){var e;(e=globalThis.__PIXI_RENDERER_INIT__)==null||e.call(globalThis,this._renderer,$y)}destroy(){this._renderer=null}}ZS.extension={type:[ne.WebGLSystem,ne.WebGPUSystem],name:"initHook",priority:-10};const Wy=class qc{constructor(...e){this.stage=new ht,e[0]!==void 0&&K(ve,"Application constructor options are deprecated, please use Application.init() instead.")}async init(e){e={...e},this.renderer=await QS(e),qc._plugins.forEach(t=>{t.init.call(this,e)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return K(ve,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(e=!1,t=!1){const r=qc._plugins.slice(0);r.reverse(),r.forEach(i=>{i.destroy.call(this)}),this.stage.destroy(t),this.stage=null,this.renderer.destroy(e),this.renderer=null}};Wy._plugins=[];let _f=Wy;Wt.handleByList(ne.Application,_f._plugins);Wt.add(Vy);const JS=["serif","sans-serif","monospace","cursive","fantasy","system-ui"];function Hy(n){const e=typeof n.fontSize=="number"?`${n.fontSize}px`:n.fontSize;let t=n.fontFamily;Array.isArray(n.fontFamily)||(t=n.fontFamily.split(","));for(let r=t.length-1;r>=0;r--){let i=t[r].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&!JS.includes(i)&&(i=`"${i}"`),t[r]=i}return`${n.fontStyle} ${n.fontVariant} ${n.fontWeight} ${e} ${t.join(",")}`}const Pu={willReadFrequently:!0},yn=class B{static get experimentalLetterSpacingSupported(){let e=B._experimentalLetterSpacingSupported;if(e===void 0){const t=kt.get().getCanvasRenderingContext2D().prototype;e=B._experimentalLetterSpacingSupported="letterSpacing"in t||"textLetterSpacing"in t}return e}constructor(e,t,r,i,s,o,a,l,u){this.text=e,this.style=t,this.width=r,this.height=i,this.lines=s,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=l,this.fontProperties=u}static measureText(e=" ",t,r=B._canvas,i=t.wordWrap){var y;const s=Hy(t),o=B.measureFont(s);o.fontSize===0&&(o.fontSize=t.fontSize,o.ascent=t.fontSize);const a=B.__context;a.font=s;const u=(i?B._wordWrap(e,t,r):e).split(/(?:\r\n|\r|\n)/),c=new Array(u.length);let h=0;for(let m=0;m<u.length;m++){const x=B._measureText(u[m],t.letterSpacing,a);c[m]=x,h=Math.max(h,x)}const f=((y=t._stroke)==null?void 0:y.width)||0;let d=h+f;t.dropShadow&&(d+=t.dropShadow.distance);const g=t.lineHeight||o.fontSize;let p=Math.max(g,o.fontSize+f)+(u.length-1)*(g+t.leading);return t.dropShadow&&(p+=t.dropShadow.distance),new B(e,t,d,p,u,c,g+t.leading,h,o)}static _measureText(e,t,r){let i=!1;B.experimentalLetterSpacingSupported&&(B.experimentalLetterSpacing?(r.letterSpacing=`${t}px`,r.textLetterSpacing=`${t}px`,i=!0):(r.letterSpacing="0px",r.textLetterSpacing="0px"));const s=r.measureText(e);let o=s.width;const a=-s.actualBoundingBoxLeft;let u=s.actualBoundingBoxRight-a;if(o>0)if(i)o-=t,u-=t;else{const c=(B.graphemeSegmenter(e).length-1)*t;o+=c,u+=c}return Math.max(o,u)}static _wordWrap(e,t,r=B._canvas){const i=r.getContext("2d",Pu);let s=0,o="",a="";const l=Object.create(null),{letterSpacing:u,whiteSpace:c}=t,h=B._collapseSpaces(c),f=B._collapseNewlines(c);let d=!h;const g=t.wordWrapWidth+u,p=B._tokenize(e);for(let _=0;_<p.length;_++){let y=p[_];if(B._isNewline(y)){if(!f){a+=B._addLine(o),d=!h,o="",s=0;continue}y=" "}if(h){const x=B.isBreakingSpace(y),v=B.isBreakingSpace(o[o.length-1]);if(x&&v)continue}const m=B._getFromCache(y,u,l,i);if(m>g)if(o!==""&&(a+=B._addLine(o),o="",s=0),B.canBreakWords(y,t.breakWords)){const x=B.wordWrapSplit(y);for(let v=0;v<x.length;v++){let w=x[v],C=w,S=1;for(;x[v+S];){const k=x[v+S];if(!B.canBreakChars(C,k,y,v,t.breakWords))w+=k;else break;C=k,S++}v+=S-1;const T=B._getFromCache(w,u,l,i);T+s>g&&(a+=B._addLine(o),d=!1,o="",s=0),o+=w,s+=T}}else{o.length>0&&(a+=B._addLine(o),o="",s=0);const x=_===p.length-1;a+=B._addLine(y,!x),d=!1,o="",s=0}else m+s>g&&(d=!1,a+=B._addLine(o),o="",s=0),(o.length>0||!B.isBreakingSpace(y)||d)&&(o+=y,s+=m)}return a+=B._addLine(o,!1),a}static _addLine(e,t=!0){return e=B._trimRight(e),e=t?`${e}
`:e,e}static _getFromCache(e,t,r,i){let s=r[e];return typeof s!="number"&&(s=B._measureText(e,t,i)+t,r[e]=s),s}static _collapseSpaces(e){return e==="normal"||e==="pre-line"}static _collapseNewlines(e){return e==="normal"}static _trimRight(e){if(typeof e!="string")return"";for(let t=e.length-1;t>=0;t--){const r=e[t];if(!B.isBreakingSpace(r))break;e=e.slice(0,-1)}return e}static _isNewline(e){return typeof e!="string"?!1:B._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,t){return typeof e!="string"?!1:B._breakingSpaces.includes(e.charCodeAt(0))}static _tokenize(e){const t=[];let r="";if(typeof e!="string")return t;for(let i=0;i<e.length;i++){const s=e[i],o=e[i+1];if(B.isBreakingSpace(s,o)||B._isNewline(s)){r!==""&&(t.push(r),r=""),s==="\r"&&o===`
`?(t.push(`\r
`),i++):t.push(s);continue}r+=s}return r!==""&&t.push(r),t}static canBreakWords(e,t){return t}static canBreakChars(e,t,r,i,s){return!0}static wordWrapSplit(e){return B.graphemeSegmenter(e)}static measureFont(e){if(B._fonts[e])return B._fonts[e];const t=B._context;t.font=e;const r=t.measureText(B.METRICS_STRING+B.BASELINE_SYMBOL),i={ascent:r.actualBoundingBoxAscent,descent:r.actualBoundingBoxDescent,fontSize:r.actualBoundingBoxAscent+r.actualBoundingBoxDescent};return B._fonts[e]=i,i}static clearMetrics(e=""){e?delete B._fonts[e]:B._fonts={}}static get _canvas(){if(!B.__canvas){let e;try{const t=new OffscreenCanvas(0,0),r=t.getContext("2d",Pu);if(r!=null&&r.measureText)return B.__canvas=t,t;e=kt.get().createCanvas()}catch{e=kt.get().createCanvas()}e.width=e.height=10,B.__canvas=e}return B.__canvas}static get _context(){return B.__context||(B.__context=B._canvas.getContext("2d",Pu)),B.__context}};yn.METRICS_STRING="|ÉqÅ";yn.BASELINE_SYMBOL="M";yn.BASELINE_MULTIPLIER=1.4;yn.HEIGHT_MULTIPLIER=2;yn.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const n=new Intl.Segmenter;return e=>{const t=n.segment(e),r=[];let i=0;for(const s of t)r[i++]=s.segment;return r}}return n=>[...n]})();yn.experimentalLetterSpacing=!1;yn._fonts={};yn._newlines=[10,13];yn._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let hi=yn;const Mp=[{offset:0,color:"white"},{offset:1,color:"black"}],xf=class Kc{constructor(...e){this.uid=ke("fillGradient"),this.type="linear",this.colorStops=[];let t=e2(e);t={...t.type==="radial"?Kc.defaultRadialOptions:Kc.defaultLinearOptions,...Q0(t)},this._textureSize=t.textureSize,this._wrapMode=t.wrapMode,t.type==="radial"?(this.center=t.center,this.outerCenter=t.outerCenter??this.center,this.innerRadius=t.innerRadius,this.outerRadius=t.outerRadius,this.scale=t.scale,this.rotation=t.rotation):(this.start=t.start,this.end=t.end),this.textureSpace=t.textureSpace,this.type=t.type,t.colorStops.forEach(i=>{this.addColorStop(i.offset,i.color)})}addColorStop(e,t){return this.colorStops.push({offset:e,color:ge.shared.setValue(t).toHexa()}),this}buildLinearGradient(){if(this.texture)return;let{x:e,y:t}=this.start,{x:r,y:i}=this.end,s=r-e,o=i-t;const a=s<0||o<0;if(this._wrapMode==="clamp-to-edge"){if(s<0){const _=e;e=r,r=_,s*=-1}if(o<0){const _=t;t=i,i=_,o*=-1}}const l=this.colorStops.length?this.colorStops:Mp,u=this._textureSize,{canvas:c,context:h}=Ip(u,1),f=a?h.createLinearGradient(this._textureSize,0,0,0):h.createLinearGradient(0,0,this._textureSize,0);Rp(f,l),h.fillStyle=f,h.fillRect(0,0,u,1),this.texture=new J({source:new Ka({resource:c,addressMode:this._wrapMode})});const d=Math.sqrt(s*s+o*o),g=Math.atan2(o,s),p=new W;p.scale(d/u,1),p.rotate(g),p.translate(e,t),this.textureSpace==="local"&&p.scale(u,u),this.transform=p}buildGradient(){this.type==="linear"?this.buildLinearGradient():this.buildRadialGradient()}buildRadialGradient(){if(this.texture)return;const e=this.colorStops.length?this.colorStops:Mp,t=this._textureSize,{canvas:r,context:i}=Ip(t,t),{x:s,y:o}=this.center,{x:a,y:l}=this.outerCenter,u=this.innerRadius,c=this.outerRadius,h=a-c,f=l-c,d=t/(c*2),g=(s-h)*d,p=(o-f)*d,_=i.createRadialGradient(g,p,u*d,(a-h)*d,(l-f)*d,c*d);Rp(_,e),i.fillStyle=e[e.length-1].color,i.fillRect(0,0,t,t),i.fillStyle=_,i.translate(g,p),i.rotate(this.rotation),i.scale(1,this.scale),i.translate(-g,-p),i.fillRect(0,0,t,t),this.texture=new J({source:new Ka({resource:r,addressMode:this._wrapMode})});const y=new W;y.scale(1/d,1/d),y.translate(h,f),this.textureSpace==="local"&&y.scale(t,t),this.transform=y}get styleKey(){return this.uid}destroy(){var e;(e=this.texture)==null||e.destroy(!0),this.texture=null,this.transform=null,this.colorStops=[],this.start=null,this.end=null,this.center=null,this.outerCenter=null}};xf.defaultLinearOptions={start:{x:0,y:0},end:{x:0,y:1},colorStops:[],textureSpace:"local",type:"linear",textureSize:256,wrapMode:"clamp-to-edge"};xf.defaultRadialOptions={center:{x:.5,y:.5},innerRadius:0,outerRadius:.5,colorStops:[],scale:1,textureSpace:"local",type:"radial",textureSize:256,wrapMode:"clamp-to-edge"};let On=xf;function Rp(n,e){for(let t=0;t<e.length;t++){const r=e[t];n.addColorStop(r.offset,r.color)}}function Ip(n,e){const t=kt.get().createCanvas(n,e),r=t.getContext("2d");return{canvas:t,context:r}}function e2(n){let e=n[0]??{};return(typeof e=="number"||n[1])&&(K("8.5.2","use options object instead"),e={type:"linear",start:{x:n[0],y:n[1]},end:{x:n[2],y:n[3]},textureSpace:n[4],textureSize:n[5]??On.defaultLinearOptions.textureSize}),e}const Fp={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class bl{constructor(e,t){this.uid=ke("fillPattern"),this.transform=new W,this._styleKey=null,this.texture=e,this.transform.scale(1/e.frame.width,1/e.frame.height),t&&(e.source.style.addressModeU=Fp[t].addressModeU,e.source.style.addressModeV=Fp[t].addressModeV)}setTransform(e){const t=this.texture;this.transform.copyFrom(e),this.transform.invert(),this.transform.scale(1/t.frame.width,1/t.frame.height),this._styleKey=null}get styleKey(){return this._styleKey?this._styleKey:(this._styleKey=`fill-pattern-${this.uid}-${this.texture.uid}-${this.transform.toArray().join("-")}`,this._styleKey)}destroy(){this.texture.destroy(!0),this.texture=null,this._styleKey=null}}var t2=r2,Au={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},n2=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function r2(n){var e=[];return n.replace(n2,function(t,r,i){var s=r.toLowerCase();for(i=s2(i),s=="m"&&i.length>2&&(e.push([r].concat(i.splice(0,2))),s="l",r=r=="m"?"l":"L");;){if(i.length==Au[s])return i.unshift(r),e.push(i);if(i.length<Au[s])throw new Error("malformed path data");e.push([r].concat(i.splice(0,Au[s])))}}),e}var i2=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function s2(n){var e=n.match(i2);return e?e.map(Number):[]}const o2=Om(t2);function a2(n,e){const t=o2(n),r=[];let i=null,s=0,o=0;for(let a=0;a<t.length;a++){const l=t[a],u=l[0],c=l;switch(u){case"M":s=c[1],o=c[2],e.moveTo(s,o);break;case"m":s+=c[1],o+=c[2],e.moveTo(s,o);break;case"H":s=c[1],e.lineTo(s,o);break;case"h":s+=c[1],e.lineTo(s,o);break;case"V":o=c[1],e.lineTo(s,o);break;case"v":o+=c[1],e.lineTo(s,o);break;case"L":s=c[1],o=c[2],e.lineTo(s,o);break;case"l":s+=c[1],o+=c[2],e.lineTo(s,o);break;case"C":s=c[5],o=c[6],e.bezierCurveTo(c[1],c[2],c[3],c[4],s,o);break;case"c":e.bezierCurveTo(s+c[1],o+c[2],s+c[3],o+c[4],s+c[5],o+c[6]),s+=c[5],o+=c[6];break;case"S":s=c[3],o=c[4],e.bezierCurveToShort(c[1],c[2],s,o);break;case"s":e.bezierCurveToShort(s+c[1],o+c[2],s+c[3],o+c[4]),s+=c[3],o+=c[4];break;case"Q":s=c[3],o=c[4],e.quadraticCurveTo(c[1],c[2],s,o);break;case"q":e.quadraticCurveTo(s+c[1],o+c[2],s+c[3],o+c[4]),s+=c[3],o+=c[4];break;case"T":s=c[1],o=c[2],e.quadraticCurveToShort(s,o);break;case"t":s+=c[1],o+=c[2],e.quadraticCurveToShort(s,o);break;case"A":s=c[6],o=c[7],e.arcToSvg(c[1],c[2],c[3],c[4],c[5],s,o);break;case"a":s+=c[6],o+=c[7],e.arcToSvg(c[1],c[2],c[3],c[4],c[5],s,o);break;case"Z":case"z":e.closePath(),r.length>0&&(i=r.pop(),i?(s=i.startX,o=i.startY):(s=0,o=0)),i=null;break;default:qe(`Unknown SVG path command: ${u}`)}u!=="Z"&&u!=="z"&&i===null&&(i={startX:s,startY:o},r.push(i))}return e}class vf{constructor(e=0,t=0,r=0){this.type="circle",this.x=e,this.y=t,this.radius=r}clone(){return new vf(this.x,this.y,this.radius)}contains(e,t){if(this.radius<=0)return!1;const r=this.radius*this.radius;let i=this.x-e,s=this.y-t;return i*=i,s*=s,i+s<=r}strokeContains(e,t,r,i=.5){if(this.radius===0)return!1;const s=this.x-e,o=this.y-t,a=this.radius,l=(1-i)*r,u=Math.sqrt(s*s+o*o);return u<=a+l&&u>a-(r-l)}getBounds(e){return e||(e=new Te),e.x=this.x-this.radius,e.y=this.y-this.radius,e.width=this.radius*2,e.height=this.radius*2,e}copyFrom(e){return this.x=e.x,this.y=e.y,this.radius=e.radius,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class wf{constructor(e=0,t=0,r=0,i=0){this.type="ellipse",this.x=e,this.y=t,this.halfWidth=r,this.halfHeight=i}clone(){return new wf(this.x,this.y,this.halfWidth,this.halfHeight)}contains(e,t){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let r=(e-this.x)/this.halfWidth,i=(t-this.y)/this.halfHeight;return r*=r,i*=i,r+i<=1}strokeContains(e,t,r,i=.5){const{halfWidth:s,halfHeight:o}=this;if(s<=0||o<=0)return!1;const a=r*(1-i),l=r-a,u=s-l,c=o-l,h=s+a,f=o+a,d=e-this.x,g=t-this.y,p=d*d/(u*u)+g*g/(c*c),_=d*d/(h*h)+g*g/(f*f);return p>1&&_<=1}getBounds(e){return e||(e=new Te),e.x=this.x-this.halfWidth,e.y=this.y-this.halfHeight,e.width=this.halfWidth*2,e.height=this.halfHeight*2,e}copyFrom(e){return this.x=e.x,this.y=e.y,this.halfWidth=e.halfWidth,this.halfHeight=e.halfHeight,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function l2(n,e,t,r,i,s){const o=n-t,a=e-r,l=i-t,u=s-r,c=o*l+a*u,h=l*l+u*u;let f=-1;h!==0&&(f=c/h);let d,g;f<0?(d=t,g=r):f>1?(d=i,g=s):(d=t+f*l,g=r+f*u);const p=n-d,_=e-g;return p*p+_*_}let u2,c2;class Ls{constructor(...e){this.type="polygon";let t=Array.isArray(e[0])?e[0]:e;if(typeof t[0]!="number"){const r=[];for(let i=0,s=t.length;i<s;i++)r.push(t[i].x,t[i].y);t=r}this.points=t,this.closePath=!0}isClockwise(){let e=0;const t=this.points,r=t.length;for(let i=0;i<r;i+=2){const s=t[i],o=t[i+1],a=t[(i+2)%r],l=t[(i+3)%r];e+=(a-s)*(l+o)}return e<0}containsPolygon(e){const t=this.getBounds(u2),r=e.getBounds(c2);if(!t.containsRect(r))return!1;const i=e.points;for(let s=0;s<i.length;s+=2){const o=i[s],a=i[s+1];if(!this.contains(o,a))return!1}return!0}clone(){const e=this.points.slice(),t=new Ls(e);return t.closePath=this.closePath,t}contains(e,t){let r=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const a=this.points[s*2],l=this.points[s*2+1],u=this.points[o*2],c=this.points[o*2+1];l>t!=c>t&&e<(u-a)*((t-l)/(c-l))+a&&(r=!r)}return r}strokeContains(e,t,r,i=.5){const s=r*r,o=s*(1-i),a=s-o,{points:l}=this,u=l.length-(this.closePath?0:2);for(let c=0;c<u;c+=2){const h=l[c],f=l[c+1],d=l[(c+2)%l.length],g=l[(c+3)%l.length],p=l2(e,t,h,f,d,g),_=Math.sign((d-h)*(t-f)-(g-f)*(e-h));if(p<=(_<0?a:o))return!0}return!1}getBounds(e){e||(e=new Te);const t=this.points;let r=1/0,i=-1/0,s=1/0,o=-1/0;for(let a=0,l=t.length;a<l;a+=2){const u=t[a],c=t[a+1];r=u<r?u:r,i=u>i?u:i,s=c<s?c:s,o=c>o?c:o}return e.x=r,e.width=i-r,e.y=s,e.height=o-s,e}copyFrom(e){return this.points=e.points.slice(),this.closePath=e.closePath,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((e,t)=>`${e}, ${t}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return K("8.11.0","Polygon.lastX is deprecated, please use Polygon.lastX instead."),this.points[this.points.length-2]}get y(){return K("8.11.0","Polygon.y is deprecated, please use Polygon.lastY instead."),this.points[this.points.length-1]}get startX(){return this.points[0]}get startY(){return this.points[1]}}const ia=(n,e,t,r,i,s,o)=>{const a=n-t,l=e-r,u=Math.sqrt(a*a+l*l);return u>=i-s&&u<=i+o};class Sf{constructor(e=0,t=0,r=0,i=0,s=20){this.type="roundedRectangle",this.x=e,this.y=t,this.width=r,this.height=i,this.radius=s}getBounds(e){return e||(e=new Te),e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}clone(){return new Sf(this.x,this.y,this.width,this.height,this.radius)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.copyFrom(this),e}contains(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){const r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(t>=this.y+r&&t<=this.y+this.height-r||e>=this.x+r&&e<=this.x+this.width-r)return!0;let i=e-(this.x+r),s=t-(this.y+r);const o=r*r;if(i*i+s*s<=o||(i=e-(this.x+this.width-r),i*i+s*s<=o)||(s=t-(this.y+this.height-r),i*i+s*s<=o)||(i=e-(this.x+r),i*i+s*s<=o))return!0}return!1}strokeContains(e,t,r,i=.5){const{x:s,y:o,width:a,height:l,radius:u}=this,c=r*(1-i),h=r-c,f=s+u,d=o+u,g=a-u*2,p=l-u*2,_=s+a,y=o+l;return(e>=s-c&&e<=s+h||e>=_-h&&e<=_+c)&&t>=d&&t<=d+p||(t>=o-c&&t<=o+h||t>=y-h&&t<=y+c)&&e>=f&&e<=f+g?!0:e<f&&t<d&&ia(e,t,f,d,u,h,c)||e>_-u&&t<d&&ia(e,t,_-u,d,u,h,c)||e>_-u&&t>y-u&&ia(e,t,_-u,y-u,u,h,c)||e<f&&t>y-u&&ia(e,t,f,y-u,u,h,c)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}const Yy={};function h2(n,e,t){let r=2166136261;for(let i=0;i<e;i++)r^=n[i].uid,r=Math.imul(r,16777619),r>>>=0;return Yy[r]||f2(n,e,r,t)}function f2(n,e,t,r){const i={};let s=0;for(let a=0;a<r;a++){const l=a<e?n[a]:J.EMPTY.source;i[s++]=l.source,i[s++]=l.style}const o=new va(i);return Yy[t]=o,o}class Op{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this.uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}function Np(n,e){const t=n.byteLength/8|0,r=new Float64Array(n,0,t);new Float64Array(e,0,t).set(r);const s=n.byteLength-t*8;if(s>0){const o=new Uint8Array(n,t*8,s);new Uint8Array(e,t*8,s).set(o)}}const d2={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var p2=(n=>(n[n.DISABLED=0]="DISABLED",n[n.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",n[n.MASK_ACTIVE=2]="MASK_ACTIVE",n[n.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",n[n.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",n[n.NONE=5]="NONE",n))(p2||{});function zp(n,e){return e.alphaMode==="no-premultiply-alpha"&&d2[n]||n}const m2=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function g2(n){let e="";for(let t=0;t<n;++t)t>0&&(e+=`
else `),t<n-1&&(e+=`if(test == ${t}.0){}`);return e}function y2(n,e){if(n===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const t=e.createShader(e.FRAGMENT_SHADER);try{for(;;){const r=m2.replace(/%forloop%/gi,g2(n));if(e.shaderSource(t,r),e.compileShader(t),!e.getShaderParameter(t,e.COMPILE_STATUS))n=n/2|0;else break}}finally{e.deleteShader(t)}return n}let ai=null;function _2(){var e;if(ai)return ai;const n=Py();return ai=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),ai=y2(ai,n),(e=n.getExtension("WEBGL_lose_context"))==null||e.loseContext(),ai}class x2{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let e=0;e<this.count;e++){const t=this.textures[e];this.textures[e]=null,this.ids[t.uid]=null}this.count=0}}class v2{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new x2,this.blendMode="normal",this.topology="triangle-strip",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}const Xy=[];let Qc=0;function Dp(){return Qc>0?Xy[--Qc]:new v2}function Lp(n){Xy[Qc++]=n}let ms=0;const qy=class Ky{constructor(e){this.uid=ke("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],e={...Ky.defaultOptions,...e},e.maxTextures||(K("v8.8.0","maxTextures is a required option for Batcher now, please pass it in the options"),e.maxTextures=_2());const{maxTextures:t,attributesInitialSize:r,indicesInitialSize:i}=e;this.attributeBuffer=new Op(r*4),this.indexBuffer=new Uint16Array(i),this.maxTextures=t}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let e=0;e<this.batchIndex;e++)Lp(this.batches[e]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(e){this._elements[this.elementSize++]=e,e._indexStart=this.indexSize,e._attributeStart=this.attributeSize,e._batcher=this,this.indexSize+=e.indexSize,this.attributeSize+=e.attributeSize*this.vertexSize}checkAndUpdateTexture(e,t){const r=e._batch.textures.ids[t._source.uid];return!r&&r!==0?!1:(e._textureId=r,e.texture=t,!0)}updateElement(e){this.dirty=!0;const t=this.attributeBuffer;e.packAsQuad?this.packQuadAttributes(e,t.float32View,t.uint32View,e._attributeStart,e._textureId):this.packAttributes(e,t.float32View,t.uint32View,e._attributeStart,e._textureId)}break(e){const t=this._elements;if(!t[this.elementStart])return;let r=Dp(),i=r.textures;i.clear();const s=t[this.elementStart];let o=zp(s.blendMode,s.texture._source),a=s.topology;this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const l=this.attributeBuffer.float32View,u=this.attributeBuffer.uint32View,c=this.indexBuffer;let h=this._batchIndexSize,f=this._batchIndexStart,d="startBatch";const g=this.maxTextures;for(let p=this.elementStart;p<this.elementSize;++p){const _=t[p];t[p]=null;const m=_.texture._source,x=zp(_.blendMode,m),v=o!==x||a!==_.topology;if(m._batchTick===ms&&!v){_._textureId=m._textureBindLocation,h+=_.indexSize,_.packAsQuad?(this.packQuadAttributes(_,l,u,_._attributeStart,_._textureId),this.packQuadIndex(c,_._indexStart,_._attributeStart/this.vertexSize)):(this.packAttributes(_,l,u,_._attributeStart,_._textureId),this.packIndex(_,c,_._indexStart,_._attributeStart/this.vertexSize)),_._batch=r;continue}m._batchTick=ms,(i.count>=g||v)&&(this._finishBatch(r,f,h-f,i,o,a,e,d),d="renderBatch",f=h,o=x,a=_.topology,r=Dp(),i=r.textures,i.clear(),++ms),_._textureId=m._textureBindLocation=i.count,i.ids[m.uid]=i.count,i.textures[i.count++]=m,_._batch=r,h+=_.indexSize,_.packAsQuad?(this.packQuadAttributes(_,l,u,_._attributeStart,_._textureId),this.packQuadIndex(c,_._indexStart,_._attributeStart/this.vertexSize)):(this.packAttributes(_,l,u,_._attributeStart,_._textureId),this.packIndex(_,c,_._indexStart,_._attributeStart/this.vertexSize))}i.count>0&&(this._finishBatch(r,f,h-f,i,o,a,e,d),f=h,++ms),this.elementStart=this.elementSize,this._batchIndexStart=f,this._batchIndexSize=h}_finishBatch(e,t,r,i,s,o,a,l){e.gpuBindGroup=null,e.bindGroup=null,e.action=l,e.batcher=this,e.textures=i,e.blendMode=s,e.topology=o,e.start=t,e.size=r,++ms,this.batches[this.batchIndex++]=e,a.add(e)}finish(e){this.break(e)}ensureAttributeBuffer(e){e*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(e*4)}ensureIndexBuffer(e){e<=this.indexBuffer.length||this._resizeIndexBuffer(e)}_resizeAttributeBuffer(e){const t=Math.max(e,this.attributeBuffer.size*2),r=new Op(t);Np(this.attributeBuffer.rawBinaryData,r.rawBinaryData),this.attributeBuffer=r}_resizeIndexBuffer(e){const t=this.indexBuffer;let r=Math.max(e,t.length*1.5);r+=r%2;const i=r>65535?new Uint32Array(r):new Uint16Array(r);if(i.BYTES_PER_ELEMENT!==t.BYTES_PER_ELEMENT)for(let s=0;s<t.length;s++)i[s]=t[s];else Np(t.buffer,i.buffer);this.indexBuffer=i}packQuadIndex(e,t,r){e[t]=r+0,e[t+1]=r+1,e[t+2]=r+2,e[t+3]=r+0,e[t+4]=r+2,e[t+5]=r+3}packIndex(e,t,r,i){const s=e.indices,o=e.indexSize,a=e.indexOffset,l=e.attributeOffset;for(let u=0;u<o;u++)t[r++]=i+s[u+a]-l}destroy(){for(let e=0;e<this.batches.length;e++)Lp(this.batches[e]);this.batches=null;for(let e=0;e<this._elements.length;e++)this._elements[e]._batch=null;this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}};qy.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};let w2=qy;var ot=(n=>(n[n.MAP_READ=1]="MAP_READ",n[n.MAP_WRITE=2]="MAP_WRITE",n[n.COPY_SRC=4]="COPY_SRC",n[n.COPY_DST=8]="COPY_DST",n[n.INDEX=16]="INDEX",n[n.VERTEX=32]="VERTEX",n[n.UNIFORM=64]="UNIFORM",n[n.STORAGE=128]="STORAGE",n[n.INDIRECT=256]="INDIRECT",n[n.QUERY_RESOLVE=512]="QUERY_RESOLVE",n[n.STATIC=1024]="STATIC",n))(ot||{});class ho extends gn{constructor(e){let{data:t,size:r}=e;const{usage:i,label:s,shrinkToFit:o}=e;super(),this.uid=ke("buffer"),this._resourceType="buffer",this._resourceId=ke("resource"),this._touched=0,this._updateID=1,this._dataInt32=null,this.shrinkToFit=!0,this.destroyed=!1,t instanceof Array&&(t=new Float32Array(t)),this._data=t,r??(r=t==null?void 0:t.byteLength);const a=!!t;this.descriptor={size:r,usage:i,mappedAtCreation:a,label:s},this.shrinkToFit=o??!0}get data(){return this._data}set data(e){this.setDataWithSize(e,e.length,!0)}get dataInt32(){return this._dataInt32||(this._dataInt32=new Int32Array(this.data.buffer)),this._dataInt32}get static(){return!!(this.descriptor.usage&ot.STATIC)}set static(e){e?this.descriptor.usage|=ot.STATIC:this.descriptor.usage&=~ot.STATIC}setDataWithSize(e,t,r){if(this._updateID++,this._updateSize=t*e.BYTES_PER_ELEMENT,this._data===e){r&&this.emit("update",this);return}const i=this._data;if(this._data=e,this._dataInt32=null,!i||i.length!==e.length){!this.shrinkToFit&&i&&e.byteLength<i.byteLength?r&&this.emit("update",this):(this.descriptor.size=e.byteLength,this._resourceId=ke("resource"),this.emit("change",this));return}r&&this.emit("update",this)}update(e){this._updateSize=e??this._updateSize,this._updateID++,this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}}function Qy(n,e){if(!(n instanceof ho)){let t=e?ot.INDEX:ot.VERTEX;n instanceof Array&&(e?(n=new Uint32Array(n),t=ot.INDEX|ot.COPY_DST):(n=new Float32Array(n),t=ot.VERTEX|ot.COPY_DST)),n=new ho({data:n,label:e?"index-mesh-buffer":"vertex-mesh-buffer",usage:t})}return n}function S2(n,e,t){const r=n.getAttribute(e);if(!r)return t.minX=0,t.minY=0,t.maxX=0,t.maxY=0,t;const i=r.buffer.data;let s=1/0,o=1/0,a=-1/0,l=-1/0;const u=i.BYTES_PER_ELEMENT,c=(r.offset||0)/u,h=(r.stride||2*4)/u;for(let f=c;f<i.length;f+=h){const d=i[f],g=i[f+1];d>a&&(a=d),g>l&&(l=g),d<s&&(s=d),g<o&&(o=g)}return t.minX=s,t.minY=o,t.maxX=a,t.maxY=l,t}function C2(n){return(n instanceof ho||Array.isArray(n)||n.BYTES_PER_ELEMENT)&&(n={buffer:n}),n.buffer=Qy(n.buffer,!1),n}class T2 extends gn{constructor(e={}){super(),this.uid=ke("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new tn,this._boundsDirty=!0;const{attributes:t,indexBuffer:r,topology:i}=e;if(this.buffers=[],this.attributes={},t)for(const s in t)this.addAttribute(s,t[s]);this.instanceCount=e.instanceCount??1,r&&this.addIndex(r),this.topology=i||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(e){return this.attributes[e]}getIndex(){return this.indexBuffer}getBuffer(e){return this.getAttribute(e).buffer}getSize(){for(const e in this.attributes){const t=this.attributes[e];return t.buffer.data.length/(t.stride/4||t.size)}return 0}addAttribute(e,t){const r=C2(t);this.buffers.indexOf(r.buffer)===-1&&(this.buffers.push(r.buffer),r.buffer.on("update",this.onBufferUpdate,this),r.buffer.on("change",this.onBufferUpdate,this)),this.attributes[e]=r}addIndex(e){this.indexBuffer=Qy(e,!0),this.buffers.push(this.indexBuffer)}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,S2(this,"aPosition",this._bounds)):this._bounds}destroy(e=!1){this.emit("destroy",this),this.removeAllListeners(),e&&this.buffers.forEach(t=>t.destroy()),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const k2=new Float32Array(1),b2=new Uint32Array(1);class P2 extends T2{constructor(){const t=new ho({data:k2,label:"attribute-batch-buffer",usage:ot.VERTEX|ot.COPY_DST,shrinkToFit:!1}),r=new ho({data:b2,label:"index-batch-buffer",usage:ot.INDEX|ot.COPY_DST,shrinkToFit:!1}),i=6*4;super({attributes:{aPosition:{buffer:t,format:"float32x2",stride:i,offset:0},aUV:{buffer:t,format:"float32x2",stride:i,offset:2*4},aColor:{buffer:t,format:"unorm8x4",stride:i,offset:4*4},aTextureIdAndRound:{buffer:t,format:"uint16x2",stride:i,offset:5*4}},indexBuffer:r})}}function Bp(n,e,t){if(n)for(const r in n){const i=r.toLocaleLowerCase(),s=e[i];if(s){let o=n[r];r==="header"&&(o=o.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),t&&s.push(`//----${t}----//`),s.push(o)}else qe(`${r} placement hook does not exist in shader`)}}const A2=/\{\{(.*?)\}\}/g;function Up(n){var r;const e={};return(((r=n.match(A2))==null?void 0:r.map(i=>i.replace(/[{()}]/g,"")))??[]).forEach(i=>{e[i]=[]}),e}function Gp(n,e){let t;const r=/@in\s+([^;]+);/g;for(;(t=r.exec(n))!==null;)e.push(t[1])}function jp(n,e,t=!1){const r=[];Gp(e,r),n.forEach(a=>{a.header&&Gp(a.header,r)});const i=r;t&&i.sort();const s=i.map((a,l)=>`       @location(${l}) ${a},`).join(`
`);let o=e.replace(/@in\s+[^;]+;\s*/g,"");return o=o.replace("{{in}}",`
${s}
`),o}function $p(n,e){let t;const r=/@out\s+([^;]+);/g;for(;(t=r.exec(n))!==null;)e.push(t[1])}function E2(n){const t=/\b(\w+)\s*:/g.exec(n);return t?t[1]:""}function M2(n){const e=/@.*?\s+/g;return n.replace(e,"")}function R2(n,e){const t=[];$p(e,t),n.forEach(l=>{l.header&&$p(l.header,t)});let r=0;const i=t.sort().map(l=>l.indexOf("builtin")>-1?l:`@location(${r++}) ${l}`).join(`,
`),s=t.sort().map(l=>`       var ${M2(l)};`).join(`
`),o=`return VSOutput(
            ${t.sort().map(l=>` ${E2(l)}`).join(`,
`)});`;let a=e.replace(/@out\s+[^;]+;\s*/g,"");return a=a.replace("{{struct}}",`
${i}
`),a=a.replace("{{start}}",`
${s}
`),a=a.replace("{{return}}",`
${o}
`),a}function Vp(n,e){let t=n;for(const r in e){const i=e[r];i.join(`
`).length?t=t.replace(`{{${r}}}`,`//-----${r} START-----//
${i.join(`
`)}
//----${r} FINISH----//`):t=t.replace(`{{${r}}}`,"")}return t}const Yn=Object.create(null),Eu=new Map;let I2=0;function F2({template:n,bits:e}){const t=Zy(n,e);if(Yn[t])return Yn[t];const{vertex:r,fragment:i}=N2(n,e);return Yn[t]=Jy(r,i,e),Yn[t]}function O2({template:n,bits:e}){const t=Zy(n,e);return Yn[t]||(Yn[t]=Jy(n.vertex,n.fragment,e)),Yn[t]}function N2(n,e){const t=e.map(o=>o.vertex).filter(o=>!!o),r=e.map(o=>o.fragment).filter(o=>!!o);let i=jp(t,n.vertex,!0);i=R2(t,i);const s=jp(r,n.fragment,!0);return{vertex:i,fragment:s}}function Zy(n,e){return e.map(t=>(Eu.has(t)||Eu.set(t,I2++),Eu.get(t))).sort((t,r)=>t-r).join("-")+n.vertex+n.fragment}function Jy(n,e,t){const r=Up(n),i=Up(e);return t.forEach(s=>{Bp(s.vertex,r,s.name),Bp(s.fragment,i,s.name)}),{vertex:Vp(n,r),fragment:Vp(e,i)}}const z2=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}

        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);

        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,D2=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;

    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {

        {{start}}

        var outColor:vec4<f32>;

        {{main}}

        var finalColor:vec4<f32> = outColor * vColor;

        {{end}}

        return finalColor;
      };
`,L2=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;

        {{start}}

        vColor = vec4(1.);

        {{main}}

        vUV = uv;

        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,B2=`

    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {

        {{start}}

        vec4 outColor;

        {{main}}

        finalColor = outColor * vColor;

        {{end}}
    }
`,U2={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},G2={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}};function j2({bits:n,name:e}){const t=F2({template:{fragment:D2,vertex:z2},bits:[U2,...n]});return Vt.from({name:e,vertex:{source:t.vertex,entryPoint:"main"},fragment:{source:t.fragment,entryPoint:"main"}})}function $2({bits:n,name:e}){return new pn({name:e,...O2({template:{vertex:L2,fragment:B2},bits:[G2,...n]})})}const V2={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},W2={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}},Mu={};function H2(n){const e=[];if(n===1)e.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),e.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let t=0;for(let r=0;r<n;r++)e.push(`@group(1) @binding(${t++}) var textureSource${r+1}: texture_2d<f32>;`),e.push(`@group(1) @binding(${t++}) var textureSampler${r+1}: sampler;`)}return e.join(`
`)}function Y2(n){const e=[];if(n===1)e.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{e.push("switch vTextureId {");for(let t=0;t<n;t++)t===n-1?e.push("  default:{"):e.push(`  case ${t}:{`),e.push(`      outColor = textureSampleGrad(textureSource${t+1}, textureSampler${t+1}, vUV, uvDx, uvDy);`),e.push("      break;}");e.push("}")}return e.join(`
`)}function X2(n){return Mu[n]||(Mu[n]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;

                ${H2(n)}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);

                ${Y2(n)}
            `}}),Mu[n]}const Ru={};function q2(n){const e=[];for(let t=0;t<n;t++)t>0&&e.push("else"),t<n-1&&e.push(`if(vTextureId < ${t}.5)`),e.push("{"),e.push(`	outColor = texture(uTextures[${t}], vUV);`),e.push("}");return e.join(`
`)}function K2(n){return Ru[n]||(Ru[n]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;

            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;

                uniform sampler2D uTextures[${n}];

            `,main:`

                ${q2(n)}
            `}}),Ru[n]}const Q2={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32>
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},Z2={name:"round-pixels-bit",vertex:{header:`
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},Wp={};function J2(n){let e=Wp[n];if(e)return e;const t=new Int32Array(n);for(let r=0;r<n;r++)t[r]=r;return e=Wp[n]=new Iy({uTextures:{value:t,type:"i32",size:n}},{isStatic:!0}),e}class eC extends kl{constructor(e){const t=$2({name:"batch",bits:[W2,K2(e),Z2]}),r=j2({name:"batch",bits:[V2,X2(e),Q2]});super({glProgram:t,gpuProgram:r,resources:{batchSamplers:J2(e)}})}}let Iu=null;const e_=class t_ extends w2{constructor(e){super(e),this.geometry=new P2,this.name=t_.extension.name,this.vertexSize=6,Iu??(Iu=new eC(e.maxTextures)),this.shader=Iu}packAttributes(e,t,r,i,s){const o=s<<16|e.roundPixels&65535,a=e.transform,l=a.a,u=a.b,c=a.c,h=a.d,f=a.tx,d=a.ty,{positions:g,uvs:p}=e,_=e.color,y=e.attributeOffset,m=y+e.attributeSize;for(let x=y;x<m;x++){const v=x*2,w=g[v],C=g[v+1];t[i++]=l*w+c*C+f,t[i++]=h*C+u*w+d,t[i++]=p[v],t[i++]=p[v+1],r[i++]=_,r[i++]=o}}packQuadAttributes(e,t,r,i,s){const o=e.texture,a=e.transform,l=a.a,u=a.b,c=a.c,h=a.d,f=a.tx,d=a.ty,g=e.bounds,p=g.maxX,_=g.minX,y=g.maxY,m=g.minY,x=o.uvs,v=e.color,w=s<<16|e.roundPixels&65535;t[i+0]=l*_+c*m+f,t[i+1]=h*m+u*_+d,t[i+2]=x.x0,t[i+3]=x.y0,r[i+4]=v,r[i+5]=w,t[i+6]=l*p+c*m+f,t[i+7]=h*m+u*p+d,t[i+8]=x.x1,t[i+9]=x.y1,r[i+10]=v,r[i+11]=w,t[i+12]=l*p+c*y+f,t[i+13]=h*y+u*p+d,t[i+14]=x.x2,t[i+15]=x.y2,r[i+16]=v,r[i+17]=w,t[i+18]=l*_+c*y+f,t[i+19]=h*y+u*_+d,t[i+20]=x.x3,t[i+21]=x.y3,r[i+22]=v,r[i+23]=w}};e_.extension={type:[ne.Batcher],name:"default"};let tC=e_;function nC(n,e,t,r,i,s,o,a=null){let l=0;t*=e,i*=s;const u=a.a,c=a.b,h=a.c,f=a.d,d=a.tx,g=a.ty;for(;l<o;){const p=n[t],_=n[t+1];r[i]=u*p+h*_+d,r[i+1]=c*p+f*_+g,i+=s,t+=e,l++}}function rC(n,e,t,r){let i=0;for(e*=t;i<r;)n[e]=0,n[e+1]=0,e+=t,i++}function n_(n,e,t,r,i){const s=e.a,o=e.b,a=e.c,l=e.d,u=e.tx,c=e.ty;t||(t=0),r||(r=2),i||(i=n.length/r-t);let h=t*r;for(let f=0;f<i;f++){const d=n[h],g=n[h+1];n[h]=s*d+a*g+u,n[h+1]=o*d+l*g+c,h+=r}}const iC=new W;class r_{constructor(){this.packAsQuad=!1,this.batcherName="default",this.topology="triangle-list",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){return this.renderable&&this.applyTransform?this.renderable.groupBlendMode:"normal"}get color(){const e=this.baseColor,t=e>>16|e&65280|(e&255)<<16,r=this.renderable;return r?ay(t,r.groupColor)+(this.alpha*r.groupAlpha*255<<24):t+(this.alpha*255<<24)}get transform(){var e;return((e=this.renderable)==null?void 0:e.groupTransform)||iC}copyTo(e){e.indexOffset=this.indexOffset,e.indexSize=this.indexSize,e.attributeOffset=this.attributeOffset,e.attributeSize=this.attributeSize,e.baseColor=this.baseColor,e.alpha=this.alpha,e.texture=this.texture,e.geometryData=this.geometryData,e.topology=this.topology}reset(){this.applyTransform=!0,this.renderable=null,this.topology="triangle-list"}}const fo={extension:{type:ne.ShapeBuilder,name:"circle"},build(n,e){let t,r,i,s,o,a;if(n.type==="circle"){const v=n;if(o=a=v.radius,o<=0)return!1;t=v.x,r=v.y,i=s=0}else if(n.type==="ellipse"){const v=n;if(o=v.halfWidth,a=v.halfHeight,o<=0||a<=0)return!1;t=v.x,r=v.y,i=s=0}else{const v=n,w=v.width/2,C=v.height/2;t=v.x+w,r=v.y+C,o=a=Math.max(0,Math.min(v.radius,Math.min(w,C))),i=w-o,s=C-a}if(i<0||s<0)return!1;const l=Math.ceil(2.3*Math.sqrt(o+a)),u=l*8+(i?4:0)+(s?4:0);if(u===0)return!1;if(l===0)return e[0]=e[6]=t+i,e[1]=e[3]=r+s,e[2]=e[4]=t-i,e[5]=e[7]=r-s,!0;let c=0,h=l*4+(i?2:0)+2,f=h,d=u,g=i+o,p=s,_=t+g,y=t-g,m=r+p;if(e[c++]=_,e[c++]=m,e[--h]=m,e[--h]=y,s){const v=r-p;e[f++]=y,e[f++]=v,e[--d]=v,e[--d]=_}for(let v=1;v<l;v++){const w=Math.PI/2*(v/l),C=i+Math.cos(w)*o,S=s+Math.sin(w)*a,T=t+C,k=t-C,P=r+S,E=r-S;e[c++]=T,e[c++]=P,e[--h]=P,e[--h]=k,e[f++]=k,e[f++]=E,e[--d]=E,e[--d]=T}g=i,p=s+a,_=t+g,y=t-g,m=r+p;const x=r-p;return e[c++]=_,e[c++]=m,e[--d]=x,e[--d]=_,i&&(e[c++]=y,e[c++]=m,e[--d]=x,e[--d]=y),!0},triangulate(n,e,t,r,i,s){if(n.length===0)return;let o=0,a=0;for(let c=0;c<n.length;c+=2)o+=n[c],a+=n[c+1];o/=n.length/2,a/=n.length/2;let l=r;e[l*t]=o,e[l*t+1]=a;const u=l++;for(let c=0;c<n.length;c+=2)e[l*t]=n[c],e[l*t+1]=n[c+1],c>0&&(i[s++]=l,i[s++]=u,i[s++]=l-1),l++;i[s++]=u+1,i[s++]=u,i[s++]=l-1}},sC={...fo,extension:{...fo.extension,name:"ellipse"}},oC={...fo,extension:{...fo.extension,name:"roundedRectangle"}},i_=1e-4,Hp=1e-4;function aC(n){const e=n.length;if(e<6)return 1;let t=0;for(let r=0,i=n[e-2],s=n[e-1];r<e;r+=2){const o=n[r],a=n[r+1];t+=(o-i)*(a+s),i=o,s=a}return t<0?-1:1}function Yp(n,e,t,r,i,s,o,a){const l=n-t*i,u=e-r*i,c=n+t*s,h=e+r*s;let f,d;o?(f=r,d=-t):(f=-r,d=t);const g=l+f,p=u+d,_=c+f,y=h+d;return a.push(g,p),a.push(_,y),2}function xr(n,e,t,r,i,s,o,a){const l=t-n,u=r-e;let c=Math.atan2(l,u),h=Math.atan2(i-n,s-e);a&&c<h?c+=Math.PI*2:!a&&c>h&&(h+=Math.PI*2);let f=c;const d=h-c,g=Math.abs(d),p=Math.sqrt(l*l+u*u),_=(15*g*Math.sqrt(p)/Math.PI>>0)+1,y=d/_;if(f+=y,a){o.push(n,e),o.push(t,r);for(let m=1,x=f;m<_;m++,x+=y)o.push(n,e),o.push(n+Math.sin(x)*p,e+Math.cos(x)*p);o.push(n,e),o.push(i,s)}else{o.push(t,r),o.push(n,e);for(let m=1,x=f;m<_;m++,x+=y)o.push(n+Math.sin(x)*p,e+Math.cos(x)*p),o.push(n,e);o.push(i,s),o.push(n,e)}return _*2}function lC(n,e,t,r,i,s){const o=i_;if(n.length===0)return;const a=e;let l=a.alignment;if(e.alignment!==.5){let O=aC(n);l=(l-.5)*O+.5}const u=new Xe(n[0],n[1]),c=new Xe(n[n.length-2],n[n.length-1]),h=r,f=Math.abs(u.x-c.x)<o&&Math.abs(u.y-c.y)<o;if(h){n=n.slice(),f&&(n.pop(),n.pop(),c.set(n[n.length-2],n[n.length-1]));const O=(u.x+c.x)*.5,D=(c.y+u.y)*.5;n.unshift(O,D),n.push(O,D)}const d=i,g=n.length/2;let p=n.length;const _=d.length/2,y=a.width/2,m=y*y,x=a.miterLimit*a.miterLimit;let v=n[0],w=n[1],C=n[2],S=n[3],T=0,k=0,P=-(w-S),E=v-C,L=0,F=0,j=Math.sqrt(P*P+E*E);P/=j,E/=j,P*=y,E*=y;const Z=l,I=(1-Z)*2,N=Z*2;h||(a.cap==="round"?p+=xr(v-P*(I-N)*.5,w-E*(I-N)*.5,v-P*I,w-E*I,v+P*N,w+E*N,d,!0)+2:a.cap==="square"&&(p+=Yp(v,w,P,E,I,N,!0,d))),d.push(v-P*I,w-E*I),d.push(v+P*N,w+E*N);for(let O=1;O<g-1;++O){v=n[(O-1)*2],w=n[(O-1)*2+1],C=n[O*2],S=n[O*2+1],T=n[(O+1)*2],k=n[(O+1)*2+1],P=-(w-S),E=v-C,j=Math.sqrt(P*P+E*E),P/=j,E/=j,P*=y,E*=y,L=-(S-k),F=C-T,j=Math.sqrt(L*L+F*F),L/=j,F/=j,L*=y,F*=y;const D=C-v,H=w-S,q=C-T,A=k-S,G=D*q+H*A,Y=H*q-A*D,be=Y<0;if(Math.abs(Y)<.001*Math.abs(G)){d.push(C-P*I,S-E*I),d.push(C+P*N,S+E*N),G>=0&&(a.join==="round"?p+=xr(C,S,C-P*I,S-E*I,C-L*I,S-F*I,d,!1)+4:p+=2,d.push(C-L*N,S-F*N),d.push(C+L*I,S+F*I));continue}const It=(-P+v)*(-E+S)-(-P+C)*(-E+w),Vf=(-L+T)*(-F+S)-(-L+C)*(-F+k),Po=(D*Vf-q*It)/Y,Ao=(A*It-H*Vf)/Y,Il=(Po-C)*(Po-C)+(Ao-S)*(Ao-S),mr=C+(Po-C)*I,gr=S+(Ao-S)*I,yr=C-(Po-C)*N,_r=S-(Ao-S)*N,kx=Math.min(D*D+H*H,q*q+A*A),Wf=be?I:N,bx=kx+Wf*Wf*m;Il<=bx?a.join==="bevel"||Il/m>x?(be?(d.push(mr,gr),d.push(C+P*N,S+E*N),d.push(mr,gr),d.push(C+L*N,S+F*N)):(d.push(C-P*I,S-E*I),d.push(yr,_r),d.push(C-L*I,S-F*I),d.push(yr,_r)),p+=2):a.join==="round"?be?(d.push(mr,gr),d.push(C+P*N,S+E*N),p+=xr(C,S,C+P*N,S+E*N,C+L*N,S+F*N,d,!0)+4,d.push(mr,gr),d.push(C+L*N,S+F*N)):(d.push(C-P*I,S-E*I),d.push(yr,_r),p+=xr(C,S,C-P*I,S-E*I,C-L*I,S-F*I,d,!1)+4,d.push(C-L*I,S-F*I),d.push(yr,_r)):(d.push(mr,gr),d.push(yr,_r)):(d.push(C-P*I,S-E*I),d.push(C+P*N,S+E*N),a.join==="round"?be?p+=xr(C,S,C+P*N,S+E*N,C+L*N,S+F*N,d,!0)+2:p+=xr(C,S,C-P*I,S-E*I,C-L*I,S-F*I,d,!1)+2:a.join==="miter"&&Il/m<=x&&(be?(d.push(yr,_r),d.push(yr,_r)):(d.push(mr,gr),d.push(mr,gr)),p+=2),d.push(C-L*I,S-F*I),d.push(C+L*N,S+F*N),p+=2)}v=n[(g-2)*2],w=n[(g-2)*2+1],C=n[(g-1)*2],S=n[(g-1)*2+1],P=-(w-S),E=v-C,j=Math.sqrt(P*P+E*E),P/=j,E/=j,P*=y,E*=y,d.push(C-P*I,S-E*I),d.push(C+P*N,S+E*N),h||(a.cap==="round"?p+=xr(C-P*(I-N)*.5,S-E*(I-N)*.5,C-P*I,S-E*I,C+P*N,S+E*N,d,!1)+2:a.cap==="square"&&(p+=Yp(C,S,P,E,I,N,!1,d)));const R=Hp*Hp;for(let O=_;O<p+_-2;++O)v=d[O*2],w=d[O*2+1],C=d[(O+1)*2],S=d[(O+1)*2+1],T=d[(O+2)*2],k=d[(O+2)*2+1],!(Math.abs(v*(S-k)+C*(k-w)+T*(w-S))<R)&&s.push(O,O+1,O+2)}function uC(n,e,t,r){const i=i_;if(n.length===0)return;const s=n[0],o=n[1],a=n[n.length-2],l=n[n.length-1],u=e||Math.abs(s-a)<i&&Math.abs(o-l)<i,c=t,h=n.length/2,f=c.length/2;for(let d=0;d<h;d++)c.push(n[d*2]),c.push(n[d*2+1]);for(let d=0;d<h-1;d++)r.push(f+d,f+d+1);u&&r.push(f+h-1,f)}function s_(n,e,t,r,i,s,o){const a=HS(n,e,2);if(!a)return;for(let u=0;u<a.length;u+=3)s[o++]=a[u]+i,s[o++]=a[u+1]+i,s[o++]=a[u+2]+i;let l=i*r;for(let u=0;u<n.length;u+=2)t[l]=n[u],t[l+1]=n[u+1],l+=r}const cC=[],hC={extension:{type:ne.ShapeBuilder,name:"polygon"},build(n,e){for(let t=0;t<n.points.length;t++)e[t]=n.points[t];return!0},triangulate(n,e,t,r,i,s){s_(n,cC,e,t,r,i,s)}},fC={extension:{type:ne.ShapeBuilder,name:"rectangle"},build(n,e){const t=n,r=t.x,i=t.y,s=t.width,o=t.height;return s>0&&o>0?(e[0]=r,e[1]=i,e[2]=r+s,e[3]=i,e[4]=r+s,e[5]=i+o,e[6]=r,e[7]=i+o,!0):!1},triangulate(n,e,t,r,i,s){let o=0;r*=t,e[r+o]=n[0],e[r+o+1]=n[1],o+=t,e[r+o]=n[2],e[r+o+1]=n[3],o+=t,e[r+o]=n[6],e[r+o+1]=n[7],o+=t,e[r+o]=n[4],e[r+o+1]=n[5],o+=t;const a=r/t;i[s++]=a,i[s++]=a+1,i[s++]=a+2,i[s++]=a+1,i[s++]=a+3,i[s++]=a+2}},dC={extension:{type:ne.ShapeBuilder,name:"triangle"},build(n,e){return e[0]=n.x,e[1]=n.y,e[2]=n.x2,e[3]=n.y2,e[4]=n.x3,e[5]=n.y3,!0},triangulate(n,e,t,r,i,s){let o=0;r*=t,e[r+o]=n[0],e[r+o+1]=n[1],o+=t,e[r+o]=n[2],e[r+o+1]=n[3],o+=t,e[r+o]=n[4],e[r+o+1]=n[5];const a=r/t;i[s++]=a,i[s++]=a+1,i[s++]=a+2}},pC=new W,mC=new Te;function gC(n,e,t,r){const i=e.matrix?n.copyFrom(e.matrix).invert():n.identity();if(e.textureSpace==="local"){const o=t.getBounds(mC);e.width&&o.pad(e.width);const{x:a,y:l}=o,u=1/o.width,c=1/o.height,h=-a*u,f=-l*c,d=i.a,g=i.b,p=i.c,_=i.d;i.a*=u,i.b*=u,i.c*=c,i.d*=c,i.tx=h*d+f*p+i.tx,i.ty=h*g+f*_+i.ty}else i.translate(e.texture.frame.x,e.texture.frame.y),i.scale(1/e.texture.source.width,1/e.texture.source.height);const s=e.texture.source.style;return!(e.fill instanceof On)&&s.addressMode==="clamp-to-edge"&&(s.addressMode="repeat",s.update()),r&&i.append(pC.copyFrom(r).invert()),i}const Pl={};Wt.handleByMap(ne.ShapeBuilder,Pl);Wt.add(fC,hC,dC,fo,sC,oC);const yC=new Te,_C=new W;function xC(n,e){const{geometryData:t,batches:r}=e;r.length=0,t.indices.length=0,t.vertices.length=0,t.uvs.length=0;for(let i=0;i<n.instructions.length;i++){const s=n.instructions[i];if(s.action==="texture")vC(s.data,r,t);else if(s.action==="fill"||s.action==="stroke"){const o=s.action==="stroke",a=s.data.path.shapePath,l=s.data.style,u=s.data.hole;o&&u&&Xp(u.shapePath,l,!0,r,t),u&&(a.shapePrimitives[a.shapePrimitives.length-1].holes=u.shapePath.shapePrimitives),Xp(a,l,o,r,t)}}}function vC(n,e,t){const r=[],i=Pl.rectangle,s=yC;s.x=n.dx,s.y=n.dy,s.width=n.dw,s.height=n.dh;const o=n.transform;if(!i.build(s,r))return;const{vertices:a,uvs:l,indices:u}=t,c=u.length,h=a.length/2;o&&n_(r,o),i.triangulate(r,a,2,h,u,c);const f=n.image,d=f.uvs;l.push(d.x0,d.y0,d.x1,d.y1,d.x3,d.y3,d.x2,d.y2);const g=An.get(r_);g.indexOffset=c,g.indexSize=u.length-c,g.attributeOffset=h,g.attributeSize=a.length/2-h,g.baseColor=n.style,g.alpha=n.alpha,g.texture=f,g.geometryData=t,e.push(g)}function Xp(n,e,t,r,i){const{vertices:s,uvs:o,indices:a}=i;n.shapePrimitives.forEach(({shape:l,transform:u,holes:c})=>{const h=[],f=Pl[l.type];if(!f.build(l,h))return;const d=a.length,g=s.length/2;let p="triangle-list";if(u&&n_(h,u),t){const x=l.closePath??!0,v=e;v.pixelLine?(uC(h,x,s,a),p="line-list"):lC(h,v,!1,x,s,a)}else if(c){const x=[],v=h.slice();wC(c).forEach(C=>{x.push(v.length/2),v.push(...C)}),s_(v,x,s,2,g,a,d)}else f.triangulate(h,s,2,g,a,d);const _=o.length/2,y=e.texture;if(y!==J.WHITE){const x=gC(_C,e,l,u);nC(s,2,g,o,_,2,s.length/2-g,x)}else rC(o,_,2,s.length/2-g);const m=An.get(r_);m.indexOffset=d,m.indexSize=a.length-d,m.attributeOffset=g,m.attributeSize=s.length/2-g,m.baseColor=e.color,m.alpha=e.alpha,m.texture=y,m.geometryData=i,m.topology=p,r.push(m)})}function wC(n){const e=[];for(let t=0;t<n.length;t++){const r=n[t].shape,i=[];Pl[r.type].build(r,i)&&e.push(i)}return e}class SC{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}}class CC{constructor(){this.instructions=new hy}init(e){this.batcher=new tC({maxTextures:e}),this.instructions.reset()}get geometry(){return K(pw,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}}const Cf=class Zc{constructor(e){this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null),this._renderer=e,e.renderableGC.addManagedHash(this,"_gpuContextHash"),e.renderableGC.addManagedHash(this,"_graphicsDataContextHash")}init(e){Zc.defaultOptions.bezierSmoothness=(e==null?void 0:e.bezierSmoothness)??Zc.defaultOptions.bezierSmoothness}getContextRenderData(e){return this._graphicsDataContextHash[e.uid]||this._initContextRenderData(e)}updateGpuContext(e){let t=this._gpuContextHash[e.uid]||this._initContext(e);if(e.dirty){t?this._cleanGraphicsContextData(e):t=this._initContext(e),xC(e,t);const r=e.batchMode;e.customShader||r==="no-batch"?t.isBatchable=!1:r==="auto"?t.isBatchable=t.geometryData.vertices.length<400:t.isBatchable=!0,e.dirty=!1}return t}getGpuContext(e){return this._gpuContextHash[e.uid]||this._initContext(e)}_initContextRenderData(e){const t=An.get(CC,{maxTextures:this._renderer.limits.maxBatchableTextures}),{batches:r,geometryData:i}=this._gpuContextHash[e.uid],s=i.vertices.length,o=i.indices.length;for(let c=0;c<r.length;c++)r[c].applyTransform=!1;const a=t.batcher;a.ensureAttributeBuffer(s),a.ensureIndexBuffer(o),a.begin();for(let c=0;c<r.length;c++){const h=r[c];a.add(h)}a.finish(t.instructions);const l=a.geometry;l.indexBuffer.setDataWithSize(a.indexBuffer,a.indexSize,!0),l.buffers[0].setDataWithSize(a.attributeBuffer.float32View,a.attributeSize,!0);const u=a.batches;for(let c=0;c<u.length;c++){const h=u[c];h.bindGroup=h2(h.textures.textures,h.textures.count,this._renderer.limits.maxBatchableTextures)}return this._graphicsDataContextHash[e.uid]=t,t}_initContext(e){const t=new SC;return t.context=e,this._gpuContextHash[e.uid]=t,e.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[e.uid]}onGraphicsContextDestroy(e){this._cleanGraphicsContextData(e),e.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[e.uid]=null}_cleanGraphicsContextData(e){const t=this._gpuContextHash[e.uid];t.isBatchable||this._graphicsDataContextHash[e.uid]&&(An.return(this.getContextRenderData(e)),this._graphicsDataContextHash[e.uid]=null),t.batches&&t.batches.forEach(r=>{An.return(r)})}destroy(){for(const e in this._gpuContextHash)this._gpuContextHash[e]&&this.onGraphicsContextDestroy(this._gpuContextHash[e].context)}};Cf.extension={type:[ne.WebGLSystem,ne.WebGPUSystem,ne.CanvasSystem],name:"graphicsContext"};Cf.defaultOptions={bezierSmoothness:.5};let o_=Cf;const TC=8,sa=11920929e-14,kC=1;function a_(n,e,t,r,i,s,o,a,l,u){const h=Math.min(.99,Math.max(0,u??o_.defaultOptions.bezierSmoothness));let f=(kC-h)/1;return f*=f,bC(e,t,r,i,s,o,a,l,n,f),n}function bC(n,e,t,r,i,s,o,a,l,u){Jc(n,e,t,r,i,s,o,a,l,u,0),l.push(o,a)}function Jc(n,e,t,r,i,s,o,a,l,u,c){if(c>TC)return;const h=(n+t)/2,f=(e+r)/2,d=(t+i)/2,g=(r+s)/2,p=(i+o)/2,_=(s+a)/2,y=(h+d)/2,m=(f+g)/2,x=(d+p)/2,v=(g+_)/2,w=(y+x)/2,C=(m+v)/2;if(c>0){let S=o-n,T=a-e;const k=Math.abs((t-o)*T-(r-a)*S),P=Math.abs((i-o)*T-(s-a)*S);if(k>sa&&P>sa){if((k+P)*(k+P)<=u*(S*S+T*T)){l.push(w,C);return}}else if(k>sa){if(k*k<=u*(S*S+T*T)){l.push(w,C);return}}else if(P>sa){if(P*P<=u*(S*S+T*T)){l.push(w,C);return}}else if(S=w-(n+o)/2,T=C-(e+a)/2,S*S+T*T<=u){l.push(w,C);return}}Jc(n,e,h,f,y,m,w,C,l,u,c+1),Jc(w,C,x,v,p,_,o,a,l,u,c+1)}const PC=8,AC=11920929e-14,EC=1;function MC(n,e,t,r,i,s,o,a){const u=Math.min(.99,Math.max(0,a??o_.defaultOptions.bezierSmoothness));let c=(EC-u)/1;return c*=c,RC(e,t,r,i,s,o,n,c),n}function RC(n,e,t,r,i,s,o,a){eh(o,n,e,t,r,i,s,a,0),o.push(i,s)}function eh(n,e,t,r,i,s,o,a,l){if(l>PC)return;const u=(e+r)/2,c=(t+i)/2,h=(r+s)/2,f=(i+o)/2,d=(u+h)/2,g=(c+f)/2;let p=s-e,_=o-t;const y=Math.abs((r-s)*_-(i-o)*p);if(y>AC){if(y*y<=a*(p*p+_*_)){n.push(d,g);return}}else if(p=d-(e+s)/2,_=g-(t+o)/2,p*p+_*_<=a){n.push(d,g);return}eh(n,e,t,u,c,d,g,a,l+1),eh(n,d,g,h,f,s,o,a,l+1)}function l_(n,e,t,r,i,s,o,a){let l=Math.abs(i-s);(!o&&i>s||o&&s>i)&&(l=2*Math.PI-l),a||(a=Math.max(6,Math.floor(6*Math.pow(r,1/3)*(l/Math.PI)))),a=Math.max(a,3);let u=l/a,c=i;u*=o?-1:1;for(let h=0;h<a+1;h++){const f=Math.cos(c),d=Math.sin(c),g=e+f*r,p=t+d*r;n.push(g,p),c+=u}}function IC(n,e,t,r,i,s){const o=n[n.length-2],l=n[n.length-1]-t,u=o-e,c=i-t,h=r-e,f=Math.abs(l*h-u*c);if(f<1e-8||s===0){(n[n.length-2]!==e||n[n.length-1]!==t)&&n.push(e,t);return}const d=l*l+u*u,g=c*c+h*h,p=l*c+u*h,_=s*Math.sqrt(d)/f,y=s*Math.sqrt(g)/f,m=_*p/d,x=y*p/g,v=_*h+y*u,w=_*c+y*l,C=u*(y+m),S=l*(y+m),T=h*(_+x),k=c*(_+x),P=Math.atan2(S-w,C-v),E=Math.atan2(k-w,T-v);l_(n,v+e,w+t,s,P,E,u*c>h*l)}const Bs=Math.PI*2,Fu={centerX:0,centerY:0,ang1:0,ang2:0},Ou=({x:n,y:e},t,r,i,s,o,a,l)=>{n*=t,e*=r;const u=i*n-s*e,c=s*n+i*e;return l.x=u+o,l.y=c+a,l};function FC(n,e){const t=e===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(e/4),r=e===1.5707963267948966?.551915024494:t,i=Math.cos(n),s=Math.sin(n),o=Math.cos(n+e),a=Math.sin(n+e);return[{x:i-s*r,y:s+i*r},{x:o+a*r,y:a-o*r},{x:o,y:a}]}const qp=(n,e,t,r)=>{const i=n*r-e*t<0?-1:1;let s=n*t+e*r;return s>1&&(s=1),s<-1&&(s=-1),i*Math.acos(s)},OC=(n,e,t,r,i,s,o,a,l,u,c,h,f)=>{const d=Math.pow(i,2),g=Math.pow(s,2),p=Math.pow(c,2),_=Math.pow(h,2);let y=d*g-d*_-g*p;y<0&&(y=0),y/=d*_+g*p,y=Math.sqrt(y)*(o===a?-1:1);const m=y*i/s*h,x=y*-s/i*c,v=u*m-l*x+(n+t)/2,w=l*m+u*x+(e+r)/2,C=(c-m)/i,S=(h-x)/s,T=(-c-m)/i,k=(-h-x)/s,P=qp(1,0,C,S);let E=qp(C,S,T,k);a===0&&E>0&&(E-=Bs),a===1&&E<0&&(E+=Bs),f.centerX=v,f.centerY=w,f.ang1=P,f.ang2=E};function NC(n,e,t,r,i,s,o,a=0,l=0,u=0){if(s===0||o===0)return;const c=Math.sin(a*Bs/360),h=Math.cos(a*Bs/360),f=h*(e-r)/2+c*(t-i)/2,d=-c*(e-r)/2+h*(t-i)/2;if(f===0&&d===0)return;s=Math.abs(s),o=Math.abs(o);const g=Math.pow(f,2)/Math.pow(s,2)+Math.pow(d,2)/Math.pow(o,2);g>1&&(s*=Math.sqrt(g),o*=Math.sqrt(g)),OC(e,t,r,i,s,o,l,u,c,h,f,d,Fu);let{ang1:p,ang2:_}=Fu;const{centerX:y,centerY:m}=Fu;let x=Math.abs(_)/(Bs/4);Math.abs(1-x)<1e-7&&(x=1);const v=Math.max(Math.ceil(x),1);_/=v;let w=n[n.length-2],C=n[n.length-1];const S={x:0,y:0};for(let T=0;T<v;T++){const k=FC(p,_),{x:P,y:E}=Ou(k[0],s,o,h,c,y,m,S),{x:L,y:F}=Ou(k[1],s,o,h,c,y,m,S),{x:j,y:Z}=Ou(k[2],s,o,h,c,y,m,S);a_(n,w,C,P,E,L,F,j,Z),w=j,C=Z,p+=_}}function zC(n,e,t){const r=(o,a)=>{const l=a.x-o.x,u=a.y-o.y,c=Math.sqrt(l*l+u*u),h=l/c,f=u/c;return{len:c,nx:h,ny:f}},i=(o,a)=>{o===0?n.moveTo(a.x,a.y):n.lineTo(a.x,a.y)};let s=e[e.length-1];for(let o=0;o<e.length;o++){const a=e[o%e.length],l=a.radius??t;if(l<=0){i(o,a),s=a;continue}const u=e[(o+1)%e.length],c=r(a,s),h=r(a,u);if(c.len<1e-4||h.len<1e-4){i(o,a),s=a;continue}let f=Math.asin(c.nx*h.ny-c.ny*h.nx),d=1,g=!1;c.nx*h.nx-c.ny*-h.ny<0?f<0?f=Math.PI+f:(f=Math.PI-f,d=-1,g=!0):f>0&&(d=-1,g=!0);const p=f/2;let _,y=Math.abs(Math.cos(p)*l/Math.sin(p));y>Math.min(c.len/2,h.len/2)?(y=Math.min(c.len/2,h.len/2),_=Math.abs(y*Math.sin(p)/Math.cos(p))):_=l;const m=a.x+h.nx*y+-h.ny*_*d,x=a.y+h.ny*y+h.nx*_*d,v=Math.atan2(c.ny,c.nx)+Math.PI/2*d,w=Math.atan2(h.ny,h.nx)-Math.PI/2*d;o===0&&n.moveTo(m+Math.cos(v)*_,x+Math.sin(v)*_),n.arc(m,x,_,v,w,g),s=a}}function DC(n,e,t,r){const i=(a,l)=>Math.sqrt((a.x-l.x)**2+(a.y-l.y)**2),s=(a,l,u)=>({x:a.x+(l.x-a.x)*u,y:a.y+(l.y-a.y)*u}),o=e.length;for(let a=0;a<o;a++){const l=e[(a+1)%o],u=l.radius??t;if(u<=0){a===0?n.moveTo(l.x,l.y):n.lineTo(l.x,l.y);continue}const c=e[a],h=e[(a+2)%o],f=i(c,l);let d;if(f<1e-4)d=l;else{const _=Math.min(f/2,u);d=s(l,c,_/f)}const g=i(h,l);let p;if(g<1e-4)p=l;else{const _=Math.min(g/2,u);p=s(l,h,_/g)}a===0?n.moveTo(d.x,d.y):n.lineTo(d.x,d.y),n.quadraticCurveTo(l.x,l.y,p.x,p.y,r)}}const LC=new Te;class BC{constructor(e){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new tn,this._graphicsPath2D=e,this.signed=e.checkForHoles}moveTo(e,t){return this.startPoly(e,t),this}lineTo(e,t){this._ensurePoly();const r=this._currentPoly.points,i=r[r.length-2],s=r[r.length-1];return(i!==e||s!==t)&&r.push(e,t),this}arc(e,t,r,i,s,o){this._ensurePoly(!1);const a=this._currentPoly.points;return l_(a,e,t,r,i,s,o),this}arcTo(e,t,r,i,s){this._ensurePoly();const o=this._currentPoly.points;return IC(o,e,t,r,i,s),this}arcToSvg(e,t,r,i,s,o,a){const l=this._currentPoly.points;return NC(l,this._currentPoly.lastX,this._currentPoly.lastY,o,a,e,t,r,i,s),this}bezierCurveTo(e,t,r,i,s,o,a){this._ensurePoly();const l=this._currentPoly;return a_(this._currentPoly.points,l.lastX,l.lastY,e,t,r,i,s,o,a),this}quadraticCurveTo(e,t,r,i,s){this._ensurePoly();const o=this._currentPoly;return MC(this._currentPoly.points,o.lastX,o.lastY,e,t,r,i,s),this}closePath(){return this.endPoly(!0),this}addPath(e,t){this.endPoly(),t&&!t.isIdentity()&&(e=e.clone(!0),e.transform(t));const r=this.shapePrimitives,i=r.length;for(let s=0;s<e.instructions.length;s++){const o=e.instructions[s];this[o.action](...o.data)}if(e.checkForHoles&&r.length-i>1){let s=null;for(let o=i;o<r.length;o++){const a=r[o];if(a.shape.type==="polygon"){const l=a.shape,u=s==null?void 0:s.shape;u&&u.containsPolygon(l)?(s.holes||(s.holes=[]),s.holes.push(a),r.copyWithin(o,o+1),r.length--,o--):s=a}}}return this}finish(e=!1){this.endPoly(e)}rect(e,t,r,i,s){return this.drawShape(new Te(e,t,r,i),s),this}circle(e,t,r,i){return this.drawShape(new vf(e,t,r),i),this}poly(e,t,r){const i=new Ls(e);return i.closePath=t,this.drawShape(i,r),this}regularPoly(e,t,r,i,s=0,o){i=Math.max(i|0,3);const a=-1*Math.PI/2+s,l=Math.PI*2/i,u=[];for(let c=0;c<i;c++){const h=a-c*l;u.push(e+r*Math.cos(h),t+r*Math.sin(h))}return this.poly(u,!0,o),this}roundPoly(e,t,r,i,s,o=0,a){if(i=Math.max(i|0,3),s<=0)return this.regularPoly(e,t,r,i,o);const l=r*Math.sin(Math.PI/i)-.001;s=Math.min(s,l);const u=-1*Math.PI/2+o,c=Math.PI*2/i,h=(i-2)*Math.PI/i/2;for(let f=0;f<i;f++){const d=f*c+u,g=e+r*Math.cos(d),p=t+r*Math.sin(d),_=d+Math.PI+h,y=d-Math.PI-h,m=g+s*Math.cos(_),x=p+s*Math.sin(_),v=g+s*Math.cos(y),w=p+s*Math.sin(y);f===0?this.moveTo(m,x):this.lineTo(m,x),this.quadraticCurveTo(g,p,v,w,a)}return this.closePath()}roundShape(e,t,r=!1,i){return e.length<3?this:(r?DC(this,e,t,i):zC(this,e,t),this.closePath())}filletRect(e,t,r,i,s){if(s===0)return this.rect(e,t,r,i);const o=Math.min(r,i)/2,a=Math.min(o,Math.max(-o,s)),l=e+r,u=t+i,c=a<0?-a:0,h=Math.abs(a);return this.moveTo(e,t+h).arcTo(e+c,t+c,e+h,t,h).lineTo(l-h,t).arcTo(l-c,t+c,l,t+h,h).lineTo(l,u-h).arcTo(l-c,u-c,e+r-h,u,h).lineTo(e+h,u).arcTo(e+c,u-c,e,u-h,h).closePath()}chamferRect(e,t,r,i,s,o){if(s<=0)return this.rect(e,t,r,i);const a=Math.min(s,Math.min(r,i)/2),l=e+r,u=t+i,c=[e+a,t,l-a,t,l,t+a,l,u-a,l-a,u,e+a,u,e,u-a,e,t+a];for(let h=c.length-1;h>=2;h-=2)c[h]===c[h-2]&&c[h-1]===c[h-3]&&c.splice(h-1,2);return this.poly(c,!0,o)}ellipse(e,t,r,i,s){return this.drawShape(new wf(e,t,r,i),s),this}roundRect(e,t,r,i,s,o){return this.drawShape(new Sf(e,t,r,i,s),o),this}drawShape(e,t){return this.endPoly(),this.shapePrimitives.push({shape:e,transform:t}),this}startPoly(e,t){let r=this._currentPoly;return r&&this.endPoly(),r=new Ls,r.points.push(e,t),this._currentPoly=r,this}endPoly(e=!1){const t=this._currentPoly;return t&&t.points.length>2&&(t.closePath=e,this.shapePrimitives.push({shape:t})),this._currentPoly=null,this}_ensurePoly(e=!0){if(!this._currentPoly&&(this._currentPoly=new Ls,e)){const t=this.shapePrimitives[this.shapePrimitives.length-1];if(t){let r=t.shape.x,i=t.shape.y;if(t.transform&&!t.transform.isIdentity()){const s=t.transform,o=r;r=s.a*r+s.c*i+s.tx,i=s.b*o+s.d*i+s.ty}this._currentPoly.points.push(r,i)}else this._currentPoly.points.push(0,0)}}buildPath(){const e=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let t=0;t<e.instructions.length;t++){const r=e.instructions[t];this[r.action](...r.data)}this.finish()}get bounds(){const e=this._bounds;e.clear();const t=this.shapePrimitives;for(let r=0;r<t.length;r++){const i=t[r],s=i.shape.getBounds(LC);i.transform?e.addRect(s,i.transform):e.addRect(s)}return e}}class Xi{constructor(e,t=!1){this.instructions=[],this.uid=ke("graphicsPath"),this._dirty=!0,this.checkForHoles=t,typeof e=="string"?a2(e,this):this.instructions=(e==null?void 0:e.slice())??[]}get shapePath(){return this._shapePath||(this._shapePath=new BC(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(e,t){return e=e.clone(),this.instructions.push({action:"addPath",data:[e,t]}),this._dirty=!0,this}arc(...e){return this.instructions.push({action:"arc",data:e}),this._dirty=!0,this}arcTo(...e){return this.instructions.push({action:"arcTo",data:e}),this._dirty=!0,this}arcToSvg(...e){return this.instructions.push({action:"arcToSvg",data:e}),this._dirty=!0,this}bezierCurveTo(...e){return this.instructions.push({action:"bezierCurveTo",data:e}),this._dirty=!0,this}bezierCurveToShort(e,t,r,i,s){const o=this.instructions[this.instructions.length-1],a=this.getLastPoint(Xe.shared);let l=0,u=0;if(!o||o.action!=="bezierCurveTo")l=a.x,u=a.y;else{l=o.data[2],u=o.data[3];const c=a.x,h=a.y;l=c+(c-l),u=h+(h-u)}return this.instructions.push({action:"bezierCurveTo",data:[l,u,e,t,r,i,s]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...e){return this.instructions.push({action:"ellipse",data:e}),this._dirty=!0,this}lineTo(...e){return this.instructions.push({action:"lineTo",data:e}),this._dirty=!0,this}moveTo(...e){return this.instructions.push({action:"moveTo",data:e}),this}quadraticCurveTo(...e){return this.instructions.push({action:"quadraticCurveTo",data:e}),this._dirty=!0,this}quadraticCurveToShort(e,t,r){const i=this.instructions[this.instructions.length-1],s=this.getLastPoint(Xe.shared);let o=0,a=0;if(!i||i.action!=="quadraticCurveTo")o=s.x,a=s.y;else{o=i.data[0],a=i.data[1];const l=s.x,u=s.y;o=l+(l-o),a=u+(u-a)}return this.instructions.push({action:"quadraticCurveTo",data:[o,a,e,t,r]}),this._dirty=!0,this}rect(e,t,r,i,s){return this.instructions.push({action:"rect",data:[e,t,r,i,s]}),this._dirty=!0,this}circle(e,t,r,i){return this.instructions.push({action:"circle",data:[e,t,r,i]}),this._dirty=!0,this}roundRect(...e){return this.instructions.push({action:"roundRect",data:e}),this._dirty=!0,this}poly(...e){return this.instructions.push({action:"poly",data:e}),this._dirty=!0,this}regularPoly(...e){return this.instructions.push({action:"regularPoly",data:e}),this._dirty=!0,this}roundPoly(...e){return this.instructions.push({action:"roundPoly",data:e}),this._dirty=!0,this}roundShape(...e){return this.instructions.push({action:"roundShape",data:e}),this._dirty=!0,this}filletRect(...e){return this.instructions.push({action:"filletRect",data:e}),this._dirty=!0,this}chamferRect(...e){return this.instructions.push({action:"chamferRect",data:e}),this._dirty=!0,this}star(e,t,r,i,s,o,a){s||(s=i/2);const l=-1*Math.PI/2+o,u=r*2,c=Math.PI*2/u,h=[];for(let f=0;f<u;f++){const d=f%2?s:i,g=f*c+l;h.push(e+d*Math.cos(g),t+d*Math.sin(g))}return this.poly(h,!0,a),this}clone(e=!1){const t=new Xi;if(t.checkForHoles=this.checkForHoles,!e)t.instructions=this.instructions.slice();else for(let r=0;r<this.instructions.length;r++){const i=this.instructions[r];t.instructions.push({action:i.action,data:i.data.slice()})}return t}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(e){if(e.isIdentity())return this;const t=e.a,r=e.b,i=e.c,s=e.d,o=e.tx,a=e.ty;let l=0,u=0,c=0,h=0,f=0,d=0,g=0,p=0;for(let _=0;_<this.instructions.length;_++){const y=this.instructions[_],m=y.data;switch(y.action){case"moveTo":case"lineTo":l=m[0],u=m[1],m[0]=t*l+i*u+o,m[1]=r*l+s*u+a;break;case"bezierCurveTo":c=m[0],h=m[1],f=m[2],d=m[3],l=m[4],u=m[5],m[0]=t*c+i*h+o,m[1]=r*c+s*h+a,m[2]=t*f+i*d+o,m[3]=r*f+s*d+a,m[4]=t*l+i*u+o,m[5]=r*l+s*u+a;break;case"quadraticCurveTo":c=m[0],h=m[1],l=m[2],u=m[3],m[0]=t*c+i*h+o,m[1]=r*c+s*h+a,m[2]=t*l+i*u+o,m[3]=r*l+s*u+a;break;case"arcToSvg":l=m[5],u=m[6],g=m[0],p=m[1],m[0]=t*g+i*p,m[1]=r*g+s*p,m[5]=t*l+i*u+o,m[6]=r*l+s*u+a;break;case"circle":m[4]=gs(m[3],e);break;case"rect":m[4]=gs(m[4],e);break;case"ellipse":m[8]=gs(m[8],e);break;case"roundRect":m[5]=gs(m[5],e);break;case"addPath":m[0].transform(e);break;case"poly":m[2]=gs(m[2],e);break;default:qe("unknown transform action",y.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(e){let t=this.instructions.length-1,r=this.instructions[t];if(!r)return e.x=0,e.y=0,e;for(;r.action==="closePath";){if(t--,t<0)return e.x=0,e.y=0,e;r=this.instructions[t]}switch(r.action){case"moveTo":case"lineTo":e.x=r.data[0],e.y=r.data[1];break;case"quadraticCurveTo":e.x=r.data[2],e.y=r.data[3];break;case"bezierCurveTo":e.x=r.data[4],e.y=r.data[5];break;case"arc":case"arcToSvg":e.x=r.data[5],e.y=r.data[6];break;case"addPath":r.data[0].getLastPoint(e);break}return e}}function gs(n,e){return n?n.prepend(e):e.clone()}function _e(n,e,t){const r=n.getAttribute(e);return r?Number(r):t}function UC(n,e){const t=n.querySelectorAll("defs");for(let r=0;r<t.length;r++){const i=t[r];for(let s=0;s<i.children.length;s++){const o=i.children[s];switch(o.nodeName.toLowerCase()){case"lineargradient":e.defs[o.id]=GC(o);break;case"radialgradient":e.defs[o.id]=jC();break}}}}function GC(n){const e=_e(n,"x1",0),t=_e(n,"y1",0),r=_e(n,"x2",1),i=_e(n,"y2",0),s=n.getAttribute("gradientUnits")||"objectBoundingBox",o=new On(e,t,r,i,s==="objectBoundingBox"?"local":"global");for(let a=0;a<n.children.length;a++){const l=n.children[a],u=_e(l,"offset",0),c=ge.shared.setValue(l.getAttribute("stop-color")).toNumber();o.addColorStop(u,c)}return o}function jC(n){return qe("[SVG Parser] Radial gradients are not yet supported"),new On(0,0,1,0)}function Kp(n){const e=n.match(/url\s*\(\s*['"]?\s*#([^'"\s)]+)\s*['"]?\s*\)/i);return e?e[1]:""}const Qp={fill:{type:"paint",default:0},"fill-opacity":{type:"number",default:1},stroke:{type:"paint",default:0},"stroke-width":{type:"number",default:1},"stroke-opacity":{type:"number",default:1},"stroke-linecap":{type:"string",default:"butt"},"stroke-linejoin":{type:"string",default:"miter"},"stroke-miterlimit":{type:"number",default:10},"stroke-dasharray":{type:"string",default:"none"},"stroke-dashoffset":{type:"number",default:0},opacity:{type:"number",default:1}};function u_(n,e){const t=n.getAttribute("style"),r={},i={},s={strokeStyle:r,fillStyle:i,useFill:!1,useStroke:!1};for(const o in Qp){const a=n.getAttribute(o);a&&Zp(e,s,o,a.trim())}if(t){const o=t.split(";");for(let a=0;a<o.length;a++){const l=o[a].trim(),[u,c]=l.split(":");Qp[u]&&Zp(e,s,u,c.trim())}}return{strokeStyle:s.useStroke?r:null,fillStyle:s.useFill?i:null,useFill:s.useFill,useStroke:s.useStroke}}function Zp(n,e,t,r){switch(t){case"stroke":if(r!=="none"){if(r.startsWith("url(")){const i=Kp(r);e.strokeStyle.fill=n.defs[i]}else e.strokeStyle.color=ge.shared.setValue(r).toNumber();e.useStroke=!0}break;case"stroke-width":e.strokeStyle.width=Number(r);break;case"fill":if(r!=="none"){if(r.startsWith("url(")){const i=Kp(r);e.fillStyle.fill=n.defs[i]}else e.fillStyle.color=ge.shared.setValue(r).toNumber();e.useFill=!0}break;case"fill-opacity":e.fillStyle.alpha=Number(r);break;case"stroke-opacity":e.strokeStyle.alpha=Number(r);break;case"opacity":e.fillStyle.alpha=Number(r),e.strokeStyle.alpha=Number(r);break}}function $C(n,e){if(typeof n=="string"){const o=document.createElement("div");o.innerHTML=n.trim(),n=o.querySelector("svg")}const t={context:e,defs:{},path:new Xi};UC(n,t);const r=n.children,{fillStyle:i,strokeStyle:s}=u_(n,t);for(let o=0;o<r.length;o++){const a=r[o];a.nodeName.toLowerCase()!=="defs"&&c_(a,t,i,s)}return e}function c_(n,e,t,r){const i=n.children,{fillStyle:s,strokeStyle:o}=u_(n,e);s&&t?t={...t,...s}:s&&(t=s),o&&r?r={...r,...o}:o&&(r=o);const a=!t&&!r;a&&(t={color:0});let l,u,c,h,f,d,g,p,_,y,m,x,v,w,C,S,T;switch(n.nodeName.toLowerCase()){case"path":w=n.getAttribute("d"),n.getAttribute("fill-rule")==="evenodd"&&qe("SVG Evenodd fill rule not supported, your svg may render incorrectly"),C=new Xi(w,!0),e.context.path(C),t&&e.context.fill(t),r&&e.context.stroke(r);break;case"circle":g=_e(n,"cx",0),p=_e(n,"cy",0),_=_e(n,"r",0),e.context.ellipse(g,p,_,_),t&&e.context.fill(t),r&&e.context.stroke(r);break;case"rect":l=_e(n,"x",0),u=_e(n,"y",0),S=_e(n,"width",0),T=_e(n,"height",0),y=_e(n,"rx",0),m=_e(n,"ry",0),y||m?e.context.roundRect(l,u,S,T,y||m):e.context.rect(l,u,S,T),t&&e.context.fill(t),r&&e.context.stroke(r);break;case"ellipse":g=_e(n,"cx",0),p=_e(n,"cy",0),y=_e(n,"rx",0),m=_e(n,"ry",0),e.context.beginPath(),e.context.ellipse(g,p,y,m),t&&e.context.fill(t),r&&e.context.stroke(r);break;case"line":c=_e(n,"x1",0),h=_e(n,"y1",0),f=_e(n,"x2",0),d=_e(n,"y2",0),e.context.beginPath(),e.context.moveTo(c,h),e.context.lineTo(f,d),r&&e.context.stroke(r);break;case"polygon":v=n.getAttribute("points"),x=v.match(/\d+/g).map(k=>parseInt(k,10)),e.context.poly(x,!0),t&&e.context.fill(t),r&&e.context.stroke(r);break;case"polyline":v=n.getAttribute("points"),x=v.match(/\d+/g).map(k=>parseInt(k,10)),e.context.poly(x,!1),r&&e.context.stroke(r);break;case"g":case"svg":break;default:{qe(`[SVG parser] <${n.nodeName}> elements unsupported`);break}}a&&(t=null);for(let k=0;k<i.length;k++)c_(i[k],e,t,r)}function VC(n){return ge.isColorLike(n)}function Jp(n){return n instanceof bl}function em(n){return n instanceof On}function WC(n){return n instanceof J}function HC(n,e,t){const r=ge.shared.setValue(e??0);return n.color=r.toNumber(),n.alpha=r.alpha===1?t.alpha:r.alpha,n.texture=J.WHITE,{...t,...n}}function YC(n,e,t){return n.texture=e,{...t,...n}}function tm(n,e,t){return n.fill=e,n.color=16777215,n.texture=e.texture,n.matrix=e.transform,{...t,...n}}function nm(n,e,t){return e.buildGradient(),n.fill=e,n.color=16777215,n.texture=e.texture,n.matrix=e.transform,n.textureSpace=e.textureSpace,{...t,...n}}function XC(n,e){const t={...e,...n},r=ge.shared.setValue(t.color);return t.alpha*=r.alpha,t.color=r.toNumber(),t}function Nr(n,e){if(n==null)return null;const t={},r=n;return VC(n)?HC(t,n,e):WC(n)?YC(t,n,e):Jp(n)?tm(t,n,e):em(n)?nm(t,n,e):r.fill&&Jp(r.fill)?tm(r,r.fill,e):r.fill&&em(r.fill)?nm(r,r.fill,e):XC(r,e)}function Qa(n,e){const{width:t,alignment:r,miterLimit:i,cap:s,join:o,pixelLine:a,...l}=e,u=Nr(n,l);return u?{width:t,alignment:r,miterLimit:i,cap:s,join:o,pixelLine:a,...u}:null}const qC=new Xe,rm=new W,Tf=class on extends gn{constructor(){super(...arguments),this.uid=ke("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new Xi,this._transform=new W,this._fillStyle={...on.defaultFillStyle},this._strokeStyle={...on.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new tn,this._boundsDirty=!0}clone(){const e=new on;return e.batchMode=this.batchMode,e.instructions=this.instructions.slice(),e._activePath=this._activePath.clone(),e._transform=this._transform.clone(),e._fillStyle={...this._fillStyle},e._strokeStyle={...this._strokeStyle},e._stateStack=this._stateStack.slice(),e._bounds=this._bounds.clone(),e._boundsDirty=!0,e}get fillStyle(){return this._fillStyle}set fillStyle(e){this._fillStyle=Nr(e,on.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(e){this._strokeStyle=Qa(e,on.defaultStrokeStyle)}setFillStyle(e){return this._fillStyle=Nr(e,on.defaultFillStyle),this}setStrokeStyle(e){return this._strokeStyle=Nr(e,on.defaultStrokeStyle),this}texture(e,t,r,i,s,o){return this.instructions.push({action:"texture",data:{image:e,dx:r||0,dy:i||0,dw:s||e.frame.width,dh:o||e.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:t?ge.shared.setValue(t).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new Xi,this}fill(e,t){let r;const i=this.instructions[this.instructions.length-1];return this._tick===0&&i&&i.action==="stroke"?r=i.data.path:r=this._activePath.clone(),r?(e!=null&&(t!==void 0&&typeof e=="number"&&(K(ve,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),e={color:e,alpha:t}),this._fillStyle=Nr(e,on.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:r}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:e,y:t}=this._activePath.getLastPoint(Xe.shared);this._activePath.clear(),this._activePath.moveTo(e,t)}stroke(e){let t;const r=this.instructions[this.instructions.length-1];return this._tick===0&&r&&r.action==="fill"?t=r.data.path:t=this._activePath.clone(),t?(e!=null&&(this._strokeStyle=Qa(e,on.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:t}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let e=0;e<2;e++){const t=this.instructions[this.instructions.length-1-e],r=this._activePath.clone();if(t&&(t.action==="stroke"||t.action==="fill"))if(t.data.hole)t.data.hole.addPath(r);else{t.data.hole=r;break}}return this._initNextPathLocation(),this}arc(e,t,r,i,s,o){this._tick++;const a=this._transform;return this._activePath.arc(a.a*e+a.c*t+a.tx,a.b*e+a.d*t+a.ty,r,i,s,o),this}arcTo(e,t,r,i,s){this._tick++;const o=this._transform;return this._activePath.arcTo(o.a*e+o.c*t+o.tx,o.b*e+o.d*t+o.ty,o.a*r+o.c*i+o.tx,o.b*r+o.d*i+o.ty,s),this}arcToSvg(e,t,r,i,s,o,a){this._tick++;const l=this._transform;return this._activePath.arcToSvg(e,t,r,i,s,l.a*o+l.c*a+l.tx,l.b*o+l.d*a+l.ty),this}bezierCurveTo(e,t,r,i,s,o,a){this._tick++;const l=this._transform;return this._activePath.bezierCurveTo(l.a*e+l.c*t+l.tx,l.b*e+l.d*t+l.ty,l.a*r+l.c*i+l.tx,l.b*r+l.d*i+l.ty,l.a*s+l.c*o+l.tx,l.b*s+l.d*o+l.ty,a),this}closePath(){var e;return this._tick++,(e=this._activePath)==null||e.closePath(),this}ellipse(e,t,r,i){return this._tick++,this._activePath.ellipse(e,t,r,i,this._transform.clone()),this}circle(e,t,r){return this._tick++,this._activePath.circle(e,t,r,this._transform.clone()),this}path(e){return this._tick++,this._activePath.addPath(e,this._transform.clone()),this}lineTo(e,t){this._tick++;const r=this._transform;return this._activePath.lineTo(r.a*e+r.c*t+r.tx,r.b*e+r.d*t+r.ty),this}moveTo(e,t){this._tick++;const r=this._transform,i=this._activePath.instructions,s=r.a*e+r.c*t+r.tx,o=r.b*e+r.d*t+r.ty;return i.length===1&&i[0].action==="moveTo"?(i[0].data[0]=s,i[0].data[1]=o,this):(this._activePath.moveTo(s,o),this)}quadraticCurveTo(e,t,r,i,s){this._tick++;const o=this._transform;return this._activePath.quadraticCurveTo(o.a*e+o.c*t+o.tx,o.b*e+o.d*t+o.ty,o.a*r+o.c*i+o.tx,o.b*r+o.d*i+o.ty,s),this}rect(e,t,r,i){return this._tick++,this._activePath.rect(e,t,r,i,this._transform.clone()),this}roundRect(e,t,r,i,s){return this._tick++,this._activePath.roundRect(e,t,r,i,s,this._transform.clone()),this}poly(e,t){return this._tick++,this._activePath.poly(e,t,this._transform.clone()),this}regularPoly(e,t,r,i,s=0,o){return this._tick++,this._activePath.regularPoly(e,t,r,i,s,o),this}roundPoly(e,t,r,i,s,o){return this._tick++,this._activePath.roundPoly(e,t,r,i,s,o),this}roundShape(e,t,r,i){return this._tick++,this._activePath.roundShape(e,t,r,i),this}filletRect(e,t,r,i,s){return this._tick++,this._activePath.filletRect(e,t,r,i,s),this}chamferRect(e,t,r,i,s,o){return this._tick++,this._activePath.chamferRect(e,t,r,i,s,o),this}star(e,t,r,i,s=0,o=0){return this._tick++,this._activePath.star(e,t,r,i,s,o,this._transform.clone()),this}svg(e){return this._tick++,$C(e,this),this}restore(){const e=this._stateStack.pop();return e&&(this._transform=e.transform,this._fillStyle=e.fillStyle,this._strokeStyle=e.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(e){return this._transform.rotate(e),this}scale(e,t=e){return this._transform.scale(e,t),this}setTransform(e,t,r,i,s,o){return e instanceof W?(this._transform.set(e.a,e.b,e.c,e.d,e.tx,e.ty),this):(this._transform.set(e,t,r,i,s,o),this)}transform(e,t,r,i,s,o){return e instanceof W?(this._transform.append(e),this):(rm.set(e,t,r,i,s,o),this._transform.append(rm),this)}translate(e,t=e){return this._transform.translate(e,t),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this.dirty||(this.emit("update",this,16),this.dirty=!0,this._boundsDirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;const e=this._bounds;e.clear();for(let t=0;t<this.instructions.length;t++){const r=this.instructions[t],i=r.action;if(i==="fill"){const s=r.data;e.addBounds(s.path.bounds)}else if(i==="texture"){const s=r.data;e.addFrame(s.dx,s.dy,s.dx+s.dw,s.dy+s.dh,s.transform)}if(i==="stroke"){const s=r.data,o=s.style.alignment,a=s.style.width*(1-o),l=s.path.bounds;e.addFrame(l.minX-a,l.minY-a,l.maxX+a,l.maxY+a)}}return e}containsPoint(e){var i;if(!this.bounds.containsPoint(e.x,e.y))return!1;const t=this.instructions;let r=!1;for(let s=0;s<t.length;s++){const o=t[s],a=o.data,l=a.path;if(!o.action||!l)continue;const u=a.style,c=l.shapePath.shapePrimitives;for(let h=0;h<c.length;h++){const f=c[h].shape;if(!u||!f)continue;const d=c[h].transform,g=d?d.applyInverse(e,qC):e;if(o.action==="fill")r=f.contains(g.x,g.y);else{const _=u;r=f.strokeContains(g.x,g.y,_.width,_.alignment)}const p=a.hole;if(p){const _=(i=p.shapePath)==null?void 0:i.shapePrimitives;if(_)for(let y=0;y<_.length;y++)_[y].shape.contains(g.x,g.y)&&(r=!1)}if(r)return!0}}return r}destroy(e=!1){if(this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners(),typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.textureSource;this._fillStyle.texture&&(this._fillStyle.fill&&"uid"in this._fillStyle.fill?this._fillStyle.fill.destroy():this._fillStyle.texture.destroy(r)),this._strokeStyle.texture&&(this._strokeStyle.fill&&"uid"in this._strokeStyle.fill?this._strokeStyle.fill.destroy():this._strokeStyle.texture.destroy(r))}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};Tf.defaultFillStyle={color:16777215,alpha:1,texture:J.WHITE,matrix:null,fill:null,textureSpace:"local"};Tf.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:J.WHITE,matrix:null,fill:null,textureSpace:"local",pixelLine:!1};let Qt=Tf;const im=["align","breakWords","cssOverrides","fontVariant","fontWeight","leading","letterSpacing","lineHeight","padding","textBaseline","trim","whiteSpace","wordWrap","wordWrapWidth","fontFamily","fontStyle","fontSize"];function KC(n){const e=[];let t=0;for(let r=0;r<im.length;r++){const i=`_${im[r]}`;e[t++]=n[i]}return t=h_(n._fill,e,t),t=ZC(n._stroke,e,t),t=JC(n.dropShadow,e,t),t=QC(n.filters,e,t),e.join("-")}function QC(n,e,t){if(!n)return t;for(const r of n)e[t++]=r.uid;return t}function h_(n,e,t){var r;return n&&(e[t++]=n.color,e[t++]=n.alpha,e[t++]=(r=n.fill)==null?void 0:r.styleKey),t}function ZC(n,e,t){return n&&(t=h_(n,e,t),e[t++]=n.width,e[t++]=n.alignment,e[t++]=n.cap,e[t++]=n.join,e[t++]=n.miterLimit),t}function JC(n,e,t){return n&&(e[t++]=n.alpha,e[t++]=n.angle,e[t++]=n.blur,e[t++]=n.distance,e[t++]=ge.shared.setValue(n.color).toNumber()),t}const kf=class fi extends gn{constructor(e={}){super(),eT(e);const t={...fi.defaultTextStyle,...e};for(const r in t){const i=r;this[i]=t[r]}this.update()}get align(){return this._align}set align(e){this._align=e,this.update()}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords=e,this.update()}get dropShadow(){return this._dropShadow}set dropShadow(e){e!==null&&typeof e=="object"?this._dropShadow=this._createProxy({...fi.defaultDropShadow,...e}):this._dropShadow=e?this._createProxy({...fi.defaultDropShadow}):null,this.update()}get fontFamily(){return this._fontFamily}set fontFamily(e){this._fontFamily=e,this.update()}get fontSize(){return this._fontSize}set fontSize(e){typeof e=="string"?this._fontSize=parseInt(e,10):this._fontSize=e,this.update()}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle=e.toLowerCase(),this.update()}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant=e,this.update()}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight=e,this.update()}get leading(){return this._leading}set leading(e){this._leading=e,this.update()}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing=e,this.update()}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight=e,this.update()}get padding(){return this._padding}set padding(e){this._padding=e,this.update()}get filters(){return this._filters}set filters(e){this._filters=e,this.update()}get trim(){return this._trim}set trim(e){this._trim=e,this.update()}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline=e,this.update()}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace=e,this.update()}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap=e,this.update()}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth=e,this.update()}get fill(){return this._originalFill}set fill(e){e!==this._originalFill&&(this._originalFill=e,this._isFillStyle(e)&&(this._originalFill=this._createProxy({...Qt.defaultFillStyle,...e},()=>{this._fill=Nr({...this._originalFill},Qt.defaultFillStyle)})),this._fill=Nr(e===0?"black":e,Qt.defaultFillStyle),this.update())}get stroke(){return this._originalStroke}set stroke(e){e!==this._originalStroke&&(this._originalStroke=e,this._isFillStyle(e)&&(this._originalStroke=this._createProxy({...Qt.defaultStrokeStyle,...e},()=>{this._stroke=Qa({...this._originalStroke},Qt.defaultStrokeStyle)})),this._stroke=Qa(e,Qt.defaultStrokeStyle),this.update())}_generateKey(){return this._styleKey=KC(this),this._styleKey}update(){this._styleKey=null,this.emit("update",this)}reset(){const e=fi.defaultTextStyle;for(const t in e)this[t]=e[t]}get styleKey(){return this._styleKey||this._generateKey()}clone(){return new fi({align:this.align,breakWords:this.breakWords,dropShadow:this._dropShadow?{...this._dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,leading:this.leading,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,textBaseline:this.textBaseline,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth,filters:this._filters?[...this._filters]:void 0})}_getFinalPadding(){let e=0;if(this._filters)for(let t=0;t<this._filters.length;t++)e+=this._filters[t].padding;return Math.max(this._padding,e)}destroy(e=!1){var r,i,s,o;if(this.removeAllListeners(),typeof e=="boolean"?e:e==null?void 0:e.texture){const a=typeof e=="boolean"?e:e==null?void 0:e.textureSource;(r=this._fill)!=null&&r.texture&&this._fill.texture.destroy(a),(i=this._originalFill)!=null&&i.texture&&this._originalFill.texture.destroy(a),(s=this._stroke)!=null&&s.texture&&this._stroke.texture.destroy(a),(o=this._originalStroke)!=null&&o.texture&&this._originalStroke.texture.destroy(a)}this._fill=null,this._stroke=null,this.dropShadow=null,this._originalStroke=null,this._originalFill=null}_createProxy(e,t){return new Proxy(e,{set:(r,i,s)=>(r[i]=s,t==null||t(i,s),this.update(),!0)})}_isFillStyle(e){return(e??null)!==null&&!(ge.isColorLike(e)||e instanceof On||e instanceof bl)}};kf.defaultDropShadow={alpha:1,angle:Math.PI/6,blur:0,color:"black",distance:5};kf.defaultTextStyle={align:"left",breakWords:!1,dropShadow:null,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,padding:0,stroke:null,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let f_=kf;function eT(n){const e=n;if(typeof e.dropShadow=="boolean"&&e.dropShadow){const t=f_.defaultDropShadow;n.dropShadow={alpha:e.dropShadowAlpha??t.alpha,angle:e.dropShadowAngle??t.angle,blur:e.dropShadowBlur??t.blur,color:e.dropShadowColor??t.color,distance:e.dropShadowDistance??t.distance}}if(e.strokeThickness!==void 0){K(ve,"strokeThickness is now a part of stroke");const t=e.stroke;let r={};if(ge.isColorLike(t))r.color=t;else if(t instanceof On||t instanceof bl)r.fill=t;else if(Object.hasOwnProperty.call(t,"color")||Object.hasOwnProperty.call(t,"fill"))r=t;else throw new Error("Invalid stroke value.");n.stroke={...r,width:e.strokeThickness}}if(Array.isArray(e.fillGradientStops)){if(K(ve,"gradient fill is now a fill pattern: `new FillGradient(...)`"),!Array.isArray(e.fill)||e.fill.length===0)throw new Error("Invalid fill value. Expected an array of colors for gradient fill.");e.fill.length!==e.fillGradientStops.length&&qe("The number of fill colors must match the number of fill gradient stops.");const t=new On({start:{x:0,y:0},end:{x:0,y:1},textureSpace:"local"}),r=e.fillGradientStops.slice(),i=e.fill.map(s=>ge.shared.setValue(s).toNumber());r.forEach((s,o)=>{t.addColorStop(s,i[o])}),n.fill={fill:t}}}class tT{constructor(e){this._canvasPool=Object.create(null),this.canvasOptions=e||{},this.enableFullScreen=!1}_createCanvasAndContext(e,t){const r=kt.get().createCanvas();r.width=e,r.height=t;const i=r.getContext("2d");return{canvas:r,context:i}}getOptimalCanvasAndContext(e,t,r=1){e=Math.ceil(e*r-1e-6),t=Math.ceil(t*r-1e-6),e=Vi(e),t=Vi(t);const i=(e<<17)+(t<<1);this._canvasPool[i]||(this._canvasPool[i]=[]);let s=this._canvasPool[i].pop();return s||(s=this._createCanvasAndContext(e,t)),s}returnCanvasAndContext(e){const t=e.canvas,{width:r,height:i}=t,s=(r<<17)+(i<<1);e.context.resetTransform(),e.context.clearRect(0,0,r,i),this._canvasPool[s].push(e)}clear(){this._canvasPool={}}}const sm=new tT,om=1e5;function am(n,e,t,r=0){if(n.texture===J.WHITE&&!n.fill)return ge.shared.setValue(n.color).setAlpha(n.alpha??1).toHexa();if(n.fill){if(n.fill instanceof bl){const i=n.fill,s=e.createPattern(i.texture.source.resource,"repeat"),o=i.transform.copyTo(W.shared);return o.scale(i.texture.frame.width,i.texture.frame.height),s.setTransform(o),s}else if(n.fill instanceof On){const i=n.fill,s=i.type==="linear",o=i.textureSpace==="local";let a=1,l=1;o&&t&&(a=t.width+r,l=t.height+r);let u,c=!1;if(s){const{start:h,end:f}=i;u=e.createLinearGradient(h.x*a,h.y*l,f.x*a,f.y*l),c=Math.abs(f.x-h.x)<Math.abs((f.y-h.y)*.1)}else{const{center:h,innerRadius:f,outerCenter:d,outerRadius:g}=i;u=e.createRadialGradient(h.x*a,h.y*l,f*a,d.x*a,d.y*l,g*a)}if(c&&o&&t){const h=t.lineHeight/l;for(let f=0;f<t.lines.length;f++){const d=(f*t.lineHeight+r/2)/l;i.colorStops.forEach(g=>{const p=d+g.offset*h;u.addColorStop(Math.floor(p*om)/om,ge.shared.setValue(g.color).toHex())})}}else i.colorStops.forEach(h=>{u.addColorStop(h.offset,ge.shared.setValue(h.color).toHex())});return u}}else{const i=e.createPattern(n.texture.source.resource,"repeat"),s=n.matrix.copyTo(W.shared);return s.scale(n.texture.frame.width,n.texture.frame.height),i.setTransform(s),i}return qe("FillStyle not recognised",n),"red"}class He extends gf{constructor(e){e instanceof Qt&&(e={context:e});const{context:t,roundPixels:r,...i}=e||{};super({label:"Graphics",...i}),this.renderPipeId="graphics",t?this._context=t:this._context=this._ownedContext=new Qt,this._context.on("update",this.onViewUpdate,this),this.didViewUpdate=!0,this.allowChildren=!1,this.roundPixels=r??!1}set context(e){e!==this._context&&(this._context.off("update",this.onViewUpdate,this),this._context=e,this._context.on("update",this.onViewUpdate,this),this.onViewUpdate())}get context(){return this._context}get bounds(){return this._context.bounds}updateBounds(){}containsPoint(e){return this._context.containsPoint(e)}destroy(e){this._ownedContext&&!e?this._ownedContext.destroy(e):(e===!0||(e==null?void 0:e.context)===!0)&&this._context.destroy(e),this._ownedContext=null,this._context=null,super.destroy(e)}_callContextMethod(e,t){return this.context[e](...t),this}setFillStyle(...e){return this._callContextMethod("setFillStyle",e)}setStrokeStyle(...e){return this._callContextMethod("setStrokeStyle",e)}fill(...e){return this._callContextMethod("fill",e)}stroke(...e){return this._callContextMethod("stroke",e)}texture(...e){return this._callContextMethod("texture",e)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(...e){return this._callContextMethod("arc",e)}arcTo(...e){return this._callContextMethod("arcTo",e)}arcToSvg(...e){return this._callContextMethod("arcToSvg",e)}bezierCurveTo(...e){return this._callContextMethod("bezierCurveTo",e)}closePath(){return this._callContextMethod("closePath",[])}ellipse(...e){return this._callContextMethod("ellipse",e)}circle(...e){return this._callContextMethod("circle",e)}path(...e){return this._callContextMethod("path",e)}lineTo(...e){return this._callContextMethod("lineTo",e)}moveTo(...e){return this._callContextMethod("moveTo",e)}quadraticCurveTo(...e){return this._callContextMethod("quadraticCurveTo",e)}rect(...e){return this._callContextMethod("rect",e)}roundRect(...e){return this._callContextMethod("roundRect",e)}poly(...e){return this._callContextMethod("poly",e)}regularPoly(...e){return this._callContextMethod("regularPoly",e)}roundPoly(...e){return this._callContextMethod("roundPoly",e)}roundShape(...e){return this._callContextMethod("roundShape",e)}filletRect(...e){return this._callContextMethod("filletRect",e)}chamferRect(...e){return this._callContextMethod("chamferRect",e)}star(...e){return this._callContextMethod("star",e)}svg(...e){return this._callContextMethod("svg",e)}restore(...e){return this._callContextMethod("restore",e)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(...e){return this._callContextMethod("rotate",e)}scaleTransform(...e){return this._callContextMethod("scale",e)}setTransform(...e){return this._callContextMethod("setTransform",e)}transform(...e){return this._callContextMethod("transform",e)}translateTransform(...e){return this._callContextMethod("translate",e)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(e){this._context.fillStyle=e}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(e){this._context.strokeStyle=e}clone(e=!1){return e?new He(this._context.clone()):(this._ownedContext=null,new He(this._context))}lineStyle(e,t,r){K(ve,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");const i={};return e&&(i.width=e),t&&(i.color=t),r&&(i.alpha=r),this.context.strokeStyle=i,this}beginFill(e,t){K(ve,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");const r={};return e!==void 0&&(r.color=e),t!==void 0&&(r.alpha=t),this.context.fillStyle=r,this}endFill(){K(ve,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();const e=this.context.strokeStyle;return(e.width!==Qt.defaultStrokeStyle.width||e.color!==Qt.defaultStrokeStyle.color||e.alpha!==Qt.defaultStrokeStyle.alpha)&&this.context.stroke(),this}drawCircle(...e){return K(ve,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",e)}drawEllipse(...e){return K(ve,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",e)}drawPolygon(...e){return K(ve,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",e)}drawRect(...e){return K(ve,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",e)}drawRoundedRect(...e){return K(ve,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",e)}drawStar(...e){return K(ve,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",e)}}class nT extends gf{constructor(e,t){const{text:r,resolution:i,style:s,anchor:o,width:a,height:l,roundPixels:u,...c}=e;super({...c}),this.batched=!0,this._resolution=null,this._autoResolution=!0,this._didTextUpdate=!0,this._styleClass=t,this.text=r??"",this.style=s,this.resolution=i??null,this.allowChildren=!1,this._anchor=new Be({_onUpdate:()=>{this.onViewUpdate()}}),o&&(this.anchor=o),this.roundPixels=u??!1,a!==void 0&&(this.width=a),l!==void 0&&(this.height=l)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}set text(e){e=e.toString(),this._text!==e&&(this._text=e,this.onViewUpdate())}get text(){return this._text}set resolution(e){this._autoResolution=e===null,this._resolution=e,this.onViewUpdate()}get resolution(){return this._resolution}get style(){return this._style}set style(e){var t;e||(e={}),(t=this._style)==null||t.off("update",this.onViewUpdate,this),e instanceof this._styleClass?this._style=e:this._style=new this._styleClass(e),this._style.on("update",this.onViewUpdate,this),this.onViewUpdate()}get width(){return Math.abs(this.scale.x)*this.bounds.width}set width(e){this._setWidth(e,this.bounds.width)}get height(){return Math.abs(this.scale.y)*this.bounds.height}set height(e){this._setHeight(e,this.bounds.height)}getSize(e){return e||(e={}),e.width=Math.abs(this.scale.x)*this.bounds.width,e.height=Math.abs(this.scale.y)*this.bounds.height,e}setSize(e,t){typeof e=="object"?(t=e.height??e.width,e=e.width):t??(t=e),e!==void 0&&this._setWidth(e,this.bounds.width),t!==void 0&&this._setHeight(t,this.bounds.height)}containsPoint(e){const t=this.bounds.width,r=this.bounds.height,i=-t*this.anchor.x;let s=0;return e.x>=i&&e.x<=i+t&&(s=-r*this.anchor.y,e.y>=s&&e.y<=s+r)}onViewUpdate(){this.didViewUpdate||(this._didTextUpdate=!0),super.onViewUpdate()}destroy(e=!1){super.destroy(e),this.owner=null,this._bounds=null,this._anchor=null,(typeof e=="boolean"?e:e!=null&&e.style)&&this._style.destroy(e),this._style=null,this._text=null}}function rT(n,e){let t=n[0]??{};return(typeof t=="string"||n[1])&&(K(ve,`use new ${e}({ text: "hi!", style }) instead`),t={text:t,style:n[1]}),t}let vr=null,Sn=null;function iT(n,e){vr||(vr=kt.get().createCanvas(256,128),Sn=vr.getContext("2d",{willReadFrequently:!0}),Sn.globalCompositeOperation="copy",Sn.globalAlpha=1),(vr.width<n||vr.height<e)&&(vr.width=Vi(n),vr.height=Vi(e))}function lm(n,e,t){for(let r=0,i=4*t*e;r<e;++r,i+=4)if(n[i+3]!==0)return!1;return!0}function um(n,e,t,r,i){const s=4*e;for(let o=r,a=r*s+4*t;o<=i;++o,a+=s)if(n[a+3]!==0)return!1;return!0}function sT(...n){let e=n[0];e.canvas||(e={canvas:n[0],resolution:n[1]});const{canvas:t}=e,r=Math.min(e.resolution??1,1),i=e.width??t.width,s=e.height??t.height;let o=e.output;if(iT(i,s),!Sn)throw new TypeError("Failed to get canvas 2D context");Sn.drawImage(t,0,0,i,s,0,0,i*r,s*r);const l=Sn.getImageData(0,0,i,s).data;let u=0,c=0,h=i-1,f=s-1;for(;c<s&&lm(l,i,c);)++c;if(c===s)return Te.EMPTY;for(;lm(l,i,f);)--f;for(;um(l,i,u,c,f);)++u;for(;um(l,i,h,c,f);)--h;return++h,++f,Sn.globalCompositeOperation="source-over",Sn.strokeRect(u,c,h-u,f-c),Sn.globalCompositeOperation="copy",o??(o=new Te),o.set(u/r,c/r,(h-u)/r,(f-c)/r),o}const cm=new Te;class oT{getCanvasAndContext(e){const{text:t,style:r,resolution:i=1}=e,s=r._getFinalPadding(),o=hi.measureText(t||" ",r),a=Math.ceil(Math.ceil(Math.max(1,o.width)+s*2)*i),l=Math.ceil(Math.ceil(Math.max(1,o.height)+s*2)*i),u=sm.getOptimalCanvasAndContext(a,l);this._renderTextToCanvas(t,r,s,i,u);const c=r.trim?sT({canvas:u.canvas,width:a,height:l,resolution:1,output:cm}):cm.set(0,0,a,l);return{canvasAndContext:u,frame:c}}returnCanvasAndContext(e){sm.returnCanvasAndContext(e)}_renderTextToCanvas(e,t,r,i,s){var x,v,w,C;const{canvas:o,context:a}=s,l=Hy(t),u=hi.measureText(e||" ",t),c=u.lines,h=u.lineHeight,f=u.lineWidths,d=u.maxLineWidth,g=u.fontProperties,p=o.height;if(a.resetTransform(),a.scale(i,i),a.textBaseline=t.textBaseline,(x=t._stroke)!=null&&x.width){const S=t._stroke;a.lineWidth=S.width,a.miterLimit=S.miterLimit,a.lineJoin=S.join,a.lineCap=S.cap}a.font=l;let _,y;const m=t.dropShadow?2:1;for(let S=0;S<m;++S){const T=t.dropShadow&&S===0,k=T?Math.ceil(Math.max(1,p)+r*2):0,P=k*i;if(T){a.fillStyle="black",a.strokeStyle="black";const F=t.dropShadow,j=F.color,Z=F.alpha;a.shadowColor=ge.shared.setValue(j).setAlpha(Z).toRgbaString();const I=F.blur*i,N=F.distance*i;a.shadowBlur=I,a.shadowOffsetX=Math.cos(F.angle)*N,a.shadowOffsetY=Math.sin(F.angle)*N+P}else{if(a.fillStyle=t._fill?am(t._fill,a,u,r*2):null,(v=t._stroke)!=null&&v.width){const F=t._stroke.width*.5+r*2;a.strokeStyle=am(t._stroke,a,u,F)}a.shadowColor="black"}let E=(h-g.fontSize)/2;h-g.fontSize<0&&(E=0);const L=((w=t._stroke)==null?void 0:w.width)??0;for(let F=0;F<c.length;F++)_=L/2,y=L/2+F*h+g.ascent+E,t.align==="right"?_+=d-f[F]:t.align==="center"&&(_+=(d-f[F])/2),(C=t._stroke)!=null&&C.width&&this._drawLetterSpacing(c[F],t,s,_+r,y+r-k,!0),t._fill!==void 0&&this._drawLetterSpacing(c[F],t,s,_+r,y+r-k)}}_drawLetterSpacing(e,t,r,i,s,o=!1){const{context:a}=r,l=t.letterSpacing;let u=!1;if(hi.experimentalLetterSpacingSupported&&(hi.experimentalLetterSpacing?(a.letterSpacing=`${l}px`,a.textLetterSpacing=`${l}px`,u=!0):(a.letterSpacing="0px",a.textLetterSpacing="0px")),l===0||u){o?a.strokeText(e,i,s):a.fillText(e,i,s);return}let c=i;const h=hi.graphemeSegmenter(e);let f=a.measureText(e).width,d=0;for(let g=0;g<h.length;++g){const p=h[g];o?a.strokeText(p,c,s):a.fillText(p,c,s);let _="";for(let y=g+1;y<h.length;++y)_+=h[y];d=a.measureText(_).width,c+=f-d+l,f=d}}}const hm=new oT;class Za extends nT{constructor(...e){const t=rT(e,"Text");super(t,f_),this.renderPipeId="text",t.textureStyle&&(this.textureStyle=t.textureStyle instanceof qa?t.textureStyle:new qa(t.textureStyle))}updateBounds(){const e=this._bounds,t=this._anchor;let r=0,i=0;if(this._style.trim){const{frame:s,canvasAndContext:o}=hm.getCanvasAndContext({text:this.text,style:this._style,resolution:1});hm.returnCanvasAndContext(o),r=s.width,i=s.height}else{const s=hi.measureText(this._text,this._style);r=s.width,i=s.height}e.minX=-t._x*r,e.maxX=e.minX+r,e.minY=-t._y*i,e.maxY=e.minY+i}}Wt.add(sw,ow);var Jr=`in vec2 aPosition;
out vec2 vTextureCoord;

uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
uniform vec4 uOutputTexture;

vec4 filterVertexPosition( void )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
    
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aPosition * (uOutputFrame.zw * uInputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,ei=`struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;

struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>
  };

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getSize() -> vec2<f32>
{
  return gfu.uGlobalFrame.zw;
}
  
@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition)
  );
}`,aT=`
in vec2 vTextureCoord;
out vec4 finalColor;

uniform sampler2D uTexture;
uniform vec2 uOffset;

void main(void)
{
    vec4 color = vec4(0.0);

    // Sample top left pixel
    color += texture(uTexture, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y));

    // Sample top right pixel
    color += texture(uTexture, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y));

    // Sample bottom right pixel
    color += texture(uTexture, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y));

    // Sample bottom left pixel
    color += texture(uTexture, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y));

    // Average
    color *= 0.25;

    finalColor = color;
}`,lT=`struct KawaseBlurUniforms {
  uOffset:vec2<f32>,
};

@group(0) @binding(1) var uTexture: texture_2d<f32>; 
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> kawaseBlurUniforms : KawaseBlurUniforms;

@fragment
fn mainFragment(
  @builtin(position) position: vec4<f32>,
  @location(0) uv : vec2<f32>
) -> @location(0) vec4<f32> {
  let uOffset = kawaseBlurUniforms.uOffset;
  var color: vec4<f32> = vec4<f32>(0.0);

  // Sample top left pixel
  color += textureSample(uTexture, uSampler, vec2<f32>(uv.x - uOffset.x, uv.y + uOffset.y));
  // Sample top right pixel
  color += textureSample(uTexture, uSampler, vec2<f32>(uv.x + uOffset.x, uv.y + uOffset.y));
  // Sample bottom right pixel
  color += textureSample(uTexture, uSampler, vec2<f32>(uv.x + uOffset.x, uv.y - uOffset.y));
  // Sample bottom left pixel
  color += textureSample(uTexture, uSampler, vec2<f32>(uv.x - uOffset.x, uv.y - uOffset.y));
  // Average
  color *= 0.25;

  return color;
}`,uT=`
precision highp float;
in vec2 vTextureCoord;
out vec4 finalColor;

uniform sampler2D uTexture;
uniform vec2 uOffset;

uniform vec4 uInputClamp;

void main(void)
{
    vec4 color = vec4(0.0);

    // Sample top left pixel
    color += texture(uTexture, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y), uInputClamp.xy, uInputClamp.zw));

    // Sample top right pixel
    color += texture(uTexture, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y), uInputClamp.xy, uInputClamp.zw));

    // Sample bottom right pixel
    color += texture(uTexture, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y), uInputClamp.xy, uInputClamp.zw));

    // Sample bottom left pixel
    color += texture(uTexture, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y), uInputClamp.xy, uInputClamp.zw));

    // Average
    color *= 0.25;

    finalColor = color;
}
`,cT=`struct KawaseBlurUniforms {
  uOffset:vec2<f32>,
};

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;

@group(0) @binding(1) var uTexture: texture_2d<f32>; 
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> kawaseBlurUniforms : KawaseBlurUniforms;

@fragment
fn mainFragment(
  @builtin(position) position: vec4<f32>,
  @location(0) uv : vec2<f32>
) -> @location(0) vec4<f32> {
  let uOffset = kawaseBlurUniforms.uOffset;
  var color: vec4<f32> = vec4(0.0);

  // Sample top left pixel
  color += textureSample(uTexture, uSampler, clamp(vec2<f32>(uv.x - uOffset.x, uv.y + uOffset.y), gfu.uInputClamp.xy, gfu.uInputClamp.zw));
  // Sample top right pixel
  color += textureSample(uTexture, uSampler, clamp(vec2<f32>(uv.x + uOffset.x, uv.y + uOffset.y), gfu.uInputClamp.xy, gfu.uInputClamp.zw));
  // Sample bottom right pixel
  color += textureSample(uTexture, uSampler, clamp(vec2<f32>(uv.x + uOffset.x, uv.y - uOffset.y), gfu.uInputClamp.xy, gfu.uInputClamp.zw));
  // Sample bottom left pixel
  color += textureSample(uTexture, uSampler, clamp(vec2<f32>(uv.x - uOffset.x, uv.y - uOffset.y), gfu.uInputClamp.xy, gfu.uInputClamp.zw));
  // Average
  color *= 0.25;
    
  return color;
}`,hT=Object.defineProperty,fT=(n,e,t)=>e in n?hT(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Er=(n,e,t)=>(fT(n,typeof e!="symbol"?e+"":e,t),t);const d_=class p_ extends Qr{constructor(...e){let t=e[0]??{};(typeof t=="number"||Array.isArray(t))&&(K("6.0.0","KawaseBlurFilter constructor params are now options object. See params: { strength, quality, clamp, pixelSize }"),t={strength:t},e[1]!==void 0&&(t.quality=e[1]),e[2]!==void 0&&(t.clamp=e[2])),t={...p_.DEFAULT_OPTIONS,...t};const r=Vt.from({vertex:{source:ei,entryPoint:"mainVertex"},fragment:{source:t!=null&&t.clamp?cT:lT,entryPoint:"mainFragment"}}),i=pn.from({vertex:Jr,fragment:t!=null&&t.clamp?uT:aT,name:"kawase-blur-filter"});super({gpuProgram:r,glProgram:i,resources:{kawaseBlurUniforms:{uOffset:{value:new Float32Array(2),type:"vec2<f32>"}}}}),Er(this,"uniforms"),Er(this,"_pixelSize",{x:0,y:0}),Er(this,"_clamp"),Er(this,"_kernels",[]),Er(this,"_blur"),Er(this,"_quality"),this.uniforms=this.resources.kawaseBlurUniforms.uniforms,this.pixelSize=t.pixelSize??{x:1,y:1},Array.isArray(t.strength)?this.kernels=t.strength:typeof t.strength=="number"&&(this._blur=t.strength,this.quality=t.quality??3),this._clamp=!!t.clamp}apply(e,t,r,i){const s=this.pixelSizeX/t.source.width,o=this.pixelSizeY/t.source.height;let a;if(this._quality===1||this._blur===0)a=this._kernels[0]+.5,this.uniforms.uOffset[0]=a*s,this.uniforms.uOffset[1]=a*o,e.applyFilter(this,t,r,i);else{const l=oo.getSameSizeTexture(t);let u=t,c=l,h;const f=this._quality-1;for(let d=0;d<f;d++)a=this._kernels[d]+.5,this.uniforms.uOffset[0]=a*s,this.uniforms.uOffset[1]=a*o,e.applyFilter(this,u,c,!0),h=u,u=c,c=h;a=this._kernels[f]+.5,this.uniforms.uOffset[0]=a*s,this.uniforms.uOffset[1]=a*o,e.applyFilter(this,u,r,i),oo.returnTexture(l)}}get strength(){return this._blur}set strength(e){this._blur=e,this._generateKernels()}get quality(){return this._quality}set quality(e){this._quality=Math.max(1,Math.round(e)),this._generateKernels()}get kernels(){return this._kernels}set kernels(e){Array.isArray(e)&&e.length>0?(this._kernels=e,this._quality=e.length,this._blur=Math.max(...e)):(this._kernels=[0],this._quality=1)}get pixelSize(){return this._pixelSize}set pixelSize(e){if(typeof e=="number"){this.pixelSizeX=this.pixelSizeY=e;return}if(Array.isArray(e)){this.pixelSizeX=e[0],this.pixelSizeY=e[1];return}this._pixelSize=e}get pixelSizeX(){return this.pixelSize.x}set pixelSizeX(e){this.pixelSize.x=e}get pixelSizeY(){return this.pixelSize.y}set pixelSizeY(e){this.pixelSize.y=e}get clamp(){return this._clamp}_updatePadding(){this.padding=Math.ceil(this._kernels.reduce((e,t)=>e+t+.5,0))}_generateKernels(){const e=this._blur,t=this._quality,r=[e];if(e>0){let i=e;const s=e/t;for(let o=1;o<t;o++)i-=s,r.push(i)}this._kernels=r,this._updatePadding()}};Er(d_,"DEFAULT_OPTIONS",{strength:4,quality:3,clamp:!1,pixelSize:{x:1,y:1}});let dT=d_;var pT=`precision highp float;
in vec2 vTextureCoord;
out vec4 finalColor;

uniform sampler2D uTexture;
uniform float uAlpha;
uniform vec3 uColor;
uniform vec2 uOffset;

uniform vec4 uInputSize;

void main(void){
    vec4 sample = texture(uTexture, vTextureCoord - uOffset * uInputSize.zw);

    // Premultiply alpha
    sample.rgb = uColor.rgb * sample.a;

    // alpha user alpha
    sample *= uAlpha;

    finalColor = sample;
}`,mT=`struct DropShadowUniforms {
  uAlpha: f32,
  uColor: vec3<f32>,
  uOffset: vec2<f32>,
};

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;

@group(0) @binding(1) var uTexture: texture_2d<f32>; 
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> dropShadowUniforms : DropShadowUniforms;

@fragment
fn mainFragment(
  @builtin(position) position: vec4<f32>,
  @location(0) uv : vec2<f32>
) -> @location(0) vec4<f32> {
  var color: vec4<f32> = textureSample(uTexture, uSampler, uv - dropShadowUniforms.uOffset * gfu.uInputSize.zw);

  // Premultiply alpha
  color = vec4<f32>(vec3<f32>(dropShadowUniforms.uColor.rgb * color.a), color.a);
  // alpha user alpha
  color *= dropShadowUniforms.uAlpha;

  return color;
}`,gT=Object.defineProperty,yT=(n,e,t)=>e in n?gT(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,di=(n,e,t)=>(yT(n,typeof e!="symbol"?e+"":e,t),t);const m_=class g_ extends Qr{constructor(e){e={...g_.DEFAULT_OPTIONS,...e};const t=Vt.from({vertex:{source:ei,entryPoint:"mainVertex"},fragment:{source:mT,entryPoint:"mainFragment"}}),r=pn.from({vertex:Jr,fragment:pT,name:"drop-shadow-filter"});super({gpuProgram:t,glProgram:r,resources:{dropShadowUniforms:{uAlpha:{value:e.alpha,type:"f32"},uColor:{value:new Float32Array(3),type:"vec3<f32>"},uOffset:{value:e.offset,type:"vec2<f32>"}}},resolution:e.resolution}),di(this,"uniforms"),di(this,"shadowOnly",!1),di(this,"_color"),di(this,"_blurFilter"),di(this,"_basePass"),this.uniforms=this.resources.dropShadowUniforms.uniforms,this._color=new ge,this.color=e.color??0,this._blurFilter=new dT({strength:e.kernels??e.blur,quality:e.kernels?void 0:e.quality}),this._basePass=new Qr({gpuProgram:Vt.from({vertex:{source:ei,entryPoint:"mainVertex"},fragment:{source:`
                    @group(0) @binding(1) var uTexture: texture_2d<f32>; 
                    @group(0) @binding(2) var uSampler: sampler;
                    @fragment
                    fn mainFragment(
                        @builtin(position) position: vec4<f32>,
                        @location(0) uv : vec2<f32>
                    ) -> @location(0) vec4<f32> {
                        return textureSample(uTexture, uSampler, uv);
                    }
                    `,entryPoint:"mainFragment"}}),glProgram:pn.from({vertex:Jr,fragment:`
                in vec2 vTextureCoord;
                out vec4 finalColor;
                uniform sampler2D uTexture;

                void main(void){
                    finalColor = texture(uTexture, vTextureCoord);
                }
                `,name:"drop-shadow-filter"}),resources:{}}),Object.assign(this,e)}apply(e,t,r,i){const s=oo.getSameSizeTexture(t);e.applyFilter(this,t,s,!0),this._blurFilter.apply(e,s,r,i),this.shadowOnly||e.applyFilter(this._basePass,t,r,!1),oo.returnTexture(s)}get offset(){return this.uniforms.uOffset}set offset(e){this.uniforms.uOffset=e,this._updatePadding()}get offsetX(){return this.offset.x}set offsetX(e){this.offset.x=e,this._updatePadding()}get offsetY(){return this.offset.y}set offsetY(e){this.offset.y=e,this._updatePadding()}get color(){return this._color.value}set color(e){this._color.setValue(e);const[t,r,i]=this._color.toArray();this.uniforms.uColor[0]=t,this.uniforms.uColor[1]=r,this.uniforms.uColor[2]=i}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}get blur(){return this._blurFilter.strength}set blur(e){this._blurFilter.strength=e,this._updatePadding()}get quality(){return this._blurFilter.quality}set quality(e){this._blurFilter.quality=e,this._updatePadding()}get kernels(){return this._blurFilter.kernels}set kernels(e){this._blurFilter.kernels=e}get pixelSize(){return this._blurFilter.pixelSize}set pixelSize(e){typeof e=="number"&&(e={x:e,y:e}),Array.isArray(e)&&(e={x:e[0],y:e[1]}),this._blurFilter.pixelSize=e}get pixelSizeX(){return this._blurFilter.pixelSizeX}set pixelSizeX(e){this._blurFilter.pixelSizeX=e}get pixelSizeY(){return this._blurFilter.pixelSizeY}set pixelSizeY(e){this._blurFilter.pixelSizeY=e}_updatePadding(){const e=Math.max(Math.abs(this.offsetX),Math.abs(this.offsetY));this.padding=e+this.blur*2+this.quality*4}};di(m_,"DEFAULT_OPTIONS",{offset:{x:4,y:4},color:0,alpha:.5,shadowOnly:!1,kernels:void 0,blur:2,quality:3,pixelSize:{x:1,y:1},resolution:1});let _T=m_;var xT=`precision highp float;
in vec2 vTextureCoord;
out vec4 finalColor;

uniform sampler2D uTexture;
uniform vec2 uStrength;
uniform vec3 uColor;
uniform float uKnockout;
uniform float uAlpha;

uniform vec4 uInputSize;
uniform vec4 uInputClamp;

const float PI = 3.14159265358979323846264;

// Hard-assignment of DIST and ANGLE_STEP_SIZE instead of using uDistance and uQuality to allow them to be use on GLSL loop conditions
const float DIST = __DIST__;
const float ANGLE_STEP_SIZE = min(__ANGLE_STEP_SIZE__, PI * 2.);
const float ANGLE_STEP_NUM = ceil(PI * 2. / ANGLE_STEP_SIZE);
const float MAX_TOTAL_ALPHA = ANGLE_STEP_NUM * DIST * (DIST + 1.) / 2.;

void main(void) {
    vec2 px = vec2(1.) / uInputSize.xy;

    float totalAlpha = 0.;

    vec2 direction;
    vec2 displaced;
    vec4 curColor;

    for (float angle = 0.; angle < PI * 2.; angle += ANGLE_STEP_SIZE) {
      direction = vec2(cos(angle), sin(angle)) * px;

      for (float curDistance = 0.; curDistance < DIST; curDistance++) {
          displaced = clamp(vTextureCoord + direction * (curDistance + 1.), uInputClamp.xy, uInputClamp.zw);
          curColor = texture(uTexture, displaced);
          totalAlpha += (DIST - curDistance) * curColor.a;
      }
    }
    
    curColor = texture(uTexture, vTextureCoord);

    vec4 glowColor = vec4(uColor, uAlpha);
    bool knockout = uKnockout > .5;
    float innerStrength = uStrength[0];
    float outerStrength = uStrength[1];

    float alphaRatio = totalAlpha / MAX_TOTAL_ALPHA;
    float innerGlowAlpha = (1. - alphaRatio) * innerStrength * curColor.a * uAlpha;
    float innerGlowStrength = min(1., innerGlowAlpha);
    
    vec4 innerColor = mix(curColor, glowColor, innerGlowStrength);
    float outerGlowAlpha = alphaRatio * outerStrength * (1. - curColor.a) * uAlpha;
    float outerGlowStrength = min(1. - innerColor.a, outerGlowAlpha);
    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;

    if (knockout) {
      float resultAlpha = outerGlowAlpha + innerGlowAlpha;
      finalColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);
    }
    else {
      finalColor = innerColor + outerGlowColor;
    }
}
`,vT=`struct GlowUniforms {
  uDistance: f32,
  uStrength: vec2<f32>,
  uColor: vec3<f32>,
  uAlpha: f32,
  uQuality: f32,
  uKnockout: f32,
};

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;

@group(0) @binding(1) var uTexture: texture_2d<f32>; 
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> glowUniforms : GlowUniforms;

@fragment
fn mainFragment(
  @builtin(position) position: vec4<f32>,
  @location(0) uv : vec2<f32>
) -> @location(0) vec4<f32> {
  let quality = glowUniforms.uQuality;
  let distance = glowUniforms.uDistance;

  let dist: f32 = glowUniforms.uDistance;
  let angleStepSize: f32 = min(1. / quality / distance, PI * 2.0);
  let angleStepNum: f32 = ceil(PI * 2.0 / angleStepSize);

  let px: vec2<f32> = vec2<f32>(1.0 / gfu.uInputSize.xy);

  var totalAlpha: f32 = 0.0;

  var direction: vec2<f32>;
  var displaced: vec2<f32>;
  var curColor: vec4<f32>;

  for (var angle = 0.0; angle < PI * 2.0; angle += angleStepSize) {
    direction = vec2<f32>(cos(angle), sin(angle)) * px;
    for (var curDistance = 0.0; curDistance < dist; curDistance+=1) {
      displaced = vec2<f32>(clamp(uv + direction * (curDistance + 1.0), gfu.uInputClamp.xy, gfu.uInputClamp.zw));
      curColor = textureSample(uTexture, uSampler, displaced);
      totalAlpha += (dist - curDistance) * curColor.a;
    }
  }
    
  curColor = textureSample(uTexture, uSampler, uv);

  let glowColorRGB = glowUniforms.uColor;
  let glowAlpha = glowUniforms.uAlpha;
  let glowColor = vec4<f32>(glowColorRGB, glowAlpha);
  let knockout: bool = glowUniforms.uKnockout > 0.5;
  let innerStrength = glowUniforms.uStrength[0];
  let outerStrength = glowUniforms.uStrength[1];

  let alphaRatio: f32 = (totalAlpha / (angleStepNum * dist * (dist + 1.0) / 2.0));
  let innerGlowAlpha: f32 = (1.0 - alphaRatio) * innerStrength * curColor.a * glowAlpha;
  let innerGlowStrength: f32 = min(1.0, innerGlowAlpha);
  
  let innerColor: vec4<f32> = mix(curColor, glowColor, innerGlowStrength);
  let outerGlowAlpha: f32 = alphaRatio * outerStrength * (1. - curColor.a) * glowAlpha;
  let outerGlowStrength: f32 = min(1.0 - innerColor.a, outerGlowAlpha);
  let outerGlowColor: vec4<f32> = outerGlowStrength * glowColor.rgba;
  
  if (knockout) {
    let resultAlpha: f32 = outerGlowAlpha + innerGlowAlpha;
    return vec4<f32>(glowColor.rgb * resultAlpha, resultAlpha);
  }
  else {
    return innerColor + outerGlowColor;
  }
}

const PI: f32 = 3.14159265358979323846264;`,wT=Object.defineProperty,ST=(n,e,t)=>e in n?wT(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,th=(n,e,t)=>(ST(n,typeof e!="symbol"?e+"":e,t),t);const y_=class __ extends Qr{constructor(e){e={...__.DEFAULT_OPTIONS,...e};const t=e.distance??10,r=e.quality??.1,i=Vt.from({vertex:{source:ei,entryPoint:"mainVertex"},fragment:{source:vT,entryPoint:"mainFragment"}}),s=pn.from({vertex:Jr,fragment:xT.replace(/__ANGLE_STEP_SIZE__/gi,`${(1/r/t).toFixed(7)}`).replace(/__DIST__/gi,`${t.toFixed(0)}.0`),name:"glow-filter"});super({gpuProgram:i,glProgram:s,resources:{glowUniforms:{uDistance:{value:t,type:"f32"},uStrength:{value:[e.innerStrength,e.outerStrength],type:"vec2<f32>"},uColor:{value:new Float32Array(3),type:"vec3<f32>"},uAlpha:{value:e.alpha,type:"f32"},uQuality:{value:r,type:"f32"},uKnockout:{value:(e==null?void 0:e.knockout)??!1?1:0,type:"f32"}}},padding:t}),th(this,"uniforms"),th(this,"_color"),this.uniforms=this.resources.glowUniforms.uniforms,this._color=new ge,this.color=e.color??16777215}get distance(){return this.uniforms.uDistance}set distance(e){this.uniforms.uDistance=this.padding=e}get innerStrength(){return this.uniforms.uStrength[0]}set innerStrength(e){this.uniforms.uStrength[0]=e}get outerStrength(){return this.uniforms.uStrength[1]}set outerStrength(e){this.uniforms.uStrength[1]=e}get color(){return this._color.value}set color(e){this._color.setValue(e);const[t,r,i]=this._color.toArray();this.uniforms.uColor[0]=t,this.uniforms.uColor[1]=r,this.uniforms.uColor[2]=i}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}get quality(){return this.uniforms.uQuality}set quality(e){this.uniforms.uQuality=e}get knockout(){return this.uniforms.uKnockout===1}set knockout(e){this.uniforms.uKnockout=e?1:0}};th(y_,"DEFAULT_OPTIONS",{distance:10,outerStrength:4,innerStrength:0,color:16777215,alpha:1,quality:.1,knockout:!1});let x_=y_;var CT=`precision highp float;
in vec2 vTextureCoord;
out vec4 finalColor;

uniform sampler2D uTexture;
uniform vec2 uThickness;
uniform vec3 uColor;
uniform float uAlpha;
uniform float uKnockout;

uniform vec4 uInputClamp;

const float DOUBLE_PI = 2. * 3.14159265358979323846264;
const float ANGLE_STEP = \${ANGLE_STEP};

float outlineMaxAlphaAtPos(vec2 pos) {
    if (uThickness.x == 0. || uThickness.y == 0.) {
        return 0.;
    }

    vec4 displacedColor;
    vec2 displacedPos;
    float maxAlpha = 0.;

    for (float angle = 0.; angle <= DOUBLE_PI; angle += ANGLE_STEP) {
        displacedPos.x = vTextureCoord.x + uThickness.x * cos(angle);
        displacedPos.y = vTextureCoord.y + uThickness.y * sin(angle);
        displacedColor = texture(uTexture, clamp(displacedPos, uInputClamp.xy, uInputClamp.zw));
        maxAlpha = max(maxAlpha, displacedColor.a);
    }

    return maxAlpha;
}

void main(void) {
    vec4 sourceColor = texture(uTexture, vTextureCoord);
    vec4 contentColor = sourceColor * float(uKnockout < 0.5);
    float outlineAlpha = uAlpha * outlineMaxAlphaAtPos(vTextureCoord.xy) * (1.-sourceColor.a);
    vec4 outlineColor = vec4(vec3(uColor) * outlineAlpha, outlineAlpha);
    finalColor = contentColor + outlineColor;
}
`,TT=`struct OutlineUniforms {
  uThickness:vec2<f32>,
  uColor:vec3<f32>,
  uAlpha:f32,
  uAngleStep:f32,
  uKnockout:f32,
};

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;

@group(0) @binding(1) var uTexture: texture_2d<f32>; 
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> outlineUniforms : OutlineUniforms;

@fragment
fn mainFragment(
  @builtin(position) position: vec4<f32>,
  @location(0) uv : vec2<f32>
) -> @location(0) vec4<f32> {
  let sourceColor: vec4<f32> = textureSample(uTexture, uSampler, uv);
  let contentColor: vec4<f32> = sourceColor * (1. - outlineUniforms.uKnockout);
  
  let outlineAlpha: f32 = outlineUniforms.uAlpha * outlineMaxAlphaAtPos(uv) * (1. - sourceColor.a);
  let outlineColor: vec4<f32> = vec4<f32>(vec3<f32>(outlineUniforms.uColor) * outlineAlpha, outlineAlpha);
  
  return contentColor + outlineColor;
}

fn outlineMaxAlphaAtPos(uv: vec2<f32>) -> f32 {
  let thickness = outlineUniforms.uThickness;

  if (thickness.x == 0. || thickness.y == 0.) {
    return 0.;
  }
  
  let angleStep = outlineUniforms.uAngleStep;

  var displacedColor: vec4<f32>;
  var displacedPos: vec2<f32>;

  var maxAlpha: f32 = 0.;
  var displaced: vec2<f32>;
  var curColor: vec4<f32>;

  for (var angle = 0.; angle <= DOUBLE_PI; angle += angleStep)
  {
    displaced.x = uv.x + thickness.x * cos(angle);
    displaced.y = uv.y + thickness.y * sin(angle);
    curColor = textureSample(uTexture, uSampler, clamp(displaced, gfu.uInputClamp.xy, gfu.uInputClamp.zw));
    maxAlpha = max(maxAlpha, curColor.a);
  }

  return maxAlpha;
}

const DOUBLE_PI: f32 = 3.14159265358979323846264 * 2.;`,kT=Object.defineProperty,bT=(n,e,t)=>e in n?kT(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,zr=(n,e,t)=>(bT(n,typeof e!="symbol"?e+"":e,t),t);const Al=class Mr extends Qr{constructor(...e){let t=e[0]??{};typeof t=="number"&&(K("6.0.0","OutlineFilter constructor params are now options object. See params: { thickness, color, quality, alpha, knockout }"),t={thickness:t},e[1]!==void 0&&(t.color=e[1]),e[2]!==void 0&&(t.quality=e[2]),e[3]!==void 0&&(t.alpha=e[3]),e[4]!==void 0&&(t.knockout=e[4])),t={...Mr.DEFAULT_OPTIONS,...t};const r=t.quality??.1,i=Vt.from({vertex:{source:ei,entryPoint:"mainVertex"},fragment:{source:TT,entryPoint:"mainFragment"}}),s=pn.from({vertex:Jr,fragment:CT.replace(/\$\{ANGLE_STEP\}/,Mr.getAngleStep(r).toFixed(7)),name:"outline-filter"});super({gpuProgram:i,glProgram:s,resources:{outlineUniforms:{uThickness:{value:new Float32Array(2),type:"vec2<f32>"},uColor:{value:new Float32Array(3),type:"vec3<f32>"},uAlpha:{value:t.alpha,type:"f32"},uAngleStep:{value:0,type:"f32"},uKnockout:{value:t.knockout?1:0,type:"f32"}}}}),zr(this,"uniforms"),zr(this,"_thickness"),zr(this,"_quality"),zr(this,"_color"),this.uniforms=this.resources.outlineUniforms.uniforms,this.uniforms.uAngleStep=Mr.getAngleStep(r),this._color=new ge,this.color=t.color??0,Object.assign(this,t)}apply(e,t,r,i){this.uniforms.uThickness[0]=this.thickness/t.source.width,this.uniforms.uThickness[1]=this.thickness/t.source.height,e.applyFilter(this,t,r,i)}static getAngleStep(e){return parseFloat((Math.PI*2/Math.max(e*Mr.MAX_SAMPLES,Mr.MIN_SAMPLES)).toFixed(7))}get thickness(){return this._thickness}set thickness(e){this._thickness=this.padding=e}get color(){return this._color.value}set color(e){this._color.setValue(e);const[t,r,i]=this._color.toArray();this.uniforms.uColor[0]=t,this.uniforms.uColor[1]=r,this.uniforms.uColor[2]=i}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}get quality(){return this._quality}set quality(e){this._quality=e,this.uniforms.uAngleStep=Mr.getAngleStep(e)}get knockout(){return this.uniforms.uKnockout===1}set knockout(e){this.uniforms.uKnockout=e?1:0}};zr(Al,"DEFAULT_OPTIONS",{thickness:1,color:0,alpha:1,quality:.1,knockout:!1});zr(Al,"MIN_SAMPLES",1);zr(Al,"MAX_SAMPLES",100);let PT=Al;var AT=`precision highp float;
in vec2 vTextureCoord;
out vec4 finalColor;

uniform sampler2D uTexture;
uniform vec4 uInputSize;
uniform vec2 uRed;
uniform vec2 uGreen;
uniform vec2 uBlue;

void main(void)
{
   float r = texture(uTexture, vTextureCoord + uRed/uInputSize.xy).r;
   float g = texture(uTexture, vTextureCoord + uGreen/uInputSize.xy).g;
   float b = texture(uTexture, vTextureCoord + uBlue/uInputSize.xy).b;
   float a = texture(uTexture, vTextureCoord).a;
   finalColor = vec4(r, g, b, a);
}
`,ET=`struct RgbSplitUniforms {
    uRed: vec2<f32>,
    uGreen: vec2<f32>,
    uBlue: vec3<f32>,
};

struct GlobalFilterUniforms {
    uInputSize:vec4<f32>,
    uInputPixel:vec4<f32>,
    uInputClamp:vec4<f32>,
    uOutputFrame:vec4<f32>,
    uGlobalFrame:vec4<f32>,
    uOutputTexture:vec4<f32>,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;

@group(0) @binding(1) var uTexture: texture_2d<f32>; 
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> rgbSplitUniforms : RgbSplitUniforms;

@fragment
fn mainFragment(
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>
) -> @location(0) vec4<f32> {
    let r = textureSample(uTexture, uSampler, uv + vec2<f32>(rgbSplitUniforms.uRed.x / gfu.uInputSize.x, rgbSplitUniforms.uRed.y / gfu.uInputSize.y)).r;
    let g = textureSample(uTexture, uSampler, uv + vec2<f32>(rgbSplitUniforms.uGreen.x / gfu.uInputSize.x, rgbSplitUniforms.uGreen.y / gfu.uInputSize.y)).g;
    let b = textureSample(uTexture, uSampler, uv + vec2<f32>(rgbSplitUniforms.uBlue.x / gfu.uInputSize.x, rgbSplitUniforms.uBlue.y / gfu.uInputSize.y)).b;
    let a = textureSample(uTexture, uSampler, uv).a;
    return vec4<f32>(r, g, b, a);
}
`,MT=Object.defineProperty,RT=(n,e,t)=>e in n?MT(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,v_=(n,e,t)=>(RT(n,typeof e!="symbol"?e+"":e,t),t);const w_=class S_ extends Qr{constructor(...e){let t=e[0]??{};(Array.isArray(t)||"x"in t&&"y"in t)&&(K("6.0.0","RGBSplitFilter constructor params are now options object. See params: { red, green, blue }"),t={red:t},e[1]!==void 0&&(t.green=e[1]),e[2]!==void 0&&(t.blue=e[2])),t={...S_.DEFAULT_OPTIONS,...t};const r=Vt.from({vertex:{source:ei,entryPoint:"mainVertex"},fragment:{source:ET,entryPoint:"mainFragment"}}),i=pn.from({vertex:Jr,fragment:AT,name:"rgb-split-filter"});super({gpuProgram:r,glProgram:i,resources:{rgbSplitUniforms:{uRed:{value:t.red,type:"vec2<f32>"},uGreen:{value:t.green,type:"vec2<f32>"},uBlue:{value:t.blue,type:"vec2<f32>"}}}}),v_(this,"uniforms"),this.uniforms=this.resources.rgbSplitUniforms.uniforms,Object.assign(this,t)}get red(){return this.uniforms.uRed}set red(e){Array.isArray(e)&&(e={x:e[0],y:e[1]}),this.uniforms.uRed=e}get redX(){return this.red.x}set redX(e){this.red.x=e}get redY(){return this.red.y}set redY(e){this.red.y=e}get green(){return this.uniforms.uGreen}set green(e){Array.isArray(e)&&(e={x:e[0],y:e[1]}),this.uniforms.uGreen=e}get greenX(){return this.green.x}set greenX(e){this.green.x=e}get greenY(){return this.green.y}set greenY(e){this.green.y=e}get blue(){return this.uniforms.uBlue}set blue(e){Array.isArray(e)&&(e={x:e[0],y:e[1]}),this.uniforms.uBlue=e}get blueX(){return this.blue.x}set blueX(e){this.blue.x=e}get blueY(){return this.blue.y}set blueY(e){this.blue.y=e}};v_(w_,"DEFAULT_OPTIONS",{red:{x:-10,y:0},green:{x:0,y:10},blue:{x:0,y:0}});let fm=w_;var IT=`precision highp float;
in vec2 vTextureCoord;
out vec4 finalColor;

uniform sampler2D uTexture;
uniform vec2 uTwist;
uniform vec2 uOffset;
uniform vec4 uInputSize;

vec2 mapCoord( vec2 coord )
{
    coord *= uInputSize.xy;
    coord += uInputSize.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= uInputSize.zw;
    coord /= uInputSize.xy;

    return coord;
}

vec2 twist(vec2 coord)
{
    coord -= uOffset;

    float dist = length(coord);
    float uRadius = uTwist[0];
    float uAngle = uTwist[1];

    if (dist < uRadius)
    {
        float ratioDist = (uRadius - dist) / uRadius;
        float angleMod = ratioDist * ratioDist * uAngle;
        float s = sin(angleMod);
        float c = cos(angleMod);
        coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);
    }

    coord += uOffset;

    return coord;
}

void main(void)
{
    vec2 coord = mapCoord(vTextureCoord);
    coord = twist(coord);
    coord = unmapCoord(coord);
    finalColor = texture(uTexture, coord);
}
`,FT=`struct TwistUniforms {
  uTwist:vec2<f32>,
  uOffset:vec2<f32>,
};

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;

@group(0) @binding(1) var uTexture: texture_2d<f32>; 
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> twistUniforms : TwistUniforms;

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
  @builtin(position) position: vec4<f32>
) -> @location(0) vec4<f32> {
  return textureSample(uTexture, uSampler, unmapCoord(twist(mapCoord(uv))));
}

fn mapCoord(coord: vec2<f32> ) -> vec2<f32>
{
  var mappedCoord: vec2<f32> = coord;
  mappedCoord *= gfu.uInputSize.xy;
  mappedCoord += gfu.uOutputFrame.xy;
  return mappedCoord;
}

fn unmapCoord(coord: vec2<f32> ) -> vec2<f32>
{
  var mappedCoord: vec2<f32> = coord;
  mappedCoord -= gfu.uOutputFrame.xy;
  mappedCoord /= gfu.uInputSize.xy;
  return mappedCoord;
}

fn twist(coord: vec2<f32>) -> vec2<f32>
{
  var twistedCoord: vec2<f32> = coord;
  let uRadius = twistUniforms.uTwist[0];
  let uAngle = twistUniforms.uTwist[1];
  let uOffset = twistUniforms.uOffset;

  twistedCoord -= uOffset;
  
  let dist = length(twistedCoord);

  if (dist < uRadius)
  {
    let ratioDist: f32 = (uRadius - dist) / uRadius;
    let angleMod: f32 = ratioDist * ratioDist * uAngle;
    let s: f32 = sin(angleMod);
    let c: f32 = cos(angleMod);
    twistedCoord = vec2<f32>(twistedCoord.x * c - twistedCoord.y * s, twistedCoord.x * s + twistedCoord.y * c);
  }

  twistedCoord += uOffset;
  return twistedCoord;
}
`,OT=Object.defineProperty,NT=(n,e,t)=>e in n?OT(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,C_=(n,e,t)=>(NT(n,typeof e!="symbol"?e+"":e,t),t);const T_=class k_ extends Qr{constructor(e){e={...k_.DEFAULT_OPTIONS,...e};const t=Vt.from({vertex:{source:ei,entryPoint:"mainVertex"},fragment:{source:FT,entryPoint:"mainFragment"}}),r=pn.from({vertex:Jr,fragment:IT,name:"twist-filter"});super({gpuProgram:t,glProgram:r,resources:{twistUniforms:{uTwist:{value:[e.radius??0,e.angle??0],type:"vec2<f32>"},uOffset:{value:e.offset,type:"vec2<f32>"}}},...e}),C_(this,"uniforms"),this.uniforms=this.resources.twistUniforms.uniforms}get radius(){return this.uniforms.uTwist[0]}set radius(e){this.uniforms.uTwist[0]=e}get angle(){return this.uniforms.uTwist[1]}set angle(e){this.uniforms.uTwist[1]=e}get offset(){return this.uniforms.uOffset}set offset(e){this.uniforms.uOffset=e}get offsetX(){return this.offset.x}set offsetX(e){this.offset.x=e}get offsetY(){return this.offset.y}set offsetY(e){this.offset.y=e}};C_(T_,"DEFAULT_OPTIONS",{padding:20,radius:200,angle:4,offset:{x:0,y:0}});let zT=T_;function vn(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function b_(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var bt={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},qi={duration:.5,overwrite:!1,delay:0},bf,Ge,ce,Lt=1e8,se=1/Lt,nh=Math.PI*2,DT=nh/4,LT=0,P_=Math.sqrt,BT=Math.cos,UT=Math.sin,De=function(e){return typeof e=="string"},we=function(e){return typeof e=="function"},Nn=function(e){return typeof e=="number"},Pf=function(e){return typeof e>"u"},mn=function(e){return typeof e=="object"},ft=function(e){return e!==!1},Af=function(){return typeof window<"u"},oa=function(e){return we(e)||De(e)},A_=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Ke=Array.isArray,rh=/(?:-?\.?\d|\.)+/gi,E_=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,bi=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Nu=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,M_=/[+-]=-?[.\d]+/,R_=/[^,'"\[\]\s]+/gi,GT=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,fe,ln,ih,Ef,At={},Ja={},I_,F_=function(e){return(Ja=Ki(e,At))&&gt},Mf=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},po=function(e,t){return!t&&console.warn(e)},O_=function(e,t){return e&&(At[e]=t)&&Ja&&(Ja[e]=t)||At},mo=function(){return 0},jT={suppressEvents:!0,isStart:!0,kill:!1},wa={suppressEvents:!0,kill:!1},$T={suppressEvents:!0},Rf={},sr=[],sh={},N_,vt={},zu={},dm=30,Sa=[],If="",Ff=function(e){var t=e[0],r,i;if(mn(t)||we(t)||(e=[e]),!(r=(t._gsap||{}).harness)){for(i=Sa.length;i--&&!Sa[i].targetTest(t););r=Sa[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new sx(e[i],r)))||e.splice(i,1);return e},jr=function(e){return e._gsap||Ff(Bt(e))[0]._gsap},z_=function(e,t,r){return(r=e[t])&&we(r)?e[t]():Pf(r)&&e.getAttribute&&e.getAttribute(t)||r},dt=function(e,t){return(e=e.split(",")).forEach(t)||e},Se=function(e){return Math.round(e*1e5)/1e5||0},Ae=function(e){return Math.round(e*1e7)/1e7||0},Oi=function(e,t){var r=t.charAt(0),i=parseFloat(t.substr(2));return e=parseFloat(e),r==="+"?e+i:r==="-"?e-i:r==="*"?e*i:e/i},VT=function(e,t){for(var r=t.length,i=0;e.indexOf(t[i])<0&&++i<r;);return i<r},el=function(){var e=sr.length,t=sr.slice(0),r,i;for(sh={},sr.length=0,r=0;r<e;r++)i=t[r],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},Of=function(e){return!!(e._initted||e._startAt||e.add)},D_=function(e,t,r,i){sr.length&&!Ge&&el(),e.render(t,r,!!(Ge&&t<0&&Of(e))),sr.length&&!Ge&&el()},L_=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(R_).length<2?t:De(e)?e.trim():e},B_=function(e){return e},Et=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},WT=function(e){return function(t,r){for(var i in r)i in t||i==="duration"&&e||i==="ease"||(t[i]=r[i])}},Ki=function(e,t){for(var r in t)e[r]=t[r];return e},pm=function n(e,t){for(var r in t)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=mn(t[r])?n(e[r]||(e[r]={}),t[r]):t[r]);return e},tl=function(e,t){var r={},i;for(i in e)i in t||(r[i]=e[i]);return r},Us=function(e){var t=e.parent||fe,r=e.keyframes?WT(Ke(e.keyframes)):Et;if(ft(e.inherit))for(;t;)r(e,t.vars.defaults),t=t.parent||t._dp;return e},HT=function(e,t){for(var r=e.length,i=r===t.length;i&&r--&&e[r]===t[r];);return r<0},U_=function(e,t,r,i,s){var o=e[i],a;if(s)for(a=t[s];o&&o[s]>a;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[r],e[r]=t),t._next?t._next._prev=t:e[i]=t,t._prev=o,t.parent=t._dp=e,t},El=function(e,t,r,i){r===void 0&&(r="_first"),i===void 0&&(i="_last");var s=t._prev,o=t._next;s?s._next=o:e[r]===t&&(e[r]=o),o?o._prev=s:e[i]===t&&(e[i]=s),t._next=t._prev=t.parent=null},ur=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},$r=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},YT=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},oh=function(e,t,r,i){return e._startAt&&(Ge?e._startAt.revert(wa):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,i))},XT=function n(e){return!e||e._ts&&n(e.parent)},mm=function(e){return e._repeat?Qi(e._tTime,e=e.duration()+e._rDelay)*e:0},Qi=function(e,t){var r=Math.floor(e=Ae(e/t));return e&&r===e?r-1:r},nl=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},Ml=function(e){return e._end=Ae(e._start+(e._tDur/Math.abs(e._ts||e._rts||se)||0))},Rl=function(e,t){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=Ae(r._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),Ml(e),r._dirty||$r(r,e)),e},G_=function(e,t){var r;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(r=nl(e.rawTime(),t),(!t._dur||bo(0,t.totalDuration(),r)-t._tTime>se)&&t.render(r,!0)),$r(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-se}},cn=function(e,t,r,i){return t.parent&&ur(t),t._start=Ae((Nn(r)?r:r||e!==fe?Ft(e,r,t):e._time)+t._delay),t._end=Ae(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),U_(e,t,"_first","_last",e._sort?"_start":0),ah(t)||(e._recent=t),i||G_(e,t),e._ts<0&&Rl(e,e._tTime),e},j_=function(e,t){return(At.ScrollTrigger||Mf("scrollTrigger",t))&&At.ScrollTrigger.create(t,e)},$_=function(e,t,r,i,s){if(zf(e,t,s),!e._initted)return 1;if(!r&&e._pt&&!Ge&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&N_!==wt.frame)return sr.push(e),e._lazy=[s,i],1},qT=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},ah=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},KT=function(e,t,r,i){var s=e.ratio,o=t<0||!t&&(!e._start&&qT(e)&&!(!e._initted&&ah(e))||(e._ts<0||e._dp._ts<0)&&!ah(e))?0:1,a=e._rDelay,l=0,u,c,h;if(a&&e._repeat&&(l=bo(0,e._tDur,t),c=Qi(l,a),e._yoyo&&c&1&&(o=1-o),c!==Qi(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||Ge||i||e._zTime===se||!t&&e._zTime){if(!e._initted&&$_(e,t,i,r,l))return;for(h=e._zTime,e._zTime=t||(r?se:0),r||(r=t&&!h),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,u=e._pt;u;)u.r(o,u.d),u=u._next;t<0&&oh(e,t,r,!0),e._onUpdate&&!r&&Ct(e,"onUpdate"),l&&e._repeat&&!r&&e.parent&&Ct(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&ur(e,1),!r&&!Ge&&(Ct(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},QT=function(e,t,r){var i;if(r>t)for(i=e._first;i&&i._start<=r;){if(i.data==="isPause"&&i._start>t)return i;i=i._next}else for(i=e._last;i&&i._start>=r;){if(i.data==="isPause"&&i._start<t)return i;i=i._prev}},Zi=function(e,t,r,i){var s=e._repeat,o=Ae(t)||0,a=e._tTime/e._tDur;return a&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:Ae(o*(s+1)+e._rDelay*s):o,a>0&&!i&&Rl(e,e._tTime=e._tDur*a),e.parent&&Ml(e),r||$r(e.parent,e),e},gm=function(e){return e instanceof et?$r(e):Zi(e,e._dur)},ZT={_start:0,endTime:mo,totalDuration:mo},Ft=function n(e,t,r){var i=e.labels,s=e._recent||ZT,o=e.duration()>=Lt?s.endTime(!1):e._dur,a,l,u;return De(t)&&(isNaN(t)||t in i)?(l=t.charAt(0),u=t.substr(-1)==="%",a=t.indexOf("="),l==="<"||l===">"?(a>=0&&(t=t.replace(/=/,"")),(l==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(u?(a<0?s:r).totalDuration()/100:1)):a<0?(t in i||(i[t]=o),i[t]):(l=parseFloat(t.charAt(a-1)+t.substr(a+1)),u&&r&&(l=l/100*(Ke(r)?r[0]:r).totalDuration()),a>1?n(e,t.substr(0,a-1),r)+l:o+l)):t==null?o:+t},Gs=function(e,t,r){var i=Nn(t[1]),s=(i?2:1)+(e<2?0:1),o=t[s],a,l;if(i&&(o.duration=t[1]),o.parent=r,e){for(a=o,l=r;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=ft(l.vars.inherit)&&l.parent;o.immediateRender=ft(a.immediateRender),e<2?o.runBackwards=1:o.startAt=t[s-1]}return new Pe(t[0],o,t[s+1])},pr=function(e,t){return e||e===0?t(e):t},bo=function(e,t,r){return r<e?e:r>t?t:r},Ye=function(e,t){return!De(e)||!(t=GT.exec(e))?"":t[1]},JT=function(e,t,r){return pr(r,function(i){return bo(e,t,i)})},lh=[].slice,V_=function(e,t){return e&&mn(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&mn(e[0]))&&!e.nodeType&&e!==ln},ek=function(e,t,r){return r===void 0&&(r=[]),e.forEach(function(i){var s;return De(i)&&!t||V_(i,1)?(s=r).push.apply(s,Bt(i)):r.push(i)})||r},Bt=function(e,t,r){return ce&&!t&&ce.selector?ce.selector(e):De(e)&&!r&&(ih||!Ji())?lh.call((t||Ef).querySelectorAll(e),0):Ke(e)?ek(e,r):V_(e)?lh.call(e,0):e?[e]:[]},uh=function(e){return e=Bt(e)[0]||po("Invalid scope")||{},function(t){var r=e.current||e.nativeElement||e;return Bt(t,r.querySelectorAll?r:r===e?po("Invalid scope")||Ef.createElement("div"):e)}},W_=function(e){return e.sort(function(){return .5-Math.random()})},H_=function(e){if(we(e))return e;var t=mn(e)?e:{each:e},r=Vr(t.ease),i=t.from||0,s=parseFloat(t.base)||0,o={},a=i>0&&i<1,l=isNaN(i)||a,u=t.axis,c=i,h=i;return De(i)?c=h={center:.5,edges:.5,end:1}[i]||0:!a&&l&&(c=i[0],h=i[1]),function(f,d,g){var p=(g||t).length,_=o[p],y,m,x,v,w,C,S,T,k;if(!_){if(k=t.grid==="auto"?0:(t.grid||[1,Lt])[1],!k){for(S=-Lt;S<(S=g[k++].getBoundingClientRect().left)&&k<p;);k<p&&k--}for(_=o[p]=[],y=l?Math.min(k,p)*c-.5:i%k,m=k===Lt?0:l?p*h/k-.5:i/k|0,S=0,T=Lt,C=0;C<p;C++)x=C%k-y,v=m-(C/k|0),_[C]=w=u?Math.abs(u==="y"?v:x):P_(x*x+v*v),w>S&&(S=w),w<T&&(T=w);i==="random"&&W_(_),_.max=S-T,_.min=T,_.v=p=(parseFloat(t.amount)||parseFloat(t.each)*(k>p?p-1:u?u==="y"?p/k:k:Math.max(k,p/k))||0)*(i==="edges"?-1:1),_.b=p<0?s-p:s,_.u=Ye(t.amount||t.each)||0,r=r&&p<0?nx(r):r}return p=(_[f]-_.min)/_.max||0,Ae(_.b+(r?r(p):p)*_.v)+_.u}},ch=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var i=Ae(Math.round(parseFloat(r)/e)*e*t);return(i-i%1)/t+(Nn(r)?0:Ye(r))}},Y_=function(e,t){var r=Ke(e),i,s;return!r&&mn(e)&&(i=r=e.radius||Lt,e.values?(e=Bt(e.values),(s=!Nn(e[0]))&&(i*=i)):e=ch(e.increment)),pr(t,r?we(e)?function(o){return s=e(o),Math.abs(s-o)<=i?s:o}:function(o){for(var a=parseFloat(s?o.x:o),l=parseFloat(s?o.y:0),u=Lt,c=0,h=e.length,f,d;h--;)s?(f=e[h].x-a,d=e[h].y-l,f=f*f+d*d):f=Math.abs(e[h]-a),f<u&&(u=f,c=h);return c=!i||u<=i?e[c]:o,s||c===o||Nn(o)?c:c+Ye(o)}:ch(e))},X_=function(e,t,r,i){return pr(Ke(e)?!t:r===!0?!!(r=0):!i,function(){return Ke(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(t-e+r*.99))/r)*r*i)/i})},tk=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(i){return t.reduce(function(s,o){return o(s)},i)}},nk=function(e,t){return function(r){return e(parseFloat(r))+(t||Ye(r))}},rk=function(e,t,r){return K_(e,t,0,1,r)},q_=function(e,t,r){return pr(r,function(i){return e[~~t(i)]})},ik=function n(e,t,r){var i=t-e;return Ke(e)?q_(e,n(0,e.length),t):pr(r,function(s){return(i+(s-e)%i)%i+e})},sk=function n(e,t,r){var i=t-e,s=i*2;return Ke(e)?q_(e,n(0,e.length-1),t):pr(r,function(o){return o=(s+(o-e)%s)%s||0,e+(o>i?s-o:o)})},go=function(e){for(var t=0,r="",i,s,o,a;~(i=e.indexOf("random(",t));)o=e.indexOf(")",i),a=e.charAt(i+7)==="[",s=e.substr(i+7,o-i-7).match(a?R_:rh),r+=e.substr(t,i-t)+X_(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),t=o+1;return r+e.substr(t,e.length-t)},K_=function(e,t,r,i,s){var o=t-e,a=i-r;return pr(s,function(l){return r+((l-e)/o*a||0)})},ok=function n(e,t,r,i){var s=isNaN(e+t)?0:function(d){return(1-d)*e+d*t};if(!s){var o=De(e),a={},l,u,c,h,f;if(r===!0&&(i=1)&&(r=null),o)e={p:e},t={p:t};else if(Ke(e)&&!Ke(t)){for(c=[],h=e.length,f=h-2,u=1;u<h;u++)c.push(n(e[u-1],e[u]));h--,s=function(g){g*=h;var p=Math.min(f,~~g);return c[p](g-p)},r=t}else i||(e=Ki(Ke(e)?[]:{},e));if(!c){for(l in t)Nf.call(a,e,l,"get",t[l]);s=function(g){return Bf(g,a)||(o?e.p:e)}}}return pr(r,s)},ym=function(e,t,r){var i=e.labels,s=Lt,o,a,l;for(o in i)a=i[o]-t,a<0==!!r&&a&&s>(a=Math.abs(a))&&(l=o,s=a);return l},Ct=function(e,t,r){var i=e.vars,s=i[t],o=ce,a=e._ctx,l,u,c;if(s)return l=i[t+"Params"],u=i.callbackScope||e,r&&sr.length&&el(),a&&(ce=a),c=l?s.apply(u,l):s.call(u),ce=o,c},bs=function(e){return ur(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Ge),e.progress()<1&&Ct(e,"onInterrupt"),e},Pi,Q_=[],Z_=function(e){if(e)if(e=!e.name&&e.default||e,Af()||e.headless){var t=e.name,r=we(e),i=t&&!r&&e.init?function(){this._props=[]}:e,s={init:mo,render:Bf,add:Nf,kill:Sk,modifier:wk,rawVars:0},o={targetTest:0,get:0,getSetter:Lf,aliases:{},register:0};if(Ji(),e!==i){if(vt[t])return;Et(i,Et(tl(e,s),o)),Ki(i.prototype,Ki(s,tl(e,o))),vt[i.prop=t]=i,e.targetTest&&(Sa.push(i),Rf[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}O_(t,i),e.register&&e.register(gt,i,pt)}else Q_.push(e)},re=255,Ps={aqua:[0,re,re],lime:[0,re,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,re],navy:[0,0,128],white:[re,re,re],olive:[128,128,0],yellow:[re,re,0],orange:[re,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[re,0,0],pink:[re,192,203],cyan:[0,re,re],transparent:[re,re,re,0]},Du=function(e,t,r){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(r-t)*e*6:e<.5?r:e*3<2?t+(r-t)*(2/3-e)*6:t)*re+.5|0},J_=function(e,t,r){var i=e?Nn(e)?[e>>16,e>>8&re,e&re]:0:Ps.black,s,o,a,l,u,c,h,f,d,g;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Ps[e])i=Ps[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&re,i&re,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&re,e&re]}else if(e.substr(0,3)==="hsl"){if(i=g=e.match(rh),!t)l=+i[0]%360/360,u=+i[1]/100,c=+i[2]/100,o=c<=.5?c*(u+1):c+u-c*u,s=c*2-o,i.length>3&&(i[3]*=1),i[0]=Du(l+1/3,s,o),i[1]=Du(l,s,o),i[2]=Du(l-1/3,s,o);else if(~e.indexOf("="))return i=e.match(E_),r&&i.length<4&&(i[3]=1),i}else i=e.match(rh)||Ps.transparent;i=i.map(Number)}return t&&!g&&(s=i[0]/re,o=i[1]/re,a=i[2]/re,h=Math.max(s,o,a),f=Math.min(s,o,a),c=(h+f)/2,h===f?l=u=0:(d=h-f,u=c>.5?d/(2-h-f):d/(h+f),l=h===s?(o-a)/d+(o<a?6:0):h===o?(a-s)/d+2:(s-o)/d+4,l*=60),i[0]=~~(l+.5),i[1]=~~(u*100+.5),i[2]=~~(c*100+.5)),r&&i.length<4&&(i[3]=1),i},ex=function(e){var t=[],r=[],i=-1;return e.split(or).forEach(function(s){var o=s.match(bi)||[];t.push.apply(t,o),r.push(i+=o.length+1)}),t.c=r,t},_m=function(e,t,r){var i="",s=(e+i).match(or),o=t?"hsla(":"rgba(",a=0,l,u,c,h;if(!s)return e;if(s=s.map(function(f){return(f=J_(f,t,1))&&o+(t?f[0]+","+f[1]+"%,"+f[2]+"%,"+f[3]:f.join(","))+")"}),r&&(c=ex(e),l=r.c,l.join(i)!==c.c.join(i)))for(u=e.replace(or,"1").split(bi),h=u.length-1;a<h;a++)i+=u[a]+(~l.indexOf(a)?s.shift()||o+"0,0,0,0)":(c.length?c:s.length?s:r).shift());if(!u)for(u=e.split(or),h=u.length-1;a<h;a++)i+=u[a]+s[a];return i+u[h]},or=function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Ps)n+="|"+e+"\\b";return new RegExp(n+")","gi")}(),ak=/hsl[a]?\(/,tx=function(e){var t=e.join(" "),r;if(or.lastIndex=0,or.test(t))return r=ak.test(t),e[1]=_m(e[1],r),e[0]=_m(e[0],r,ex(e[1])),!0},yo,wt=function(){var n=Date.now,e=500,t=33,r=n(),i=r,s=1e3/240,o=s,a=[],l,u,c,h,f,d,g=function p(_){var y=n()-i,m=_===!0,x,v,w,C;if((y>e||y<0)&&(r+=y-t),i+=y,w=i-r,x=w-o,(x>0||m)&&(C=++h.frame,f=w-h.time*1e3,h.time=w=w/1e3,o+=x+(x>=s?4:s-x),v=1),m||(l=u(p)),v)for(d=0;d<a.length;d++)a[d](w,f,C,_)};return h={time:0,frame:0,tick:function(){g(!0)},deltaRatio:function(_){return f/(1e3/(_||60))},wake:function(){I_&&(!ih&&Af()&&(ln=ih=window,Ef=ln.document||{},At.gsap=gt,(ln.gsapVersions||(ln.gsapVersions=[])).push(gt.version),F_(Ja||ln.GreenSockGlobals||!ln.gsap&&ln||{}),Q_.forEach(Z_)),c=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&h.sleep(),u=c||function(_){return setTimeout(_,o-h.time*1e3+1|0)},yo=1,g(2))},sleep:function(){(c?cancelAnimationFrame:clearTimeout)(l),yo=0,u=mo},lagSmoothing:function(_,y){e=_||1/0,t=Math.min(y||33,e)},fps:function(_){s=1e3/(_||240),o=h.time*1e3+s},add:function(_,y,m){var x=y?function(v,w,C,S){_(v,w,C,S),h.remove(x)}:_;return h.remove(_),a[m?"unshift":"push"](x),Ji(),x},remove:function(_,y){~(y=a.indexOf(_))&&a.splice(y,1)&&d>=y&&d--},_listeners:a},h}(),Ji=function(){return!yo&&wt.wake()},X={},lk=/^[\d.\-M][\d.\-,\s]/,uk=/["']/g,ck=function(e){for(var t={},r=e.substr(1,e.length-3).split(":"),i=r[0],s=1,o=r.length,a,l,u;s<o;s++)l=r[s],a=s!==o-1?l.lastIndexOf(","):l.length,u=l.substr(0,a),t[i]=isNaN(u)?u.replace(uk,"").trim():+u,i=l.substr(a+1).trim();return t},hk=function(e){var t=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",t);return e.substring(t,~i&&i<r?e.indexOf(")",r+1):r)},fk=function(e){var t=(e+"").split("("),r=X[t[0]];return r&&t.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[ck(t[1])]:hk(e).split(",").map(L_)):X._CE&&lk.test(e)?X._CE("",e):r},nx=function(e){return function(t){return 1-e(1-t)}},rx=function n(e,t){for(var r=e._first,i;r;)r instanceof et?n(r,t):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==t&&(r.timeline?n(r.timeline,t):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=t)),r=r._next},Vr=function(e,t){return e&&(we(e)?e:X[e]||fk(e))||t},ii=function(e,t,r,i){r===void 0&&(r=function(l){return 1-t(1-l)}),i===void 0&&(i=function(l){return l<.5?t(l*2)/2:1-t((1-l)*2)/2});var s={easeIn:t,easeOut:r,easeInOut:i},o;return dt(e,function(a){X[a]=At[a]=s,X[o=a.toLowerCase()]=r;for(var l in s)X[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=X[a+"."+l]=s[l]}),s},ix=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},Lu=function n(e,t,r){var i=t>=1?t:1,s=(r||(e?.3:.45))/(t<1?t:1),o=s/nh*(Math.asin(1/i)||0),a=function(c){return c===1?1:i*Math.pow(2,-10*c)*UT((c-o)*s)+1},l=e==="out"?a:e==="in"?function(u){return 1-a(1-u)}:ix(a);return s=nh/s,l.config=function(u,c){return n(e,u,c)},l},Bu=function n(e,t){t===void 0&&(t=1.70158);var r=function(o){return o?--o*o*((t+1)*o+t)+1:0},i=e==="out"?r:e==="in"?function(s){return 1-r(1-s)}:ix(r);return i.config=function(s){return n(e,s)},i};dt("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;ii(n+",Power"+(t-1),e?function(r){return Math.pow(r,t)}:function(r){return r},function(r){return 1-Math.pow(1-r,t)},function(r){return r<.5?Math.pow(r*2,t)/2:1-Math.pow((1-r)*2,t)/2})});X.Linear.easeNone=X.none=X.Linear.easeIn;ii("Elastic",Lu("in"),Lu("out"),Lu());(function(n,e){var t=1/e,r=2*t,i=2.5*t,s=function(a){return a<t?n*a*a:a<r?n*Math.pow(a-1.5/e,2)+.75:a<i?n*(a-=2.25/e)*a+.9375:n*Math.pow(a-2.625/e,2)+.984375};ii("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);ii("Expo",function(n){return Math.pow(2,10*(n-1))*n+n*n*n*n*n*n*(1-n)});ii("Circ",function(n){return-(P_(1-n*n)-1)});ii("Sine",function(n){return n===1?1:-BT(n*DT)+1});ii("Back",Bu("in"),Bu("out"),Bu());X.SteppedEase=X.steps=At.SteppedEase={config:function(e,t){e===void 0&&(e=1);var r=1/e,i=e+(t?0:1),s=t?1:0,o=1-se;return function(a){return((i*bo(0,o,a)|0)+s)*r}}};qi.ease=X["quad.out"];dt("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return If+=n+","+n+"Params,"});var sx=function(e,t){this.id=LT++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:z_,this.set=t?t.getSetter:Lf},_o=function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Zi(this,+t.duration,1,1),this.data=t.data,ce&&(this._ctx=ce,ce.data.push(this)),yo||wt.wake()}var e=n.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,Zi(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,i){if(Ji(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(Rl(this,r),!s._dp||s.parent||G_(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&cn(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===se||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),D_(this,r,i)),this},e.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+mm(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},e.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+mm(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(r,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*s,i):this._repeat?Qi(this._tTime,s)+1:1},e.timeScale=function(r,i){if(!arguments.length)return this._rts===-se?0:this._rts;if(this._rts===r)return this;var s=this.parent&&this._ts?nl(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-se?0:this._rts,this.totalTime(bo(-Math.abs(this._delay),this.totalDuration(),s),i!==!1),Ml(this),YT(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Ji(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==se&&(this._tTime-=se)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&cn(i,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(ft(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?nl(i.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=$T);var i=Ge;return Ge=r,Of(this)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),Ge=i,this},e.globalTime=function(r){for(var i=this,s=arguments.length?r:i.rawTime();i;)s=i._start+s/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(r):s},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,gm(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,gm(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,i){return this.totalTime(Ft(this,r),ft(i))},e.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,ft(i)),this._dur||(this._zTime=-se),this},e.play=function(r,i){return r!=null&&this.seek(r,i),this.reversed(!1).paused(!1)},e.reverse=function(r,i){return r!=null&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(r,i){return r!=null&&this.seek(r,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-se:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-se,this},e.isActive=function(){var r=this.parent||this._dp,i=this._start,s;return!!(!r||this._ts&&this._initted&&r.isActive()&&(s=r.rawTime(!0))>=i&&s<this.endTime(!0)-se)},e.eventCallback=function(r,i,s){var o=this.vars;return arguments.length>1?(i?(o[r]=i,s&&(o[r+"Params"]=s),r==="onUpdate"&&(this._onUpdate=i)):delete o[r],this):o[r]},e.then=function(r){var i=this;return new Promise(function(s){var o=we(r)?r:B_,a=function(){var u=i.then;i.then=null,we(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=u),s(o),i.then=u};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?a():i._prom=a})},e.kill=function(){bs(this)},n}();Et(_o.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-se,_prom:0,_ps:!1,_rts:1});var et=function(n){b_(e,n);function e(r,i){var s;return r===void 0&&(r={}),s=n.call(this,r)||this,s.labels={},s.smoothChildTiming=!!r.smoothChildTiming,s.autoRemoveChildren=!!r.autoRemoveChildren,s._sort=ft(r.sortChildren),fe&&cn(r.parent||fe,vn(s),i),r.reversed&&s.reverse(),r.paused&&s.paused(!0),r.scrollTrigger&&j_(vn(s),r.scrollTrigger),s}var t=e.prototype;return t.to=function(i,s,o){return Gs(0,arguments,this),this},t.from=function(i,s,o){return Gs(1,arguments,this),this},t.fromTo=function(i,s,o,a){return Gs(2,arguments,this),this},t.set=function(i,s,o){return s.duration=0,s.parent=this,Us(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new Pe(i,s,Ft(this,o),1),this},t.call=function(i,s,o){return cn(this,Pe.delayedCall(0,i,s),o)},t.staggerTo=function(i,s,o,a,l,u,c){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=u,o.onCompleteParams=c,o.parent=this,new Pe(i,o,Ft(this,l)),this},t.staggerFrom=function(i,s,o,a,l,u,c){return o.runBackwards=1,Us(o).immediateRender=ft(o.immediateRender),this.staggerTo(i,s,o,a,l,u,c)},t.staggerFromTo=function(i,s,o,a,l,u,c,h){return a.startAt=o,Us(a).immediateRender=ft(a.immediateRender),this.staggerTo(i,s,a,l,u,c,h)},t.render=function(i,s,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,u=this._dur,c=i<=0?0:Ae(i),h=this._zTime<0!=i<0&&(this._initted||!u),f,d,g,p,_,y,m,x,v,w,C,S;if(this!==fe&&c>l&&i>=0&&(c=l),c!==this._tTime||o||h){if(a!==this._time&&u&&(c+=this._time-a,i+=this._time-a),f=c,v=this._start,x=this._ts,y=!x,h&&(u||(a=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(C=this._yoyo,_=u+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(_*100+i,s,o);if(f=Ae(c%_),c===l?(p=this._repeat,f=u):(w=Ae(c/_),p=~~w,p&&p===w&&(f=u,p--),f>u&&(f=u)),w=Qi(this._tTime,_),!a&&this._tTime&&w!==p&&this._tTime-w*_-this._dur<=0&&(w=p),C&&p&1&&(f=u-f,S=1),p!==w&&!this._lock){var T=C&&w&1,k=T===(C&&p&1);if(p<w&&(T=!T),a=T?0:c%u?u:c,this._lock=1,this.render(a||(S?0:Ae(p*_)),s,!u)._lock=0,this._tTime=c,!s&&this.parent&&Ct(this,"onRepeat"),this.vars.repeatRefresh&&!S&&(this.invalidate()._lock=1),a&&a!==this._time||y!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,l=this._tDur,k&&(this._lock=2,a=T?u:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!S&&this.invalidate()),this._lock=0,!this._ts&&!y)return this;rx(this,S)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(m=QT(this,Ae(a),Ae(f)),m&&(c-=f-(f=m._start))),this._tTime=c,this._time=f,this._act=!x,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,a=0),!a&&c&&!s&&!w&&(Ct(this,"onStart"),this._tTime!==c))return this;if(f>=a&&i>=0)for(d=this._first;d;){if(g=d._next,(d._act||f>=d._start)&&d._ts&&m!==d){if(d.parent!==this)return this.render(i,s,o);if(d.render(d._ts>0?(f-d._start)*d._ts:(d._dirty?d.totalDuration():d._tDur)+(f-d._start)*d._ts,s,o),f!==this._time||!this._ts&&!y){m=0,g&&(c+=this._zTime=-se);break}}d=g}else{d=this._last;for(var P=i<0?i:f;d;){if(g=d._prev,(d._act||P<=d._end)&&d._ts&&m!==d){if(d.parent!==this)return this.render(i,s,o);if(d.render(d._ts>0?(P-d._start)*d._ts:(d._dirty?d.totalDuration():d._tDur)+(P-d._start)*d._ts,s,o||Ge&&Of(d)),f!==this._time||!this._ts&&!y){m=0,g&&(c+=this._zTime=P?-se:se);break}}d=g}}if(m&&!s&&(this.pause(),m.render(f>=a?0:-se)._zTime=f>=a?1:-1,this._ts))return this._start=v,Ml(this),this.render(i,s,o);this._onUpdate&&!s&&Ct(this,"onUpdate",!0),(c===l&&this._tTime>=this.totalDuration()||!c&&a)&&(v===this._start||Math.abs(x)!==Math.abs(this._ts))&&(this._lock||((i||!u)&&(c===l&&this._ts>0||!c&&this._ts<0)&&ur(this,1),!s&&!(i<0&&!a)&&(c||a||!l)&&(Ct(this,c===l&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(c<l&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(i,s){var o=this;if(Nn(s)||(s=Ft(this,s,i)),!(i instanceof _o)){if(Ke(i))return i.forEach(function(a){return o.add(a,s)}),this;if(De(i))return this.addLabel(i,s);if(we(i))i=Pe.delayedCall(0,i);else return this}return this!==i?cn(this,i,s):this},t.getChildren=function(i,s,o,a){i===void 0&&(i=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-Lt);for(var l=[],u=this._first;u;)u._start>=a&&(u instanceof Pe?s&&l.push(u):(o&&l.push(u),i&&l.push.apply(l,u.getChildren(!0,s,o)))),u=u._next;return l},t.getById=function(i){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===i)return s[o]},t.remove=function(i){return De(i)?this.removeLabel(i):we(i)?this.killTweensOf(i):(i.parent===this&&El(this,i),i===this._recent&&(this._recent=this._last),$r(this))},t.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Ae(wt.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),n.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},t.addLabel=function(i,s){return this.labels[i]=Ft(this,s),this},t.removeLabel=function(i){return delete this.labels[i],this},t.addPause=function(i,s,o){var a=Pe.delayedCall(0,s||mo,o);return a.data="isPause",this._hasPause=1,cn(this,a,Ft(this,i))},t.removePause=function(i){var s=this._first;for(i=Ft(this,i);s;)s._start===i&&s.data==="isPause"&&ur(s),s=s._next},t.killTweensOf=function(i,s,o){for(var a=this.getTweensOf(i,o),l=a.length;l--;)Xn!==a[l]&&a[l].kill(i,s);return this},t.getTweensOf=function(i,s){for(var o=[],a=Bt(i),l=this._first,u=Nn(s),c;l;)l instanceof Pe?VT(l._targets,a)&&(u?(!Xn||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&o.push(l):(c=l.getTweensOf(a,s)).length&&o.push.apply(o,c),l=l._next;return o},t.tweenTo=function(i,s){s=s||{};var o=this,a=Ft(o,i),l=s,u=l.startAt,c=l.onStart,h=l.onStartParams,f=l.immediateRender,d,g=Pe.to(o,Et({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(u&&"time"in u?u.time:o._time))/o.timeScale())||se,onStart:function(){if(o.pause(),!d){var _=s.duration||Math.abs((a-(u&&"time"in u?u.time:o._time))/o.timeScale());g._dur!==_&&Zi(g,_,0,1).render(g._time,!0,!0),d=1}c&&c.apply(g,h||[])}},s));return f?g.render(0):g},t.tweenFromTo=function(i,s,o){return this.tweenTo(s,Et({startAt:{time:Ft(this,i)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(i){return i===void 0&&(i=this._time),ym(this,Ft(this,i))},t.previousLabel=function(i){return i===void 0&&(i=this._time),ym(this,Ft(this,i),1)},t.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+se)},t.shiftChildren=function(i,s,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,u;a;)a._start>=o&&(a._start+=i,a._end+=i),a=a._next;if(s)for(u in l)l[u]>=o&&(l[u]+=i);return $r(this)},t.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return n.prototype.invalidate.call(this,i)},t.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),$r(this)},t.totalDuration=function(i){var s=0,o=this,a=o._last,l=Lt,u,c,h;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(h=o.parent;a;)u=a._prev,a._dirty&&a.totalDuration(),c=a._start,c>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,cn(o,a,c-a._delay,1)._lock=0):l=c,c<0&&a._ts&&(s-=c,(!h&&!o._dp||h&&h.smoothChildTiming)&&(o._start+=c/o._ts,o._time-=c,o._tTime-=c),o.shiftChildren(-c,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=u;Zi(o,o===fe&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(fe._ts&&(D_(fe,nl(i,fe)),N_=wt.frame),wt.frame>=dm){dm+=bt.autoSleep||120;var s=fe._first;if((!s||!s._ts)&&bt.autoSleep&&wt._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||wt.sleep()}}},e}(_o);Et(et.prototype,{_lock:0,_hasPause:0,_forcing:0});var dk=function(e,t,r,i,s,o,a){var l=new pt(this._pt,e,t,0,1,hx,null,s),u=0,c=0,h,f,d,g,p,_,y,m;for(l.b=r,l.e=i,r+="",i+="",(y=~i.indexOf("random("))&&(i=go(i)),o&&(m=[r,i],o(m,e,t),r=m[0],i=m[1]),f=r.match(Nu)||[];h=Nu.exec(i);)g=h[0],p=i.substring(u,h.index),d?d=(d+1)%5:p.substr(-5)==="rgba("&&(d=1),g!==f[c++]&&(_=parseFloat(f[c-1])||0,l._pt={_next:l._pt,p:p||c===1?p:",",s:_,c:g.charAt(1)==="="?Oi(_,g)-_:parseFloat(g)-_,m:d&&d<4?Math.round:0},u=Nu.lastIndex);return l.c=u<i.length?i.substring(u,i.length):"",l.fp=a,(M_.test(i)||y)&&(l.e=0),this._pt=l,l},Nf=function(e,t,r,i,s,o,a,l,u,c){we(i)&&(i=i(s||0,e,o));var h=e[t],f=r!=="get"?r:we(h)?u?e[t.indexOf("set")||!we(e["get"+t.substr(3)])?t:"get"+t.substr(3)](u):e[t]():h,d=we(h)?u?_k:ux:Df,g;if(De(i)&&(~i.indexOf("random(")&&(i=go(i)),i.charAt(1)==="="&&(g=Oi(f,i)+(Ye(f)||0),(g||g===0)&&(i=g))),!c||f!==i||hh)return!isNaN(f*i)&&i!==""?(g=new pt(this._pt,e,t,+f||0,i-(f||0),typeof h=="boolean"?vk:cx,0,d),u&&(g.fp=u),a&&g.modifier(a,this,e),this._pt=g):(!h&&!(t in e)&&Mf(t,i),dk.call(this,e,t,f,i,d,l||bt.stringFilter,u))},pk=function(e,t,r,i,s){if(we(e)&&(e=js(e,s,t,r,i)),!mn(e)||e.style&&e.nodeType||Ke(e)||A_(e))return De(e)?js(e,s,t,r,i):e;var o={},a;for(a in e)o[a]=js(e[a],s,t,r,i);return o},ox=function(e,t,r,i,s,o){var a,l,u,c;if(vt[e]&&(a=new vt[e]).init(s,a.rawVars?t[e]:pk(t[e],i,s,o,r),r,i,o)!==!1&&(r._pt=l=new pt(r._pt,s,e,0,1,a.render,a,0,a.priority),r!==Pi))for(u=r._ptLookup[r._targets.indexOf(s)],c=a._props.length;c--;)u[a._props[c]]=l;return a},Xn,hh,zf=function n(e,t,r){var i=e.vars,s=i.ease,o=i.startAt,a=i.immediateRender,l=i.lazy,u=i.onUpdate,c=i.runBackwards,h=i.yoyoEase,f=i.keyframes,d=i.autoRevert,g=e._dur,p=e._startAt,_=e._targets,y=e.parent,m=y&&y.data==="nested"?y.vars.targets:_,x=e._overwrite==="auto"&&!bf,v=e.timeline,w,C,S,T,k,P,E,L,F,j,Z,I,N;if(v&&(!f||!s)&&(s="none"),e._ease=Vr(s,qi.ease),e._yEase=h?nx(Vr(h===!0?s:h,qi.ease)):0,h&&e._yoyo&&!e._repeat&&(h=e._yEase,e._yEase=e._ease,e._ease=h),e._from=!v&&!!i.runBackwards,!v||f&&!i.stagger){if(L=_[0]?jr(_[0]).harness:0,I=L&&i[L.prop],w=tl(i,Rf),p&&(p._zTime<0&&p.progress(1),t<0&&c&&a&&!d?p.render(-1,!0):p.revert(c&&g?wa:jT),p._lazy=0),o){if(ur(e._startAt=Pe.set(_,Et({data:"isStart",overwrite:!1,parent:y,immediateRender:!0,lazy:!p&&ft(l),startAt:null,delay:0,onUpdate:u&&function(){return Ct(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Ge||!a&&!d)&&e._startAt.revert(wa),a&&g&&t<=0&&r<=0){t&&(e._zTime=t);return}}else if(c&&g&&!p){if(t&&(a=!1),S=Et({overwrite:!1,data:"isFromStart",lazy:a&&!p&&ft(l),immediateRender:a,stagger:0,parent:y},w),I&&(S[L.prop]=I),ur(e._startAt=Pe.set(_,S)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Ge?e._startAt.revert(wa):e._startAt.render(-1,!0)),e._zTime=t,!a)n(e._startAt,se,se);else if(!t)return}for(e._pt=e._ptCache=0,l=g&&ft(l)||l&&!g,C=0;C<_.length;C++){if(k=_[C],E=k._gsap||Ff(_)[C]._gsap,e._ptLookup[C]=j={},sh[E.id]&&sr.length&&el(),Z=m===_?C:m.indexOf(k),L&&(F=new L).init(k,I||w,e,Z,m)!==!1&&(e._pt=T=new pt(e._pt,k,F.name,0,1,F.render,F,0,F.priority),F._props.forEach(function(R){j[R]=T}),F.priority&&(P=1)),!L||I)for(S in w)vt[S]&&(F=ox(S,w,e,Z,k,m))?F.priority&&(P=1):j[S]=T=Nf.call(e,k,S,"get",w[S],Z,m,0,i.stringFilter);e._op&&e._op[C]&&e.kill(k,e._op[C]),x&&e._pt&&(Xn=e,fe.killTweensOf(k,j,e.globalTime(t)),N=!e.parent,Xn=0),e._pt&&l&&(sh[E.id]=1)}P&&fx(e),e._onInit&&e._onInit(e)}e._onUpdate=u,e._initted=(!e._op||e._pt)&&!N,f&&t<=0&&v.render(Lt,!0,!0)},mk=function(e,t,r,i,s,o,a,l){var u=(e._pt&&e._ptCache||(e._ptCache={}))[t],c,h,f,d;if(!u)for(u=e._ptCache[t]=[],f=e._ptLookup,d=e._targets.length;d--;){if(c=f[d][t],c&&c.d&&c.d._pt)for(c=c.d._pt;c&&c.p!==t&&c.fp!==t;)c=c._next;if(!c)return hh=1,e.vars[t]="+=0",zf(e,a),hh=0,l?po(t+" not eligible for reset"):1;u.push(c)}for(d=u.length;d--;)h=u[d],c=h._pt||h,c.s=(i||i===0)&&!s?i:c.s+(i||0)+o*c.c,c.c=r-c.s,h.e&&(h.e=Se(r)+Ye(h.e)),h.b&&(h.b=c.s+Ye(h.b))},gk=function(e,t){var r=e[0]?jr(e[0]).harness:0,i=r&&r.aliases,s,o,a,l;if(!i)return t;s=Ki({},t);for(o in i)if(o in s)for(l=i[o].split(","),a=l.length;a--;)s[l[a]]=s[o];return s},yk=function(e,t,r,i){var s=t.ease||i||"power1.inOut",o,a;if(Ke(t))a=r[e]||(r[e]=[]),t.forEach(function(l,u){return a.push({t:u/(t.length-1)*100,v:l,e:s})});else for(o in t)a=r[o]||(r[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:t[o],e:s})},js=function(e,t,r,i,s){return we(e)?e.call(t,r,i,s):De(e)&&~e.indexOf("random(")?go(e):e},ax=If+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",lx={};dt(ax+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return lx[n]=1});var Pe=function(n){b_(e,n);function e(r,i,s,o){var a;typeof i=="number"&&(s.duration=i,i=s,s=null),a=n.call(this,o?i:Us(i))||this;var l=a.vars,u=l.duration,c=l.delay,h=l.immediateRender,f=l.stagger,d=l.overwrite,g=l.keyframes,p=l.defaults,_=l.scrollTrigger,y=l.yoyoEase,m=i.parent||fe,x=(Ke(r)||A_(r)?Nn(r[0]):"length"in i)?[r]:Bt(r),v,w,C,S,T,k,P,E;if(a._targets=x.length?Ff(x):po("GSAP target "+r+" not found. https://gsap.com",!bt.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=d,g||f||oa(u)||oa(c)){if(i=a.vars,v=a.timeline=new et({data:"nested",defaults:p||{},targets:m&&m.data==="nested"?m.vars.targets:x}),v.kill(),v.parent=v._dp=vn(a),v._start=0,f||oa(u)||oa(c)){if(S=x.length,P=f&&H_(f),mn(f))for(T in f)~ax.indexOf(T)&&(E||(E={}),E[T]=f[T]);for(w=0;w<S;w++)C=tl(i,lx),C.stagger=0,y&&(C.yoyoEase=y),E&&Ki(C,E),k=x[w],C.duration=+js(u,vn(a),w,k,x),C.delay=(+js(c,vn(a),w,k,x)||0)-a._delay,!f&&S===1&&C.delay&&(a._delay=c=C.delay,a._start+=c,C.delay=0),v.to(k,C,P?P(w,k,x):0),v._ease=X.none;v.duration()?u=c=0:a.timeline=0}else if(g){Us(Et(v.vars.defaults,{ease:"none"})),v._ease=Vr(g.ease||i.ease||"none");var L=0,F,j,Z;if(Ke(g))g.forEach(function(I){return v.to(x,I,">")}),v.duration();else{C={};for(T in g)T==="ease"||T==="easeEach"||yk(T,g[T],C,g.easeEach);for(T in C)for(F=C[T].sort(function(I,N){return I.t-N.t}),L=0,w=0;w<F.length;w++)j=F[w],Z={ease:j.e,duration:(j.t-(w?F[w-1].t:0))/100*u},Z[T]=j.v,v.to(x,Z,L),L+=Z.duration;v.duration()<u&&v.to({},{duration:u-v.duration()})}}u||a.duration(u=v.duration())}else a.timeline=0;return d===!0&&!bf&&(Xn=vn(a),fe.killTweensOf(x),Xn=0),cn(m,vn(a),s),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(h||!u&&!g&&a._start===Ae(m._time)&&ft(h)&&XT(vn(a))&&m.data!=="nested")&&(a._tTime=-se,a.render(Math.max(0,-c)||0)),_&&j_(vn(a),_),a}var t=e.prototype;return t.render=function(i,s,o){var a=this._time,l=this._tDur,u=this._dur,c=i<0,h=i>l-se&&!c?l:i<se?0:i,f,d,g,p,_,y,m,x,v;if(!u)KT(this,i,s,o);else if(h!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==c||this._lazy){if(f=h,x=this.timeline,this._repeat){if(p=u+this._rDelay,this._repeat<-1&&c)return this.totalTime(p*100+i,s,o);if(f=Ae(h%p),h===l?(g=this._repeat,f=u):(_=Ae(h/p),g=~~_,g&&g===_?(f=u,g--):f>u&&(f=u)),y=this._yoyo&&g&1,y&&(v=this._yEase,f=u-f),_=Qi(this._tTime,p),f===a&&!o&&this._initted&&g===_)return this._tTime=h,this;g!==_&&(x&&this._yEase&&rx(x,y),this.vars.repeatRefresh&&!y&&!this._lock&&f!==p&&this._initted&&(this._lock=o=1,this.render(Ae(p*g),!0).invalidate()._lock=0))}if(!this._initted){if($_(this,c?i:f,o,s,h))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&g!==_))return this;if(u!==this._dur)return this.render(i,s,o)}if(this._tTime=h,this._time=f,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=m=(v||this._ease)(f/u),this._from&&(this.ratio=m=1-m),!a&&h&&!s&&!_&&(Ct(this,"onStart"),this._tTime!==h))return this;for(d=this._pt;d;)d.r(m,d.d),d=d._next;x&&x.render(i<0?i:x._dur*x._ease(f/this._dur),s,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(c&&oh(this,i,s,o),Ct(this,"onUpdate")),this._repeat&&g!==_&&this.vars.onRepeat&&!s&&this.parent&&Ct(this,"onRepeat"),(h===this._tDur||!h)&&this._tTime===h&&(c&&!this._onUpdate&&oh(this,i,!0,!0),(i||!u)&&(h===this._tDur&&this._ts>0||!h&&this._ts<0)&&ur(this,1),!s&&!(c&&!a)&&(h||a||y)&&(Ct(this,h===l?"onComplete":"onReverseComplete",!0),this._prom&&!(h<l&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),n.prototype.invalidate.call(this,i)},t.resetTo=function(i,s,o,a,l){yo||wt.wake(),this._ts||this.play();var u=Math.min(this._dur,(this._dp._time-this._start)*this._ts),c;return this._initted||zf(this,u),c=this._ease(u/this._dur),mk(this,i,s,o,a,c,u,l)?this.resetTo(i,s,o,a,1):(Rl(this,0),this.parent||U_(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?bs(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Ge),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,Xn&&Xn.vars.overwrite!==!0)._first||bs(this),this.parent&&o!==this.timeline.totalDuration()&&Zi(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=i?Bt(i):a,u=this._ptLookup,c=this._pt,h,f,d,g,p,_,y;if((!s||s==="all")&&HT(a,l))return s==="all"&&(this._pt=0),bs(this);for(h=this._op=this._op||[],s!=="all"&&(De(s)&&(p={},dt(s,function(m){return p[m]=1}),s=p),s=gk(a,s)),y=a.length;y--;)if(~l.indexOf(a[y])){f=u[y],s==="all"?(h[y]=s,g=f,d={}):(d=h[y]=h[y]||{},g=s);for(p in g)_=f&&f[p],_&&((!("kill"in _.d)||_.d.kill(p)===!0)&&El(this,_,"_pt"),delete f[p]),d!=="all"&&(d[p]=1)}return this._initted&&!this._pt&&c&&bs(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return Gs(1,arguments)},e.delayedCall=function(i,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(i,s,o){return Gs(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,o){return fe.killTweensOf(i,s,o)},e}(_o);Et(Pe.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});dt("staggerTo,staggerFrom,staggerFromTo",function(n){Pe[n]=function(){var e=new et,t=lh.call(arguments,0);return t.splice(n==="staggerFromTo"?5:4,0,0),e[n].apply(e,t)}});var Df=function(e,t,r){return e[t]=r},ux=function(e,t,r){return e[t](r)},_k=function(e,t,r,i){return e[t](i.fp,r)},xk=function(e,t,r){return e.setAttribute(t,r)},Lf=function(e,t){return we(e[t])?ux:Pf(e[t])&&e.setAttribute?xk:Df},cx=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},vk=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},hx=function(e,t){var r=t._pt,i="";if(!e&&t.b)i=t.b;else if(e===1&&t.e)i=t.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+i,r=r._next;i+=t.c}t.set(t.t,t.p,i,t)},Bf=function(e,t){for(var r=t._pt;r;)r.r(e,r.d),r=r._next},wk=function(e,t,r,i){for(var s=this._pt,o;s;)o=s._next,s.p===i&&s.modifier(e,t,r),s=o},Sk=function(e){for(var t=this._pt,r,i;t;)i=t._next,t.p===e&&!t.op||t.op===e?El(this,t,"_pt"):t.dep||(r=1),t=i;return!r},Ck=function(e,t,r,i){i.mSet(e,t,i.m.call(i.tween,r,i.mt),i)},fx=function(e){for(var t=e._pt,r,i,s,o;t;){for(r=t._next,i=s;i&&i.pr>t.pr;)i=i._next;(t._prev=i?i._prev:o)?t._prev._next=t:s=t,(t._next=i)?i._prev=t:o=t,t=r}e._pt=s},pt=function(){function n(t,r,i,s,o,a,l,u,c){this.t=r,this.s=s,this.c=o,this.p=i,this.r=a||cx,this.d=l||this,this.set=u||Df,this.pr=c||0,this._next=t,t&&(t._prev=this)}var e=n.prototype;return e.modifier=function(r,i,s){this.mSet=this.mSet||this.set,this.set=Ck,this.m=r,this.mt=s,this.tween=i},n}();dt(If+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return Rf[n]=1});At.TweenMax=At.TweenLite=Pe;At.TimelineLite=At.TimelineMax=et;fe=new et({sortChildren:!1,defaults:qi,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});bt.stringFilter=tx;var Wr=[],Ca={},Tk=[],xm=0,kk=0,Uu=function(e){return(Ca[e]||Tk).map(function(t){return t()})},fh=function(){var e=Date.now(),t=[];e-xm>2&&(Uu("matchMediaInit"),Wr.forEach(function(r){var i=r.queries,s=r.conditions,o,a,l,u;for(a in i)o=ln.matchMedia(i[a]).matches,o&&(l=1),o!==s[a]&&(s[a]=o,u=1);u&&(r.revert(),l&&t.push(r))}),Uu("matchMediaRevert"),t.forEach(function(r){return r.onMatch(r,function(i){return r.add(null,i)})}),xm=e,Uu("matchMedia"))},dx=function(){function n(t,r){this.selector=r&&uh(r),this.data=[],this._r=[],this.isReverted=!1,this.id=kk++,t&&this.add(t)}var e=n.prototype;return e.add=function(r,i,s){we(r)&&(s=i,i=r,r=we);var o=this,a=function(){var u=ce,c=o.selector,h;return u&&u!==o&&u.data.push(o),s&&(o.selector=uh(s)),ce=o,h=i.apply(o,arguments),we(h)&&o._r.push(h),ce=u,o.selector=c,o.isReverted=!1,h};return o.last=a,r===we?a(o,function(l){return o.add(null,l)}):r?o[r]=a:a},e.ignore=function(r){var i=ce;ce=null,r(this),ce=i},e.getTweens=function(){var r=[];return this.data.forEach(function(i){return i instanceof n?r.push.apply(r,i.getTweens()):i instanceof Pe&&!(i.parent&&i.parent.data==="nested")&&r.push(i)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,i){var s=this;if(r?function(){for(var a=s.getTweens(),l=s.data.length,u;l--;)u=s.data[l],u.data==="isFlip"&&(u.revert(),u.getChildren(!0,!0,!1).forEach(function(c){return a.splice(a.indexOf(c),1)}));for(a.map(function(c){return{g:c._dur||c._delay||c._sat&&!c._sat.vars.immediateRender?c.globalTime(0):-1/0,t:c}}).sort(function(c,h){return h.g-c.g||-1/0}).forEach(function(c){return c.t.revert(r)}),l=s.data.length;l--;)u=s.data[l],u instanceof et?u.data!=="nested"&&(u.scrollTrigger&&u.scrollTrigger.revert(),u.kill()):!(u instanceof Pe)&&u.revert&&u.revert(r);s._r.forEach(function(c){return c(r,s)}),s.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),i)for(var o=Wr.length;o--;)Wr[o].id===this.id&&Wr.splice(o,1)},e.revert=function(r){this.kill(r||{})},n}(),bk=function(){function n(t){this.contexts=[],this.scope=t,ce&&ce.data.push(this)}var e=n.prototype;return e.add=function(r,i,s){mn(r)||(r={matches:r});var o=new dx(0,s||this.scope),a=o.conditions={},l,u,c;ce&&!o.selector&&(o.selector=ce.selector),this.contexts.push(o),i=o.add("onMatch",i),o.queries=r;for(u in r)u==="all"?c=1:(l=ln.matchMedia(r[u]),l&&(Wr.indexOf(o)<0&&Wr.push(o),(a[u]=l.matches)&&(c=1),l.addListener?l.addListener(fh):l.addEventListener("change",fh)));return c&&i(o,function(h){return o.add(null,h)}),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(i){return i.kill(r,!0)})},n}(),rl={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach(function(i){return Z_(i)})},timeline:function(e){return new et(e)},getTweensOf:function(e,t){return fe.getTweensOf(e,t)},getProperty:function(e,t,r,i){De(e)&&(e=Bt(e)[0]);var s=jr(e||{}).get,o=r?B_:L_;return r==="native"&&(r=""),e&&(t?o((vt[t]&&vt[t].get||s)(e,t,r,i)):function(a,l,u){return o((vt[a]&&vt[a].get||s)(e,a,l,u))})},quickSetter:function(e,t,r){if(e=Bt(e),e.length>1){var i=e.map(function(c){return gt.quickSetter(c,t,r)}),s=i.length;return function(c){for(var h=s;h--;)i[h](c)}}e=e[0]||{};var o=vt[t],a=jr(e),l=a.harness&&(a.harness.aliases||{})[t]||t,u=o?function(c){var h=new o;Pi._pt=0,h.init(e,r?c+r:c,Pi,0,[e]),h.render(1,h),Pi._pt&&Bf(1,Pi)}:a.set(e,l);return o?u:function(c){return u(e,l,r?c+r:c,a,1)}},quickTo:function(e,t,r){var i,s=gt.to(e,Et((i={},i[t]="+=0.1",i.paused=!0,i.stagger=0,i),r||{})),o=function(l,u,c){return s.resetTo(t,l,u,c)};return o.tween=s,o},isTweening:function(e){return fe.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Vr(e.ease,qi.ease)),pm(qi,e||{})},config:function(e){return pm(bt,e||{})},registerEffect:function(e){var t=e.name,r=e.effect,i=e.plugins,s=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(a){return a&&!vt[a]&&!At[a]&&po(t+" effect requires "+a+" plugin.")}),zu[t]=function(a,l,u){return r(Bt(a),Et(l||{},s),u)},o&&(et.prototype[t]=function(a,l,u){return this.add(zu[t](a,mn(l)?l:(u=l)&&{},this),u)})},registerEase:function(e,t){X[e]=Vr(t)},parseEase:function(e,t){return arguments.length?Vr(e,t):X},getById:function(e){return fe.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var r=new et(e),i,s;for(r.smoothChildTiming=ft(e.smoothChildTiming),fe.remove(r),r._dp=0,r._time=r._tTime=fe._time,i=fe._first;i;)s=i._next,(t||!(!i._dur&&i instanceof Pe&&i.vars.onComplete===i._targets[0]))&&cn(r,i,i._start-i._delay),i=s;return cn(fe,r,0),r},context:function(e,t){return e?new dx(e,t):ce},matchMedia:function(e){return new bk(e)},matchMediaRefresh:function(){return Wr.forEach(function(e){var t=e.conditions,r,i;for(i in t)t[i]&&(t[i]=!1,r=1);r&&e.revert()})||fh()},addEventListener:function(e,t){var r=Ca[e]||(Ca[e]=[]);~r.indexOf(t)||r.push(t)},removeEventListener:function(e,t){var r=Ca[e],i=r&&r.indexOf(t);i>=0&&r.splice(i,1)},utils:{wrap:ik,wrapYoyo:sk,distribute:H_,random:X_,snap:Y_,normalize:rk,getUnit:Ye,clamp:JT,splitColor:J_,toArray:Bt,selector:uh,mapRange:K_,pipe:tk,unitize:nk,interpolate:ok,shuffle:W_},install:F_,effects:zu,ticker:wt,updateRoot:et.updateRoot,plugins:vt,globalTimeline:fe,core:{PropTween:pt,globals:O_,Tween:Pe,Timeline:et,Animation:_o,getCache:jr,_removeLinkedListItem:El,reverting:function(){return Ge},context:function(e){return e&&ce&&(ce.data.push(e),e._ctx=ce),ce},suppressOverwrites:function(e){return bf=e}}};dt("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return rl[n]=Pe[n]});wt.add(et.updateRoot);Pi=rl.to({},{duration:0});var Pk=function(e,t){for(var r=e._pt;r&&r.p!==t&&r.op!==t&&r.fp!==t;)r=r._next;return r},Ak=function(e,t){var r=e._targets,i,s,o;for(i in t)for(s=r.length;s--;)o=e._ptLookup[s][i],o&&(o=o.d)&&(o._pt&&(o=Pk(o,i)),o&&o.modifier&&o.modifier(t[i],e,r[s],i))},Gu=function(e,t){return{name:e,headless:1,rawVars:1,init:function(i,s,o){o._onInit=function(a){var l,u;if(De(s)&&(l={},dt(s,function(c){return l[c]=1}),s=l),t){l={};for(u in s)l[u]=t(s[u]);s=l}Ak(a,s)}}}},gt=rl.registerPlugin({name:"attr",init:function(e,t,r,i,s){var o,a,l;this.tween=r;for(o in t)l=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(l||0)+"",t[o],i,s,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(e,t){for(var r=t._pt;r;)Ge?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",headless:1,init:function(e,t){for(var r=t.length;r--;)this.add(e,r,e[r]||0,t[r],0,0,0,0,0,1)}},Gu("roundProps",ch),Gu("modifiers"),Gu("snap",Y_))||rl;Pe.version=et.version=gt.version="3.13.0";I_=1;Af()&&Ji();X.Power0;X.Power1;X.Power2;X.Power3;X.Power4;X.Linear;X.Quad;X.Cubic;X.Quart;X.Quint;X.Strong;X.Elastic;X.Back;X.SteppedEase;X.Bounce;X.Sine;X.Expo;X.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var vm,qn,Ni,Uf,Dr,wm,Gf,Ek=function(){return typeof window<"u"},zn={},Rr=180/Math.PI,zi=Math.PI/180,li=Math.atan2,Sm=1e8,jf=/([A-Z])/g,Mk=/(left|right|width|margin|padding|x)/i,Rk=/[\s,\(]\S/,hn={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},dh=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},Ik=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},Fk=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},Ok=function(e,t){var r=t.s+t.c*e;t.set(t.t,t.p,~~(r+(r<0?-.5:.5))+t.u,t)},px=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},mx=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},Nk=function(e,t,r){return e.style[t]=r},zk=function(e,t,r){return e.style.setProperty(t,r)},Dk=function(e,t,r){return e._gsap[t]=r},Lk=function(e,t,r){return e._gsap.scaleX=e._gsap.scaleY=r},Bk=function(e,t,r,i,s){var o=e._gsap;o.scaleX=o.scaleY=r,o.renderTransform(s,o)},Uk=function(e,t,r,i,s){var o=e._gsap;o[t]=r,o.renderTransform(s,o)},pe="transform",mt=pe+"Origin",Gk=function n(e,t){var r=this,i=this.target,s=i.style,o=i._gsap;if(e in zn&&s){if(this.tfm=this.tfm||{},e!=="transform")e=hn[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return r.tfm[a]=Cn(i,a)}):this.tfm[e]=o.x?o[e]:Cn(i,e),e===mt&&(this.tfm.zOrigin=o.zOrigin);else return hn.transform.split(",").forEach(function(a){return n.call(r,a,t)});if(this.props.indexOf(pe)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(mt,t,"")),e=pe}(s||t)&&this.props.push(e,t,s[e])},gx=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},jk=function(){var e=this.props,t=this.target,r=t.style,i=t._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?e[s+1]===2?t[e[s]](e[s+2]):t[e[s]]=e[s+2]:e[s+2]?r[e[s]]=e[s+2]:r.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(jf,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),s=Gf(),(!s||!s.isStart)&&!r[pe]&&(gx(r),i.zOrigin&&r[mt]&&(r[mt]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},yx=function(e,t){var r={target:e,props:[],revert:jk,save:Gk};return e._gsap||gt.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(i){return r.save(i)}),r},_x,ph=function(e,t){var r=qn.createElementNS?qn.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):qn.createElement(e);return r&&r.style?r:qn.createElement(e)},Ut=function n(e,t,r){var i=getComputedStyle(e);return i[t]||i.getPropertyValue(t.replace(jf,"-$1").toLowerCase())||i.getPropertyValue(t)||!r&&n(e,es(t)||t,1)||""},Cm="O,Moz,ms,Ms,Webkit".split(","),es=function(e,t,r){var i=t||Dr,s=i.style,o=5;if(e in s&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(Cm[o]+e in s););return o<0?null:(o===3?"ms":o>=0?Cm[o]:"")+e},mh=function(){Ek()&&window.document&&(vm=window,qn=vm.document,Ni=qn.documentElement,Dr=ph("div")||{style:{}},ph("div"),pe=es(pe),mt=pe+"Origin",Dr.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",_x=!!es("perspective"),Gf=gt.core.reverting,Uf=1)},Tm=function(e){var t=e.ownerSVGElement,r=ph("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=e.cloneNode(!0),s;i.style.display="block",r.appendChild(i),Ni.appendChild(r);try{s=i.getBBox()}catch{}return r.removeChild(i),Ni.removeChild(r),s},km=function(e,t){for(var r=t.length;r--;)if(e.hasAttribute(t[r]))return e.getAttribute(t[r])},xx=function(e){var t,r;try{t=e.getBBox()}catch{t=Tm(e),r=1}return t&&(t.width||t.height)||r||(t=Tm(e)),t&&!t.width&&!t.x&&!t.y?{x:+km(e,["x","cx","x1"])||0,y:+km(e,["y","cy","y1"])||0,width:0,height:0}:t},vx=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&xx(e))},ti=function(e,t){if(t){var r=e.style,i;t in zn&&t!==mt&&(t=pe),r.removeProperty?(i=t.substr(0,2),(i==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),r.removeProperty(i==="--"?t:t.replace(jf,"-$1").toLowerCase())):r.removeAttribute(t)}},Kn=function(e,t,r,i,s,o){var a=new pt(e._pt,t,r,0,1,o?mx:px);return e._pt=a,a.b=i,a.e=s,e._props.push(r),a},bm={deg:1,rad:1,turn:1},$k={grid:1,flex:1},cr=function n(e,t,r,i){var s=parseFloat(r)||0,o=(r+"").trim().substr((s+"").length)||"px",a=Dr.style,l=Mk.test(t),u=e.tagName.toLowerCase()==="svg",c=(u?"client":"offset")+(l?"Width":"Height"),h=100,f=i==="px",d=i==="%",g,p,_,y;if(i===o||!s||bm[i]||bm[o])return s;if(o!=="px"&&!f&&(s=n(e,t,r,"px")),y=e.getCTM&&vx(e),(d||o==="%")&&(zn[t]||~t.indexOf("adius")))return g=y?e.getBBox()[l?"width":"height"]:e[c],Se(d?s/g*h:s/100*g);if(a[l?"width":"height"]=h+(f?o:i),p=i!=="rem"&&~t.indexOf("adius")||i==="em"&&e.appendChild&&!u?e:e.parentNode,y&&(p=(e.ownerSVGElement||{}).parentNode),(!p||p===qn||!p.appendChild)&&(p=qn.body),_=p._gsap,_&&d&&_.width&&l&&_.time===wt.time&&!_.uncache)return Se(s/_.width*h);if(d&&(t==="height"||t==="width")){var m=e.style[t];e.style[t]=h+i,g=e[c],m?e.style[t]=m:ti(e,t)}else(d||o==="%")&&!$k[Ut(p,"display")]&&(a.position=Ut(e,"position")),p===e&&(a.position="static"),p.appendChild(Dr),g=Dr[c],p.removeChild(Dr),a.position="absolute";return l&&d&&(_=jr(p),_.time=wt.time,_.width=p[c]),Se(f?g*s/h:g&&s?h/g*s:0)},Cn=function(e,t,r,i){var s;return Uf||mh(),t in hn&&t!=="transform"&&(t=hn[t],~t.indexOf(",")&&(t=t.split(",")[0])),zn[t]&&t!=="transform"?(s=vo(e,i),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:sl(Ut(e,mt))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=il[t]&&il[t](e,t,r)||Ut(e,t)||z_(e,t)||(t==="opacity"?1:0))),r&&!~(s+"").trim().indexOf(" ")?cr(e,t,s,r)+r:s},Vk=function(e,t,r,i){if(!r||r==="none"){var s=es(t,e,1),o=s&&Ut(e,s,1);o&&o!==r?(t=s,r=o):t==="borderColor"&&(r=Ut(e,"borderTopColor"))}var a=new pt(this._pt,e.style,t,0,1,hx),l=0,u=0,c,h,f,d,g,p,_,y,m,x,v,w;if(a.b=r,a.e=i,r+="",i+="",i.substring(0,6)==="var(--"&&(i=Ut(e,i.substring(4,i.indexOf(")")))),i==="auto"&&(p=e.style[t],e.style[t]=i,i=Ut(e,t)||i,p?e.style[t]=p:ti(e,t)),c=[r,i],tx(c),r=c[0],i=c[1],f=r.match(bi)||[],w=i.match(bi)||[],w.length){for(;h=bi.exec(i);)_=h[0],m=i.substring(l,h.index),g?g=(g+1)%5:(m.substr(-5)==="rgba("||m.substr(-5)==="hsla(")&&(g=1),_!==(p=f[u++]||"")&&(d=parseFloat(p)||0,v=p.substr((d+"").length),_.charAt(1)==="="&&(_=Oi(d,_)+v),y=parseFloat(_),x=_.substr((y+"").length),l=bi.lastIndex-x.length,x||(x=x||bt.units[t]||v,l===i.length&&(i+=x,a.e+=x)),v!==x&&(d=cr(e,t,p,x)||0),a._pt={_next:a._pt,p:m||u===1?m:",",s:d,c:y-d,m:g&&g<4||t==="zIndex"?Math.round:0});a.c=l<i.length?i.substring(l,i.length):""}else a.r=t==="display"&&i==="none"?mx:px;return M_.test(i)&&(a.e=0),this._pt=a,a},Pm={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Wk=function(e){var t=e.split(" "),r=t[0],i=t[1]||"50%";return(r==="top"||r==="bottom"||i==="left"||i==="right")&&(e=r,r=i,i=e),t[0]=Pm[r]||r,t[1]=Pm[i]||i,t.join(" ")},Hk=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var r=t.t,i=r.style,s=t.u,o=r._gsap,a,l,u;if(s==="all"||s===!0)i.cssText="",l=1;else for(s=s.split(","),u=s.length;--u>-1;)a=s[u],zn[a]&&(l=1,a=a==="transformOrigin"?mt:pe),ti(r,a);l&&(ti(r,pe),o&&(o.svg&&r.removeAttribute("transform"),i.scale=i.rotate=i.translate="none",vo(r,1),o.uncache=1,gx(i)))}},il={clearProps:function(e,t,r,i,s){if(s.data!=="isFromStart"){var o=e._pt=new pt(e._pt,t,r,0,0,Hk);return o.u=i,o.pr=-10,o.tween=s,e._props.push(r),1}}},xo=[1,0,0,1,0,0],wx={},Sx=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},Am=function(e){var t=Ut(e,pe);return Sx(t)?xo:t.substr(7).match(E_).map(Se)},$f=function(e,t){var r=e._gsap||jr(e),i=e.style,s=Am(e),o,a,l,u;return r.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,s=[l.a,l.b,l.c,l.d,l.e,l.f],s.join(",")==="1,0,0,1,0,0"?xo:s):(s===xo&&!e.offsetParent&&e!==Ni&&!r.svg&&(l=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent&&!e.getBoundingClientRect().width)&&(u=1,a=e.nextElementSibling,Ni.appendChild(e)),s=Am(e),l?i.display=l:ti(e,"display"),u&&(a?o.insertBefore(e,a):o?o.appendChild(e):Ni.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},gh=function(e,t,r,i,s,o){var a=e._gsap,l=s||$f(e,!0),u=a.xOrigin||0,c=a.yOrigin||0,h=a.xOffset||0,f=a.yOffset||0,d=l[0],g=l[1],p=l[2],_=l[3],y=l[4],m=l[5],x=t.split(" "),v=parseFloat(x[0])||0,w=parseFloat(x[1])||0,C,S,T,k;r?l!==xo&&(S=d*_-g*p)&&(T=v*(_/S)+w*(-p/S)+(p*m-_*y)/S,k=v*(-g/S)+w*(d/S)-(d*m-g*y)/S,v=T,w=k):(C=xx(e),v=C.x+(~x[0].indexOf("%")?v/100*C.width:v),w=C.y+(~(x[1]||x[0]).indexOf("%")?w/100*C.height:w)),i||i!==!1&&a.smooth?(y=v-u,m=w-c,a.xOffset=h+(y*d+m*p)-y,a.yOffset=f+(y*g+m*_)-m):a.xOffset=a.yOffset=0,a.xOrigin=v,a.yOrigin=w,a.smooth=!!i,a.origin=t,a.originIsAbsolute=!!r,e.style[mt]="0px 0px",o&&(Kn(o,a,"xOrigin",u,v),Kn(o,a,"yOrigin",c,w),Kn(o,a,"xOffset",h,a.xOffset),Kn(o,a,"yOffset",f,a.yOffset)),e.setAttribute("data-svg-origin",v+" "+w)},vo=function(e,t){var r=e._gsap||new sx(e);if("x"in r&&!t&&!r.uncache)return r;var i=e.style,s=r.scaleX<0,o="px",a="deg",l=getComputedStyle(e),u=Ut(e,mt)||"0",c,h,f,d,g,p,_,y,m,x,v,w,C,S,T,k,P,E,L,F,j,Z,I,N,R,O,D,H,q,A,G,Y;return c=h=f=p=_=y=m=x=v=0,d=g=1,r.svg=!!(e.getCTM&&vx(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(i[pe]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[pe]!=="none"?l[pe]:"")),i.scale=i.rotate=i.translate="none"),S=$f(e,r.svg),r.svg&&(r.uncache?(R=e.getBBox(),u=r.xOrigin-R.x+"px "+(r.yOrigin-R.y)+"px",N=""):N=!t&&e.getAttribute("data-svg-origin"),gh(e,N||u,!!N||r.originIsAbsolute,r.smooth!==!1,S)),w=r.xOrigin||0,C=r.yOrigin||0,S!==xo&&(E=S[0],L=S[1],F=S[2],j=S[3],c=Z=S[4],h=I=S[5],S.length===6?(d=Math.sqrt(E*E+L*L),g=Math.sqrt(j*j+F*F),p=E||L?li(L,E)*Rr:0,m=F||j?li(F,j)*Rr+p:0,m&&(g*=Math.abs(Math.cos(m*zi))),r.svg&&(c-=w-(w*E+C*F),h-=C-(w*L+C*j))):(Y=S[6],A=S[7],D=S[8],H=S[9],q=S[10],G=S[11],c=S[12],h=S[13],f=S[14],T=li(Y,q),_=T*Rr,T&&(k=Math.cos(-T),P=Math.sin(-T),N=Z*k+D*P,R=I*k+H*P,O=Y*k+q*P,D=Z*-P+D*k,H=I*-P+H*k,q=Y*-P+q*k,G=A*-P+G*k,Z=N,I=R,Y=O),T=li(-F,q),y=T*Rr,T&&(k=Math.cos(-T),P=Math.sin(-T),N=E*k-D*P,R=L*k-H*P,O=F*k-q*P,G=j*P+G*k,E=N,L=R,F=O),T=li(L,E),p=T*Rr,T&&(k=Math.cos(T),P=Math.sin(T),N=E*k+L*P,R=Z*k+I*P,L=L*k-E*P,I=I*k-Z*P,E=N,Z=R),_&&Math.abs(_)+Math.abs(p)>359.9&&(_=p=0,y=180-y),d=Se(Math.sqrt(E*E+L*L+F*F)),g=Se(Math.sqrt(I*I+Y*Y)),T=li(Z,I),m=Math.abs(T)>2e-4?T*Rr:0,v=G?1/(G<0?-G:G):0),r.svg&&(N=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!Sx(Ut(e,pe)),N&&e.setAttribute("transform",N))),Math.abs(m)>90&&Math.abs(m)<270&&(s?(d*=-1,m+=p<=0?180:-180,p+=p<=0?180:-180):(g*=-1,m+=m<=0?180:-180)),t=t||r.uncache,r.x=c-((r.xPercent=c&&(!t&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-c)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+o,r.y=h-((r.yPercent=h&&(!t&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-h)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+o,r.z=f+o,r.scaleX=Se(d),r.scaleY=Se(g),r.rotation=Se(p)+a,r.rotationX=Se(_)+a,r.rotationY=Se(y)+a,r.skewX=m+a,r.skewY=x+a,r.transformPerspective=v+o,(r.zOrigin=parseFloat(u.split(" ")[2])||!t&&r.zOrigin||0)&&(i[mt]=sl(u)),r.xOffset=r.yOffset=0,r.force3D=bt.force3D,r.renderTransform=r.svg?Xk:_x?Cx:Yk,r.uncache=0,r},sl=function(e){return(e=e.split(" "))[0]+" "+e[1]},ju=function(e,t,r){var i=Ye(t);return Se(parseFloat(t)+parseFloat(cr(e,"x",r+"px",i)))+i},Yk=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,Cx(e,t)},wr="0deg",ys="0px",Sr=") ",Cx=function(e,t){var r=t||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,l=r.z,u=r.rotation,c=r.rotationY,h=r.rotationX,f=r.skewX,d=r.skewY,g=r.scaleX,p=r.scaleY,_=r.transformPerspective,y=r.force3D,m=r.target,x=r.zOrigin,v="",w=y==="auto"&&e&&e!==1||y===!0;if(x&&(h!==wr||c!==wr)){var C=parseFloat(c)*zi,S=Math.sin(C),T=Math.cos(C),k;C=parseFloat(h)*zi,k=Math.cos(C),o=ju(m,o,S*k*-x),a=ju(m,a,-Math.sin(C)*-x),l=ju(m,l,T*k*-x+x)}_!==ys&&(v+="perspective("+_+Sr),(i||s)&&(v+="translate("+i+"%, "+s+"%) "),(w||o!==ys||a!==ys||l!==ys)&&(v+=l!==ys||w?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+Sr),u!==wr&&(v+="rotate("+u+Sr),c!==wr&&(v+="rotateY("+c+Sr),h!==wr&&(v+="rotateX("+h+Sr),(f!==wr||d!==wr)&&(v+="skew("+f+", "+d+Sr),(g!==1||p!==1)&&(v+="scale("+g+", "+p+Sr),m.style[pe]=v||"translate(0, 0)"},Xk=function(e,t){var r=t||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,l=r.rotation,u=r.skewX,c=r.skewY,h=r.scaleX,f=r.scaleY,d=r.target,g=r.xOrigin,p=r.yOrigin,_=r.xOffset,y=r.yOffset,m=r.forceCSS,x=parseFloat(o),v=parseFloat(a),w,C,S,T,k;l=parseFloat(l),u=parseFloat(u),c=parseFloat(c),c&&(c=parseFloat(c),u+=c,l+=c),l||u?(l*=zi,u*=zi,w=Math.cos(l)*h,C=Math.sin(l)*h,S=Math.sin(l-u)*-f,T=Math.cos(l-u)*f,u&&(c*=zi,k=Math.tan(u-c),k=Math.sqrt(1+k*k),S*=k,T*=k,c&&(k=Math.tan(c),k=Math.sqrt(1+k*k),w*=k,C*=k)),w=Se(w),C=Se(C),S=Se(S),T=Se(T)):(w=h,T=f,C=S=0),(x&&!~(o+"").indexOf("px")||v&&!~(a+"").indexOf("px"))&&(x=cr(d,"x",o,"px"),v=cr(d,"y",a,"px")),(g||p||_||y)&&(x=Se(x+g-(g*w+p*S)+_),v=Se(v+p-(g*C+p*T)+y)),(i||s)&&(k=d.getBBox(),x=Se(x+i/100*k.width),v=Se(v+s/100*k.height)),k="matrix("+w+","+C+","+S+","+T+","+x+","+v+")",d.setAttribute("transform",k),m&&(d.style[pe]=k)},qk=function(e,t,r,i,s){var o=360,a=De(s),l=parseFloat(s)*(a&&~s.indexOf("rad")?Rr:1),u=l-i,c=i+u+"deg",h,f;return a&&(h=s.split("_")[1],h==="short"&&(u%=o,u!==u%(o/2)&&(u+=u<0?o:-o)),h==="cw"&&u<0?u=(u+o*Sm)%o-~~(u/o)*o:h==="ccw"&&u>0&&(u=(u-o*Sm)%o-~~(u/o)*o)),e._pt=f=new pt(e._pt,t,r,i,u,Ik),f.e=c,f.u="deg",e._props.push(r),f},Em=function(e,t){for(var r in t)e[r]=t[r];return e},Kk=function(e,t,r){var i=Em({},r._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=r.style,a,l,u,c,h,f,d,g;i.svg?(u=r.getAttribute("transform"),r.setAttribute("transform",""),o[pe]=t,a=vo(r,1),ti(r,pe),r.setAttribute("transform",u)):(u=getComputedStyle(r)[pe],o[pe]=t,a=vo(r,1),o[pe]=u);for(l in zn)u=i[l],c=a[l],u!==c&&s.indexOf(l)<0&&(d=Ye(u),g=Ye(c),h=d!==g?cr(r,l,u,g):parseFloat(u),f=parseFloat(c),e._pt=new pt(e._pt,a,l,h,f-h,dh),e._pt.u=g||0,e._props.push(l));Em(a,i)};dt("padding,margin,Width,Radius",function(n,e){var t="Top",r="Right",i="Bottom",s="Left",o=(e<3?[t,r,i,s]:[t+s,t+r,i+r,i+s]).map(function(a){return e<2?n+a:"border"+a+n});il[e>1?"border"+n:n]=function(a,l,u,c,h){var f,d;if(arguments.length<4)return f=o.map(function(g){return Cn(a,g,u)}),d=f.join(" "),d.split(f[0]).length===5?f[0]:d;f=(c+"").split(" "),d={},o.forEach(function(g,p){return d[g]=f[p]=f[p]||f[(p-1)/2|0]}),a.init(l,d,h)}});var Tx={name:"css",register:mh,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,r,i,s){var o=this._props,a=e.style,l=r.vars.startAt,u,c,h,f,d,g,p,_,y,m,x,v,w,C,S,T;Uf||mh(),this.styles=this.styles||yx(e),T=this.styles.props,this.tween=r;for(p in t)if(p!=="autoRound"&&(c=t[p],!(vt[p]&&ox(p,t,r,i,e,s)))){if(d=typeof c,g=il[p],d==="function"&&(c=c.call(r,i,e,s),d=typeof c),d==="string"&&~c.indexOf("random(")&&(c=go(c)),g)g(this,e,p,c,r)&&(S=1);else if(p.substr(0,2)==="--")u=(getComputedStyle(e).getPropertyValue(p)+"").trim(),c+="",or.lastIndex=0,or.test(u)||(_=Ye(u),y=Ye(c)),y?_!==y&&(u=cr(e,p,u,y)+y):_&&(c+=_),this.add(a,"setProperty",u,c,i,s,0,0,p),o.push(p),T.push(p,0,a[p]);else if(d!=="undefined"){if(l&&p in l?(u=typeof l[p]=="function"?l[p].call(r,i,e,s):l[p],De(u)&&~u.indexOf("random(")&&(u=go(u)),Ye(u+"")||u==="auto"||(u+=bt.units[p]||Ye(Cn(e,p))||""),(u+"").charAt(1)==="="&&(u=Cn(e,p))):u=Cn(e,p),f=parseFloat(u),m=d==="string"&&c.charAt(1)==="="&&c.substr(0,2),m&&(c=c.substr(2)),h=parseFloat(c),p in hn&&(p==="autoAlpha"&&(f===1&&Cn(e,"visibility")==="hidden"&&h&&(f=0),T.push("visibility",0,a.visibility),Kn(this,a,"visibility",f?"inherit":"hidden",h?"inherit":"hidden",!h)),p!=="scale"&&p!=="transform"&&(p=hn[p],~p.indexOf(",")&&(p=p.split(",")[0]))),x=p in zn,x){if(this.styles.save(p),d==="string"&&c.substring(0,6)==="var(--"&&(c=Ut(e,c.substring(4,c.indexOf(")"))),h=parseFloat(c)),v||(w=e._gsap,w.renderTransform&&!t.parseTransform||vo(e,t.parseTransform),C=t.smoothOrigin!==!1&&w.smooth,v=this._pt=new pt(this._pt,a,pe,0,1,w.renderTransform,w,0,-1),v.dep=1),p==="scale")this._pt=new pt(this._pt,w,"scaleY",w.scaleY,(m?Oi(w.scaleY,m+h):h)-w.scaleY||0,dh),this._pt.u=0,o.push("scaleY",p),p+="X";else if(p==="transformOrigin"){T.push(mt,0,a[mt]),c=Wk(c),w.svg?gh(e,c,0,C,0,this):(y=parseFloat(c.split(" ")[2])||0,y!==w.zOrigin&&Kn(this,w,"zOrigin",w.zOrigin,y),Kn(this,a,p,sl(u),sl(c)));continue}else if(p==="svgOrigin"){gh(e,c,1,C,0,this);continue}else if(p in wx){qk(this,w,p,f,m?Oi(f,m+c):c);continue}else if(p==="smoothOrigin"){Kn(this,w,"smooth",w.smooth,c);continue}else if(p==="force3D"){w[p]=c;continue}else if(p==="transform"){Kk(this,c,e);continue}}else p in a||(p=es(p)||p);if(x||(h||h===0)&&(f||f===0)&&!Rk.test(c)&&p in a)_=(u+"").substr((f+"").length),h||(h=0),y=Ye(c)||(p in bt.units?bt.units[p]:_),_!==y&&(f=cr(e,p,u,y)),this._pt=new pt(this._pt,x?w:a,p,f,(m?Oi(f,m+h):h)-f,!x&&(y==="px"||p==="zIndex")&&t.autoRound!==!1?Ok:dh),this._pt.u=y||0,_!==y&&y!=="%"&&(this._pt.b=u,this._pt.r=Fk);else if(p in a)Vk.call(this,e,p,u,m?m+c:c);else if(p in e)this.add(e,p,u||e[p],m?m+c:c,i,s);else if(p!=="parseTransform"){Mf(p,c);continue}x||(p in a?T.push(p,0,a[p]):typeof e[p]=="function"?T.push(p,2,e[p]()):T.push(p,1,u||e[p])),o.push(p)}}S&&fx(this)},render:function(e,t){if(t.tween._time||!Gf())for(var r=t._pt;r;)r.r(e,r.d),r=r._next;else t.styles.revert()},get:Cn,aliases:hn,getSetter:function(e,t,r){var i=hn[t];return i&&i.indexOf(",")<0&&(t=i),t in zn&&t!==mt&&(e._gsap.x||Cn(e,"x"))?r&&wm===r?t==="scale"?Lk:Dk:(wm=r||{})&&(t==="scale"?Bk:Uk):e.style&&!Pf(e.style[t])?Nk:~t.indexOf("-")?zk:Lf(e,t)},core:{_removeProperty:ti,_getMatrix:$f}};gt.utils.checkPrefix=es;gt.core.getStyleSaver=yx;(function(n,e,t,r){var i=dt(n+","+e+","+t,function(s){zn[s]=1});dt(e,function(s){bt.units[s]="deg",wx[s]=1}),hn[i[13]]=n+","+e,dt(r,function(s){var o=s.split(":");hn[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");dt("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){bt.units[n]="px"});gt.registerPlugin(Tx);var Me=gt.registerPlugin(Tx)||gt;Me.core.Tween;class Qk{constructor(e){U(this,"app");U(this,"currentEffects",new Map);this.app=e}createTikTokTextEffect(e,t){const r=Me.timeline();switch(t){case"typewriter":return this.typewriterEffect(e);case"glitchReveal":return this.glitchRevealEffect(e,r);case"bounceScale":return this.bounceScaleEffect(e,r);case"neonGlow":return this.neonGlowEffect(e);case"splitText":return this.splitTextEffect(e,r);case"waveText":return this.waveTextEffect(e,r);case"explosionText":return this.explosionTextEffect(e,r);case"3dRotate":return this.rotate3DEffect(e,r);default:return this.bounceScaleEffect(e,r)}}typewriterEffect(e){const t=e.text;return e.text="",Me.to(e,{duration:t.length*.05,text:t,ease:"none",onUpdate:()=>{}})}glitchRevealEffect(e,t){const r=new fm([5,0],[0,5],[0,0]);return e.filters=[r],t.from(e,{alpha:0,duration:.1}).to(r,{red:[0,0],green:[0,0],duration:.5,ease:"power2.out"}),t}bounceScaleEffect(e,t){return e.scale.set(0),t.to(e.scale,{x:1.2,y:1.2,duration:.3,ease:"back.out(1.7)"}).to(e.scale,{x:1,y:1,duration:.2,ease:"power2.inOut"}),t}neonGlowEffect(e){const t=new x_({distance:15,outerStrength:2,innerStrength:1,color:16711808,quality:.5});return e.filters=[t],Me.to(t,{outerStrength:4,distance:20,duration:1,yoyo:!0,repeat:-1,ease:"power2.inOut"})}splitTextEffect(e,t){const r=e.text.split(""),i=new ht;return e.parent?e.parent.addChild(i):this.app.stage.addChild(i),r.forEach((s,o)=>{const a=new Za(s,e.style);a.x=o*30,a.alpha=0,i.addChild(a),t.to(a,{alpha:1,y:0,duration:.5,delay:o*.05,ease:"back.out(1.7)"},0)}),e.visible=!1,t}waveTextEffect(e,t){return t.to(e,{duration:2,ease:"none",onUpdate:()=>{const s=t.progress()*Math.PI*2;e.y=Math.sin(s*.1)*20}}),t}explosionTextEffect(e,t){for(let i=0;i<20;i++){const s=new He;s.beginFill(16777215),s.drawCircle(0,0,Math.random()*5+2),s.endFill(),s.x=e.x,s.y=e.y,s.alpha=0,e.parent?e.parent.addChild(s):this.app.stage.addChild(s),t.to(s,{x:e.x+(Math.random()-.5)*200,y:e.y+(Math.random()-.5)*200,alpha:1,duration:.5,ease:"power2.out"},0).to(s,{alpha:0,duration:.3},.5)}return t.from(e,{alpha:0,scale:0,duration:.5,ease:"back.out(1.7)"},.2),t}rotate3DEffect(e,t){return t.from(e,{rotationY:90,alpha:0,duration:.8,ease:"power2.out"}),t}applyTransition(e,t,r){const i=Me.timeline();switch(r.type){case"swipe":return this.swipeTransition(e,t,r,i);case"zoom":return this.zoomTransition(e,t,r,i);case"glitch":return this.glitchTransition(e,t,r,i);case"shake":return this.shakeTransition(e,t,r,i);case"spin":return this.spinTransition(e,t,r,i);case"morph":return this.morphTransition(e,t,r,i);case"fade":default:return this.fadeTransition(e,t,r,i)}}swipeTransition(e,t,r,i){const s=r.direction||"left",o=this.app.screen.width,a=s==="left"?-o:o,l=s==="left"?o:-o;return t.x=l,t.alpha=1,i.to(e,{x:a,duration:r.duration,ease:"power2.inOut"}).to(t,{x:0,duration:r.duration,ease:"power2.inOut"},0),i}zoomTransition(e,t,r,i){return t.scale.set(0),t.alpha=1,i.to(e.scale,{x:2,y:2,duration:r.duration,ease:"power2.in"}).to(e,{alpha:0,duration:r.duration*.5},0).to(t.scale,{x:1,y:1,duration:r.duration,ease:"power2.out"},r.duration*.5),i}glitchTransition(e,t,r,i){const s=new fm([10,0],[0,10],[0,0]);return e.filters=[s],t.alpha=0,i.to(s,{red:[20,0],green:[0,20],blue:[-20,0],duration:r.duration*.3,ease:"power2.in"}).to(e,{alpha:0,duration:.1}).set(t,{alpha:1}).from(t,{alpha:0,duration:.1}),i}shakeTransition(e,t,r,i){const s=r.intensity||20;return t.alpha=0,i.to(e,{x:`+=${s}`,duration:.05,yoyo:!0,repeat:10,ease:"power2.inOut"}).to(e,{alpha:0,duration:.2},r.duration-.2).set(t,{alpha:1},r.duration),i}spinTransition(e,t,r,i){return t.alpha=0,t.rotation=Math.PI*2,i.to(e,{rotation:Math.PI*2,alpha:0,duration:r.duration,ease:"power2.in"}).to(t,{rotation:0,alpha:1,duration:r.duration,ease:"power2.out"},r.duration*.5),i}morphTransition(e,t,r,i){const s=new zT({radius:500,angle:0,padding:20});return e.filters=[s],t.alpha=0,i.to(s,{angle:10,duration:r.duration*.5,ease:"power2.in"}).to(e,{alpha:0,duration:.1}).set(t,{alpha:1}).from(t,{scale:.5,duration:r.duration*.5,ease:"back.out(1.7)"}),i}fadeTransition(e,t,r,i){return t.alpha=0,i.to(e,{alpha:0,duration:r.duration*.5,ease:"power2.inOut"}).to(t,{alpha:1,duration:r.duration*.5,ease:"power2.inOut"},r.duration*.5),i}createAnimatedBackground(e){const t=new ht;switch(e){case"particles":return this.createParticleBackground(t);case"gradient":return this.createGradientBackground(t);case"waves":return this.createWaveBackground(t);case"matrix":return this.createMatrixBackground(t);case"stars":return this.createStarsBackground(t);default:return this.createGradientBackground(t)}}createParticleBackground(e){for(let r=0;r<50;r++){const i=new He;i.beginFill(16777215,Math.random()*.5),i.drawCircle(0,0,Math.random()*3+1),i.endFill(),i.x=Math.random()*this.app.screen.width,i.y=Math.random()*this.app.screen.height,e.addChild(i),Me.to(i,{y:`-=${this.app.screen.height+100}`,duration:Math.random()*10+5,repeat:-1,ease:"none",onRepeat:()=>{i.x=Math.random()*this.app.screen.width,i.y=this.app.screen.height+50}})}return e}createGradientBackground(e){const t=new He,r=[16711760,62186,10289407],s=this.app.screen.height/(r.length-1);for(let o=0;o<r.length-1;o++){const a=o*s;t.beginFill(r[o]),t.drawRect(0,a,this.app.screen.width,s),t.endFill()}return e.addChild(t),Me.to(t,{alpha:.8,duration:2,yoyo:!0,repeat:-1,ease:"power2.inOut"}),e}createWaveBackground(e){const t=new He;e.addChild(t);const r=()=>{t.clear();const i=Date.now()*.001;t.beginFill(33023,.3),t.moveTo(0,this.app.screen.height);for(let s=0;s<=this.app.screen.width;s+=10){const o=Math.sin(s*.01+i)*50+this.app.screen.height/2;t.lineTo(s,o)}t.lineTo(this.app.screen.width,this.app.screen.height),t.endFill()};return Me.ticker.add(r),e}createMatrixBackground(e){const t="01",i=Math.floor(this.app.screen.width/14),s=[];for(let l=0;l<i;l++)s[l]=Math.random()*-100;const o=new He;e.addChild(o);const a=()=>{o.clear(),o.beginFill(0,.05),o.drawRect(0,0,this.app.screen.width,this.app.screen.height),o.endFill();for(let l=0;l<s.length;l++){const u=t[Math.floor(Math.random()*t.length)],c=l*14,h=s[l]*14,f=new Za(u,{fontFamily:"monospace",fontSize:14,fill:65280});f.x=c,f.y=h,e.addChild(f),s[l]*14>this.app.screen.height&&Math.random()>.975&&(s[l]=0),s[l]++}};return Me.ticker.add(a),e}createStarsBackground(e){for(let r=0;r<100;r++){const i=new He;i.beginFill(16777215),i.drawStar(0,0,5,2,1),i.endFill(),i.x=Math.random()*this.app.screen.width,i.y=Math.random()*this.app.screen.height,i.scale.set(Math.random()*.5+.5),e.addChild(i),Me.to(i,{alpha:Math.random()*.5+.5,duration:Math.random()*2+1,yoyo:!0,repeat:-1,ease:"power2.inOut"})}return e}playSound(e){console.log(`Playing sound: ${e}`)}clearEffects(e){e.filters=[],this.currentEffects.clear()}}He.prototype.drawStar=function(n,e,t,r,i){let s=-Math.PI/2;const o=Math.PI/t;this.moveTo(n+Math.cos(s)*r,e+Math.sin(s)*r);for(let a=0;a<t*2;a++){const l=a%2===0?r:i;s+=o,this.lineTo(n+Math.cos(s)*l,e+Math.sin(s)*l)}return this.closePath(),this};class Zk{constructor(){U(this,"CONTENT_TEMPLATES",{finance:{hooks:["🚨 ข่าวด่วน! {topic} ที่คุณต้องรู้!","⚡ {topic} เปลี่ยนแปลงครั้งใหญ่!","💰 วิธีรวยจาก {topic} ที่ไม่มีใครบอก!","📈 {topic} พุ่งขึ้น {percent}% ในวันเดียว!","🔥 เตือนภัย! {topic} กำลังจะเกิดอะไรขึ้น?"],structures:[{name:"problem-solution",parts:["ปัญหา: {problem}","ผลกระทบ: {impact}","วิธีแก้: {solution}","ผลลัพธ์: {result}"]},{name:"news-analysis",parts:["ข่าวล่าสุด: {news}","สาเหตุ: {cause}","ผลกระทบต่อคุณ: {impact}","สิ่งที่ต้องทำ: {action}"]}],ctas:["💬 คอมเมนต์บอกความคิดเห็น!","❤️ กดไลค์ถ้าเป็นประโยชน์!","➡️ ติดตามเพื่อไม่พลาดข้อมูลสำคัญ!","🔔 กดกระดิ่งเพื่อรับการแจ้งเตือน!"]},crypto:{hooks:["🚀 {coin} จะขึ้นไปถึง {price}!?","⚠️ {coin} กำลังจะ crash!?","💎 Hidden Gem! {coin} ที่ใครๆ มองข้าม","🐋 วาฬใหญ่ซื้อ {coin} {amount} ล้าน!","📊 Technical Analysis {coin} ต้องดู!"],structures:[{name:"price-prediction",parts:["ราคาปัจจุบัน: {current_price}","Support: {support} | Resistance: {resistance}","เป้าหมายระยะสั้น: {short_target}","เป้าหมายระยะยาว: {long_target}"]}],ctas:["📌 Save ไว้ดูทีหลัง!","🚨 DYOR - ศึกษาก่อนลงทุนนะครับ!","💬 คิดว่า {coin} จะไปถึงเท่าไหร่?"]}})}async generateContent(e){const t=this.CONTENT_TEMPLATES[e.style]||this.CONTENT_TEMPLATES.finance,r=this.selectAndFillTemplate(t.hooks[Math.floor(Math.random()*t.hooks.length)],e),i=t.structures[Math.floor(Math.random()*t.structures.length)],s=await this.generateMainContent(i,e),o=t.ctas[Math.floor(Math.random()*t.ctas.length)],a=this.generateVisualElements(s,e.duration),l=this.generateHashtags(e);return{hook:r,mainContent:s,callToAction:o,hashtags:l,tone:this.detectTone(e),duration:e.duration,visualElements:a}}async generateMainContent(e,t){const r=[];for(const i of e.parts){const s=await this.fillContentPart(i,t);r.push(s)}return r}generateVisualElements(e,t){const r=[],i=t/e.length;return e.forEach((s,o)=>{const a=o*i,l=(o+1)*i;r.push({type:"text",content:s,timing:{start:a,end:l},style:{fontSize:this.calculateFontSize(s),position:"center",animation:"fadeInUp",color:"#FFFFFF",background:"rgba(0,0,0,0.7)",padding:"20px",borderRadius:"10px"}}),(s.includes("📈")||s.includes("chart"))&&r.push({type:"chart",content:"price-chart",timing:{start:a,end:l},style:{position:"background",opacity:.8}}),o<e.length-1&&r.push({type:"transition",content:"swipe",timing:{start:l-.5,end:l},style:{direction:"left"}})}),r}generateHashtags(e){const t=["#บวรมันนี่เกมส์","#การเงิน","#ลงทุน"],r=e.keywords.map(s=>`#${s}`),i=this.getTrendingHashtags(e.style);return[...t,...r,...i].slice(0,10)}selectAndFillTemplate(e,t){return e.replace(/{(\w+)}/g,(r,i)=>{switch(i){case"topic":return t.topic;case"percent":return Math.floor(Math.random()*50+10).toString();case"coin":return t.keywords[0]||"Bitcoin";case"price":return"$"+(Math.random()*1e5).toFixed(0);case"amount":return Math.floor(Math.random()*100+10).toString();default:return r}})}async fillContentPart(e,t){return this.selectAndFillTemplate(e,t)}detectTone(e){return e.style==="crypto"?"energetic":e.style==="educational"?"informative":e.keywords.includes("urgent")||e.keywords.includes("breaking")?"dramatic":"informative"}calculateFontSize(e){const t=e.length;return t<20?"48px":t<50?"36px":t<100?"28px":"24px"}getTrendingHashtags(e){return{finance:["#หุ้น","#SET","#ตลาดหุ้น"],crypto:["#Bitcoin","#Ethereum","#DeFi"],news:["#ข่าวด่วน","#เศรษฐกิจ","#การเมือง"],educational:["#เรียนรู้","#พัฒนาตัวเอง","#ความรู้"]}[e]||[]}async analyzeVideoStyle(e){return{tone:"energetic",duration:30,hashtags:["#viral","#fyp","#trending"]}}generateVoiceScript(e){return[e.hook,...e.mainContent,e.callToAction].map(r=>r.replace(/!/g,'! <break time="0.5s"/>').replace(/\?/g,'? <break time="0.5s"/>').replace(/💰|📈|🚨|⚡|🔥/g,'<emphasis level="strong">$&</emphasis>')).join(' <break time="1s"/> ')}}const ol=new Zk;var ee;(function(n){n.LOAD="LOAD",n.EXEC="EXEC",n.FFPROBE="FFPROBE",n.WRITE_FILE="WRITE_FILE",n.READ_FILE="READ_FILE",n.DELETE_FILE="DELETE_FILE",n.RENAME="RENAME",n.CREATE_DIR="CREATE_DIR",n.LIST_DIR="LIST_DIR",n.DELETE_DIR="DELETE_DIR",n.ERROR="ERROR",n.DOWNLOAD="DOWNLOAD",n.PROGRESS="PROGRESS",n.LOG="LOG",n.MOUNT="MOUNT",n.UNMOUNT="UNMOUNT"})(ee||(ee={}));const Jk=(()=>{let n=0;return()=>n++})(),eb=new Error("ffmpeg is not loaded, call `await ffmpeg.load()` first"),tb=new Error("called FFmpeg.terminate()");var _t,Vn,Tn,Lr,Br,al,Ze;class Mm{constructor(){Ln(this,_t,null);Ln(this,Vn,{});Ln(this,Tn,{});Ln(this,Lr,[]);Ln(this,Br,[]);U(this,"loaded",!1);Ln(this,al,()=>{$(this,_t)&&($(this,_t).onmessage=({data:{id:e,type:t,data:r}})=>{switch(t){case ee.LOAD:this.loaded=!0,$(this,Vn)[e](r);break;case ee.MOUNT:case ee.UNMOUNT:case ee.EXEC:case ee.FFPROBE:case ee.WRITE_FILE:case ee.READ_FILE:case ee.DELETE_FILE:case ee.RENAME:case ee.CREATE_DIR:case ee.LIST_DIR:case ee.DELETE_DIR:$(this,Vn)[e](r);break;case ee.LOG:$(this,Lr).forEach(i=>i(r));break;case ee.PROGRESS:$(this,Br).forEach(i=>i(r));break;case ee.ERROR:$(this,Tn)[e](r);break}delete $(this,Vn)[e],delete $(this,Tn)[e]})});Ln(this,Ze,({type:e,data:t},r=[],i)=>$(this,_t)?new Promise((s,o)=>{const a=Jk();$(this,_t)&&$(this,_t).postMessage({id:a,type:e,data:t},r),$(this,Vn)[a]=s,$(this,Tn)[a]=o,i==null||i.addEventListener("abort",()=>{o(new DOMException(`Message # ${a} was aborted`,"AbortError"))},{once:!0})}):Promise.reject(eb));U(this,"load",({classWorkerURL:e,...t}={},{signal:r}={})=>($(this,_t)||(is(this,_t,e?new Worker(new URL(e,import.meta.url),{type:"module"}):new Worker(new URL("/loupuaroy/assets/worker-BAOIWoxA.js",import.meta.url),{type:"module"})),$(this,al).call(this)),$(this,Ze).call(this,{type:ee.LOAD,data:t},void 0,r)));U(this,"exec",(e,t=-1,{signal:r}={})=>$(this,Ze).call(this,{type:ee.EXEC,data:{args:e,timeout:t}},void 0,r));U(this,"ffprobe",(e,t=-1,{signal:r}={})=>$(this,Ze).call(this,{type:ee.FFPROBE,data:{args:e,timeout:t}},void 0,r));U(this,"terminate",()=>{const e=Object.keys($(this,Tn));for(const t of e)$(this,Tn)[t](tb),delete $(this,Tn)[t],delete $(this,Vn)[t];$(this,_t)&&($(this,_t).terminate(),is(this,_t,null),this.loaded=!1)});U(this,"writeFile",(e,t,{signal:r}={})=>{const i=[];return t instanceof Uint8Array&&i.push(t.buffer),$(this,Ze).call(this,{type:ee.WRITE_FILE,data:{path:e,data:t}},i,r)});U(this,"mount",(e,t,r)=>{const i=[];return $(this,Ze).call(this,{type:ee.MOUNT,data:{fsType:e,options:t,mountPoint:r}},i)});U(this,"unmount",e=>{const t=[];return $(this,Ze).call(this,{type:ee.UNMOUNT,data:{mountPoint:e}},t)});U(this,"readFile",(e,t="binary",{signal:r}={})=>$(this,Ze).call(this,{type:ee.READ_FILE,data:{path:e,encoding:t}},void 0,r));U(this,"deleteFile",(e,{signal:t}={})=>$(this,Ze).call(this,{type:ee.DELETE_FILE,data:{path:e}},void 0,t));U(this,"rename",(e,t,{signal:r}={})=>$(this,Ze).call(this,{type:ee.RENAME,data:{oldPath:e,newPath:t}},void 0,r));U(this,"createDir",(e,{signal:t}={})=>$(this,Ze).call(this,{type:ee.CREATE_DIR,data:{path:e}},void 0,t));U(this,"listDir",(e,{signal:t}={})=>$(this,Ze).call(this,{type:ee.LIST_DIR,data:{path:e}},void 0,t));U(this,"deleteDir",(e,{signal:t}={})=>$(this,Ze).call(this,{type:ee.DELETE_DIR,data:{path:e}},void 0,t))}on(e,t){e==="log"?$(this,Lr).push(t):e==="progress"&&$(this,Br).push(t)}off(e,t){e==="log"?is(this,Lr,$(this,Lr).filter(r=>r!==t)):e==="progress"&&is(this,Br,$(this,Br).filter(r=>r!==t))}}_t=new WeakMap,Vn=new WeakMap,Tn=new WeakMap,Lr=new WeakMap,Br=new WeakMap,al=new WeakMap,Ze=new WeakMap;var Rm;(function(n){n.MEMFS="MEMFS",n.NODEFS="NODEFS",n.NODERAWFS="NODERAWFS",n.IDBFS="IDBFS",n.WORKERFS="WORKERFS",n.PROXYFS="PROXYFS"})(Rm||(Rm={}));const Im="/loupuaroy/";class nb{constructor(){U(this,"ffmpeg");U(this,"app");U(this,"effects");U(this,"voiceEngine");U(this,"isInitialized",!1);U(this,"VIDEO_PRESETS",{tiktok:{width:1080,height:1920,fps:30},youtube_shorts:{width:1080,height:1920,fps:30},instagram_reels:{width:1080,height:1920,fps:30},standard:{width:1920,height:1080,fps:30}});U(this,"QUALITY_SETTINGS",{low:{videoBitrate:"2M",audioBitrate:"128k"},medium:{videoBitrate:"5M",audioBitrate:"192k"},high:{videoBitrate:"10M",audioBitrate:"256k"},ultra:{videoBitrate:"20M",audioBitrate:"320k"}});this.ffmpeg=new Mm}async initialize(){if(!this.isInitialized)try{this.ffmpeg=new Mm,this.ffmpeg.on("log",({message:r})=>{console.log(r)}),await this.ffmpeg.load({coreURL:"https://unpkg.com/@ffmpeg/core@0.12.6/dist/umd/ffmpeg-core.js",wasmURL:"https://unpkg.com/@ffmpeg/core@0.12.6/dist/umd/ffmpeg-core.wasm"});const e=document.createElement("canvas");e.style.display="none",document.body.appendChild(e),this.app=new _f({view:e,width:1080,height:1920,backgroundColor:0,antialias:!0,resolution:2}),this.effects=new Qk(this.app);const t={provider:"browser",voiceId:"male_energetic",language:"th-TH",speed:1,pitch:1};this.voiceEngine=nw(t),this.isInitialized=!0,console.log("✅ TikTok Creator initialized successfully")}catch(e){throw console.error("❌ Failed to initialize:",e),e}}async createVideo(e){this.isInitialized||await this.initialize(),console.log("🎬 Starting video creation...");try{console.log("🤖 Generating content...");const t=await ol.generateContent({topic:e.topic,style:e.style==="entertainment"?"educational":e.style,targetAudience:"คนไทยทั่วไป",duration:30,keywords:this.extractKeywords(e.topic)});console.log("🎙️ Generating voice narration...");const r=ol.generateVoiceScript(t),i=await this.voiceEngine.generateProfessionalSpeech(r,{emotion:e.voiceStyle,backgroundMusic:e.backgroundMusic?`${Im}${e.backgroundMusic}`:void 0,effects:[{type:"compression",settings:{threshold:-24,ratio:4}},{type:"eq",settings:{bass:2,mid:3,treble:2}}]});console.log("🎨 Creating visual scenes...");const s=await this.createScenes(t,e);console.log("📹 Rendering video frames...");const o=await this.renderScenes(s,t.duration);console.log("🔄 Combining audio and video...");const a=await this.combineAudioVideo(o,i,{width:1080,height:1920,fps:30,duration:t.duration,format:"mp4",quality:"high"});return console.log("✅ Video created successfully!"),a}catch(t){throw console.error("❌ Video creation failed:",t),t}}async createScenes(e,t){const r=[];for(const i of e.visualElements){const s=new ht,o=this.effects.createAnimatedBackground(i.style.background||"gradient");if(s.addChild(o),i.type==="text"){const a=this.createStyledText(i.content,i.style),l=t.effects[Math.floor(Math.random()*t.effects.length)];this.effects.createTikTokTextEffect(a,l),s.addChild(a)}else if(i.type==="chart"){const a=await this.createChart(i.content);s.addChild(a)}else if(i.type==="image"){const a=await this.loadImage(i.content);s.addChild(a)}r.push(s)}return r}async renderScenes(e,t){const r=[],s=t*30,o=Math.floor(s/e.length);for(let a=0;a<e.length;a++){const l=e[a],u=e[a+1];this.app.stage.removeChildren(),this.app.stage.addChild(l);for(let c=0;c<o;c++){this.app.ticker.update();const h=await this.captureFrame();if(r.push(h),u&&c>=o-30/2){const f=(c-(o-15))/15;this.applyTransition(l,u,f)}}}return r}async captureFrame(){return new Promise(e=>{this.app.view.toBlob(async r=>{if(r){const i=await r.arrayBuffer();e(new Uint8Array(i))}},"image/png",1)})}async combineAudioVideo(e,t,r){const i=r.fps,s=this.QUALITY_SETTINGS[r.quality];for(let l=0;l<e.length;l++){const u=`frame${l.toString().padStart(5,"0")}.png`;await this.ffmpeg.writeFile(u,e[l])}const o=await this.audioBufferToWav(t);await this.ffmpeg.writeFile("audio.wav",o),await this.ffmpeg.exec(["-framerate",i.toString(),"-i","frame%05d.png","-i","audio.wav","-c:v","libx264","-preset","slow","-crf","18","-c:a","aac","-b:a",s.audioBitrate,"-b:v",s.videoBitrate,"-pix_fmt","yuv420p","-movflags","+faststart","output.mp4"]);const a=await this.ffmpeg.readFile("output.mp4");return await this.cleanup(),new Blob([a],{type:"video/mp4"})}async audioBufferToWav(e){const t=e.length*e.numberOfChannels*2+44,r=new ArrayBuffer(t),i=new DataView(r),s=[];let o=0,a=0;const l=c=>{i.setUint16(a,c,!0),a+=2},u=c=>{i.setUint32(a,c,!0),a+=4};u(1179011410),u(t-8),u(1163280727),u(544501094),u(16),l(1),l(e.numberOfChannels),u(e.sampleRate),u(e.sampleRate*2*e.numberOfChannels),l(e.numberOfChannels*2),l(16),u(1635017060),u(t-a-4);for(let c=0;c<e.numberOfChannels;c++)s.push(e.getChannelData(c));for(;a<t;){for(let c=0;c<e.numberOfChannels;c++){let h=Math.max(-1,Math.min(1,s[c][o]));h=h<0?h*32768:h*32767,i.setInt16(a,h,!0),a+=2}o++}return new Uint8Array(r)}createStyledText(e,t){const r=new Za(e,{fontFamily:"Kanit, Arial Black, sans-serif",fontSize:t.fontSize||48,fontWeight:"bold",fill:t.color||["#FFFFFF","#FFD700"],stroke:"#000000",dropShadow:{alpha:.8,angle:Math.PI/6,blur:8,color:"#000000",distance:6},wordWrap:!0,wordWrapWidth:this.app.screen.width*.8,align:"center",padding:20});return r.anchor.set(.5),r.x=this.app.screen.width/2,r.y=this.app.screen.height/2,r}async createChart(e){const t=new ht,r=new He;if(e==="price-chart"){r.lineStyle(2,16777215),r.moveTo(50,50),r.lineTo(50,350),r.lineTo(350,350),r.lineStyle(3,65280);const i=this.generateRandomPriceData();r.moveTo(i[0].x,i[0].y);for(const s of i)r.lineTo(s.x,s.y);t.addChild(r)}return t}async loadImage(e){const t=new ht;try{const r=e.startsWith("http")?e:`${Im}${e}`,i=await J.from(r),s=new Hi(i),o=Math.min(this.app.screen.width/s.width,this.app.screen.height/s.height)*.8;s.scale.set(o),s.anchor.set(.5),s.x=this.app.screen.width/2,s.y=this.app.screen.height/2,t.addChild(s)}catch(r){console.error("Failed to load image:",r)}return t}applyTransition(e,t,r){e.alpha=1-r,t.alpha=r,e.scale.set(1-r*.2),t.scale.set(.8+r*.2)}extractKeywords(e){const t=["การ","ที่","และ","ใน","ของ","เป็น","มี","ได้","จะ","ให้"];return e.split(/\s+/).filter(i=>i.length>2&&!t.includes(i))}generateRandomPriceData(){const e=[];let t=200;for(let r=0;r<20;r++)t+=(Math.random()-.5)*20,e.push({x:50+r*15,y:350-t});return e}async cleanup(){try{const e=await this.ffmpeg.listDir("/");for(const t of e)t.name!=="."&&t.name!==".."&&await this.ffmpeg.deleteFile(t.name)}catch(e){console.error("Cleanup error:",e)}}async testVideoCreation(){try{console.log("🧪 Starting test video creation...");const e=await this.createVideo({topic:"Bitcoin ทะลุ 50,000 ดอลลาร์ นักลงทุนต้องรู้อะไรบ้าง",style:"crypto",voiceGender:"male",voiceStyle:"energetic",backgroundMusic:"assets/music/upbeat.mp3",effects:["bounceScale","glitchReveal","neonGlow"],transitions:["swipe","zoom","glitch"]});return e.size>0?(console.log("✅ Test passed! Video size:",e.size),!0):(console.log("❌ Test failed: Video is empty"),!1)}catch(e){return console.error("❌ Test failed:",e),!1}}}const Fm=new nb;class rb{constructor(){U(this,"CORS_PROXY","https://cors-anywhere.herokuapp.com/");U(this,"API_ENDPOINTS",["https://www.tikwm.com/api/","https://api.douyin.wtf/api?url=","https://api.tikmate.app/api/lookup"])}async getVideoInfo(e){for(const t of this.API_ENDPOINTS)try{const r=await this.fetchFromEndpoint(t,e);if(r)return r}catch(r){console.error(`Failed to fetch from ${t}:`,r)}return this.scrapeVideoInfo(e)}async fetchFromEndpoint(e,t){try{let r;if(e.includes("tikwm")?r=await fetch(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:`url=${encodeURIComponent(t)}&count=12&cursor=0&web=1&hd=1`}):e.includes("douyin.wtf")?r=await fetch(e+encodeURIComponent(t)):r=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:t})}),!r.ok)throw new Error("API request failed");const i=await r.json();return this.parseApiResponse(i,e)}catch(r){return console.error("Endpoint error:",r),null}}parseApiResponse(e,t){try{if(t.includes("tikwm")&&e.code===0){const r=e.data;return{id:r.id,url:r.play,title:r.title,author:r.author.nickname,thumbnail:r.origin_cover,duration:r.duration,likes:r.digg_count,comments:r.comment_count,shares:r.share_count,videoUrl:r.play,audioUrl:r.music}}return null}catch(r){return console.error("Parse error:",r),null}}async scrapeVideoInfo(e){try{const t=this.extractVideoId(e);return t?{id:t,url:e,title:"TikTok Video",author:"Unknown",thumbnail:"",duration:0,likes:0,comments:0,shares:0}:null}catch(t){return console.error("Scrape error:",t),null}}extractVideoId(e){const t=[/tiktok\.com\/@[\w.-]+\/video\/(\d+)/,/tiktok\.com\/v\/(\d+)/,/vt\.tiktok\.com\/(\w+)/];for(const r of t){const i=e.match(r);if(i)return i[1]}return null}async downloadVideo(e){if(!e.videoUrl)return null;try{const t=await fetch(this.CORS_PROXY+e.videoUrl);if(!t.ok)throw new Error("Download failed");return await t.blob()}catch(t){return console.error("Download error:",t),this.downloadWithWorkaround(e)}}async downloadWithWorkaround(e){try{const t=document.createElement("a");return t.href=e.videoUrl||e.url,t.download=`tiktok_${e.id}.mp4`,t.target="_blank",t.rel="noopener noreferrer",document.body.appendChild(t),t.click(),document.body.removeChild(t),null}catch(t){return console.error("Workaround download error:",t),null}}async downloadMultiple(e){const t=new Map;for(const r of e)try{const i=await this.getVideoInfo(r);if(i){const s=await this.downloadVideo(i);t.set(r,s)}else t.set(r,null)}catch(i){console.error(`Failed to download ${r}:`,i),t.set(r,null)}return t}}const yh=new rb;class ib{constructor(){U(this,"ctx");U(this,"master");U(this,"beepGain");U(this,"musicGain");U(this,"analyser");U(this,"merger");this.ctx=new(window.AudioContext||window.webkitAudioContext),this.master=this.ctx.createGain(),this.beepGain=this.ctx.createGain(),this.musicGain=this.ctx.createGain(),this.analyser=this.ctx.createAnalyser(),this.merger=this.ctx.createMediaStreamDestination(),this.master.gain.value=1,this.beepGain.gain.value=.9,this.musicGain.gain.value=.25,this.analyser.fftSize=512,this.musicGain.connect(this.master),this.beepGain.connect(this.master),this.master.connect(this.analyser),this.analyser.connect(this.merger)}getStream(){return this.merger.stream}playBeep(e,t=.18,r=1e3){const i=this.ctx.createOscillator(),s=this.ctx.createGain();i.frequency.value=r,i.connect(s),s.connect(this.beepGain);const o=this.ctx.currentTime+Math.max(0,e-this.currentTime());s.gain.setValueAtTime(0,o),s.gain.linearRampToValueAtTime(.9,o+.01),s.gain.exponentialRampToValueAtTime(.001,o+t),i.start(o),i.stop(o+t+.02)}currentTime(){return this.ctx.currentTime}async speakChunks(e,t){const r=window.speechSynthesis;if(!r)throw new Error("SpeechSynthesis not supported");let i=this.currentTime();for(const s of e){let o=s.text;for(const c of t)c&&o.toLowerCase().includes(c.toLowerCase())&&(this.playBeep(i),o=o.replace(new RegExp(c,"gi"),"***"));const a=new SpeechSynthesisUtterance(o);a.lang="th-TH",a.rate=1,a.pitch=1;const l=new Promise(c=>{a.onend=()=>c()});r.speak(a);const u=Math.max(.8,o.length/12);i+=u,await l}}}class sb{constructor(e,t){U(this,"app");U(this,"container");U(this,"recordedFrames",[]);U(this,"isRecording",!1);this.app=new _f({view:e,width:t.width,height:t.height,backgroundColor:t.backgroundColor||0,antialias:!0,resolution:window.devicePixelRatio||1,autoDensity:!0}),this.container=new ht,this.app.stage.addChild(this.container)}createStyledText(e,t={}){const i={...{fontSize:48,fontFamily:"Kanit, Arial, sans-serif",fill:["#FFFFFF","#E0E0E0"],stroke:"#000000",strokeThickness:4,dropShadow:{alpha:.8,angle:Math.PI/6,blur:4,color:"#000000",distance:2},align:"center",wordWrap:!0,wordWrapWidth:this.app.screen.width*.8},...t},s=new Za(e,i);return s.anchor.set(.5),s.x=this.app.screen.width/2,s.y=this.app.screen.height/2,s}addEffects(e,t){const r=[];t.forEach(i=>{switch(i){case"glow":r.push(new x_({distance:15,outerStrength:2,innerStrength:1,color:16777215,quality:.5}));break;case"shadow":r.push(new _T({distance:5,color:0,alpha:.5,blur:2}));break;case"outline":r.push(new PT(2,0));break}}),r.length>0&&(e.filters=r)}animateElement(e,t,r=1){switch(t){case"fadeIn":e.alpha=0,Me.to(e,{alpha:1,duration:r});break;case"fadeInUp":e.alpha=0,e.y+=50,Me.to(e,{alpha:1,y:e.y-50,duration:r,ease:"power2.out"});break;case"bounceIn":e.scale.set(0),Me.to(e.scale,{x:1,y:1,duration:r,ease:"bounce.out"});break;case"slideInLeft":e.x=-e.width,Me.to(e,{x:this.app.screen.width/2,duration:r,ease:"power2.out"});break;case"zoomIn":e.scale.set(.5),e.alpha=0,Me.to(e,{alpha:1,duration:r/2}),Me.to(e.scale,{x:1,y:1,duration:r,ease:"power2.out"});break;case"shake":Me.to(e,{x:e.x+10,duration:.1,repeat:r*10,yoyo:!0,ease:"power2.inOut"});break}}createBackground(e){const t=new ht;switch(e){case"gradient":const r=new He,i=[1710638,1450302,996448];r.beginFill(i[0]),r.drawRect(0,0,this.app.screen.width,this.app.screen.height),r.endFill(),t.addChild(r);for(let a=1;a<i.length;a++){const l=new He;l.beginFill(i[a]),l.drawRect(0,0,this.app.screen.width,this.app.screen.height),l.endFill(),l.alpha=.5/a,t.addChild(l)}break;case"particles":for(let a=0;a<50;a++){const l=new He;l.beginFill(16777215,Math.random()*.5),l.drawCircle(0,0,Math.random()*3),l.endFill(),l.x=Math.random()*this.app.screen.width,l.y=Math.random()*this.app.screen.height,Me.to(l,{y:l.y-100,alpha:0,duration:3+Math.random()*2,repeat:-1,delay:Math.random()*3}),t.addChild(l)}break;case"crypto":const s=new He;s.beginFill(657930),s.drawRect(0,0,this.app.screen.width,this.app.screen.height),s.endFill();const o=new He;o.lineStyle(1,1710618,.5);for(let a=0;a<this.app.screen.width;a+=50)o.moveTo(a,0),o.lineTo(a,this.app.screen.height);for(let a=0;a<this.app.screen.height;a+=50)o.moveTo(0,a),o.lineTo(this.app.screen.width,a);t.addChild(s,o);break}return t}createGradientTexture(e){const t=document.createElement("canvas");t.width=256,t.height=256;const r=t.getContext("2d"),i=r.createLinearGradient(0,0,0,256);return e.forEach((s,o)=>{i.addColorStop(o/(e.length-1),s)}),r.fillStyle=i,r.fillRect(0,0,256,256),J.from(t)}async startRecording(e){this.isRecording=!0,this.recordedFrames=[];const t=1e3/e.fps,r=e.fps*e.duration;for(let i=0;i<r&&this.isRecording;i++)await this.captureFrame(),await new Promise(s=>setTimeout(s,t));return this.recordedFrames}async captureFrame(){return new Promise(e=>{this.app.view.toBlob(t=>{t&&this.recordedFrames.push(t),e()},"image/webp",.95)})}stopRecording(){this.isRecording=!1}clear(){this.container.removeChildren()}destroy(){this.app.destroy(!0)}async renderShot(e,t){if(this.clear(),e.bg){const r=this.createBackground(e.bg);this.container.addChild(r)}if(e.text){const r=this.createStyledText(e.text);e.fx&&e.fx.length>0&&this.addEffects(r,e.fx),e.animation&&this.animateElement(r,e.animation),this.container.addChild(r),t&&this.addAudioReactiveEffects(r,t)}await new Promise(r=>setTimeout(r,e.d*1e3))}addAudioReactiveEffects(e,t){const r=new Uint8Array(t.frequencyBinCount),i=()=>{if(!this.isRecording)return;t.getByteFrequencyData(r);const o=1+r.reduce((a,l)=>a+l)/r.length/256*.2;Me.to(e.scale,{x:o,y:o,duration:.1,ease:"power2.out"}),requestAnimationFrame(i)};i()}async exportVideo(e,t){const r=document.createElement("canvas"),i=r.getContext("2d"),s=r.captureStream(t),o=new MediaRecorder(s,{mimeType:"video/webm;codecs=vp9,opus",videoBitsPerSecond:8e6}),a=[];return o.ondataavailable=l=>a.push(l.data),new Promise(l=>{o.onstop=()=>{l(new Blob(a,{type:"video/webm"}))},o.start();let u=0;const c=async()=>{if(u<e.length){const h=new Image;h.src=URL.createObjectURL(e[u]),await new Promise(f=>h.onload=f),r.width=h.width,r.height=h.height,i.drawImage(h,0,0),u++,setTimeout(c,1e3/t)}else o.stop()};c()})}}const ob=(n,e)=>new sb(n,e);class ab{constructor(){U(this,"results",[]);U(this,"performanceMetrics",{contentGenerationTime:[],downloadTime:[],renderTime:[],memoryUsage:[]})}async testContentGeneration(e=10){var i,s;const t=[],r=[{topic:"Bitcoin ทะลุ 100,000 ดอลลาร์",style:"crypto"},{topic:"วิธีลงทุนหุ้นมือใหม่",style:"finance"},{topic:"ข่าวเศรษฐกิจวันนี้",style:"news"},{topic:"เรียนรู้การเทรด Forex",style:"educational"}];for(let o=0;o<e;o++)for(const a of r){const l=performance.now(),u=((i=performance.memory)==null?void 0:i.usedJSHeapSize)||0;try{const c=await ol.generateContent({...a,targetAudience:"คนไทยทั่วไป",duration:30,keywords:["test","automated"]}),h=performance.now()-l,f=(((s=performance.memory)==null?void 0:s.usedJSHeapSize)||0)-u,d=this.validateContent(c);t.push({testName:`Content Generation - ${a.topic}`,passed:d,duration:h,details:{content:c,memoryUsed:f}}),this.performanceMetrics.contentGenerationTime.push(h),this.performanceMetrics.memoryUsage.push(f)}catch(c){t.push({testName:`Content Generation - ${a.topic}`,passed:!1,duration:performance.now()-l,error:c.message})}}return t}async testTikTokDownload(e=5){const t=[],r=["https://www.tiktok.com/@test/video/1234567890","https://vt.tiktok.com/ZSSggABwS/","invalid-url",""];for(let i=0;i<e;i++)for(const s of r){const o=performance.now();try{const a=await yh.getVideoInfo(s),l=performance.now()-o,u=s.includes("invalid")||s===""?a===null:a!==null&&a.id!=="";t.push({testName:`TikTok Download - ${s.substring(0,30)}...`,passed:u,duration:l,details:{videoInfo:a}}),this.performanceMetrics.downloadTime.push(l)}catch(a){t.push({testName:`TikTok Download - ${s.substring(0,30)}...`,passed:!1,duration:performance.now()-o,error:a.message})}}return t}async testVideoRendering(e=5){const t=[],r=[{width:1080,height:1920,fps:30,duration:15},{width:720,height:1280,fps:24,duration:30},{width:1920,height:1080,fps:60,duration:10}],i=document.createElement("canvas");document.body.appendChild(i);for(let s=0;s<e;s++)for(const o of r){const a=performance.now();try{const l=ob(i,o);await l.renderShot({t:0,d:5,text:"Test Rendering",fx:["glow","shadow"],animation:"fadeInUp",bg:"gradient"});const u=performance.now()-a;l.destroy(),t.push({testName:`Video Render - ${o.width}x${o.height}@${o.fps}fps`,passed:!0,duration:u,details:o}),this.performanceMetrics.renderTime.push(u)}catch(l){t.push({testName:`Video Render - ${o.width}x${o.height}@${o.fps}fps`,passed:!1,duration:performance.now()-a,error:l.message})}}return document.body.removeChild(i),t}async testAudioEngine(e=5){const t=[],r=["สวัสดีครับ ทดสอบระบบเสียง","Bitcoin ขึ้น 10% ในวันเดียว","ระบบทดสอบอัตโนมัติ กำลังทำงาน"];for(let i=0;i<e;i++)for(const s of r){const o=performance.now();try{const a=new ib,l=[{text:s,start:0,end:5}];await new Promise((c,h)=>{a.speakChunks(l,["test"]).then(c).catch(h),setTimeout(()=>h(new Error("Audio timeout")),1e4)});const u=performance.now()-o;t.push({testName:`Audio Engine - "${s.substring(0,20)}..."`,passed:!0,duration:u})}catch(a){t.push({testName:`Audio Engine - "${s.substring(0,20)}..."`,passed:!1,duration:performance.now()-o,error:a.message})}}return t}async testFullIntegration(e=10){const t=[];for(let r=0;r<e;r++){const i=performance.now();try{const s=await ol.generateContent({topic:`ทดสอบระบบครั้งที่ ${r+1}`,style:["finance","crypto","news","educational"][r%4],targetAudience:"ทดสอบ",duration:30,keywords:["test"]});if(!s.hook||s.mainContent.length===0)throw new Error("Content generation failed");const o=s.visualElements.map(l=>({t:l.timing.start,d:l.timing.end-l.timing.start,text:l.content,fx:[],camera:[]}));if(o.length===0)throw new Error("No shots generated");const a=performance.now()-i;t.push({testName:`Full Integration Test #${r+1}`,passed:!0,duration:a,details:{contentLength:s.mainContent.length,shotsCount:o.length,totalDuration:s.duration}})}catch(s){t.push({testName:`Full Integration Test #${r+1}`,passed:!1,duration:performance.now()-i,error:s.message})}}return t}validateContent(e){if(!e.hook||e.hook.length<10||!e.mainContent||e.mainContent.length===0||!e.callToAction||!e.hashtags||e.hashtags.length===0||!e.visualElements||e.visualElements.length===0||e.duration<=0)return!1;for(const t of e.visualElements)if(!t.type||!t.content||!t.timing||t.timing.start<0||t.timing.end<=t.timing.start)return!1;return!0}async runAllTests(e=50){console.log(`🚀 เริ่มการทดสอบอัตโนมัติ ${e} รอบ...`),this.results=[],this.performanceMetrics={contentGenerationTime:[],downloadTime:[],renderTime:[],memoryUsage:[]};const t=await this.testContentGeneration(Math.floor(e/5)),r=await this.testTikTokDownload(Math.floor(e/10)),i=await this.testVideoRendering(Math.floor(e/10)),s=await this.testAudioEngine(Math.floor(e/10)),o=await this.testFullIntegration(Math.floor(e/5));this.results=[...t,...r,...i,...s,...o];const a=this.generateReport();return this.printReport(a),a}generateReport(){const e=this.results.filter(i=>i.passed).length,t=this.results.filter(i=>!i.passed).length,r=this.results.reduce((i,s)=>i+s.duration,0);return{totalTests:this.results.length,passed:e,failed:t,successRate:e/this.results.length*100,averageDuration:r/this.results.length,failures:this.results.filter(i=>!i.passed),performanceMetrics:this.performanceMetrics}}printReport(e){console.log(`
📊 ========== รายงานผลการทดสอบ ==========`),console.log(`✅ ผ่าน: ${e.passed} (${e.successRate.toFixed(2)}%)`),console.log(`❌ ล้มเหลว: ${e.failed}`),console.log(`⏱️  เวลาเฉลี่ย: ${e.averageDuration.toFixed(2)}ms`),e.failures.length>0&&(console.log(`
❌ รายการที่ล้มเหลว:`),e.failures.forEach(t=>{console.log(`  - ${t.testName}: ${t.error}`)})),console.log(`
📈 Performance Metrics:`),console.log(`  - Content Generation: ${this.average(e.performanceMetrics.contentGenerationTime).toFixed(2)}ms`),console.log(`  - Download Time: ${this.average(e.performanceMetrics.downloadTime).toFixed(2)}ms`),console.log(`  - Render Time: ${this.average(e.performanceMetrics.renderTime).toFixed(2)}ms`),console.log(`  - Memory Usage: ${this.average(e.performanceMetrics.memoryUsage).toFixed(0)} bytes`),console.log(`
✨ การทดสอบเสร็จสิ้น!`)}average(e){return e.length===0?0:e.reduce((t,r)=>t+r,0)/e.length}}const lb=new ab;function ub(){const[n,e]=Fe.useState("create"),[t,r]=Fe.useState(""),[i,s]=Fe.useState("finance"),[o,a]=Fe.useState("male"),[l,u]=Fe.useState("energetic"),[c,h]=Fe.useState(["bounceScale","glitchReveal"]),[f,d]=Fe.useState(["swipe","zoom"]),[g,p]=Fe.useState(!1),[_,y]=Fe.useState(0),[m,x]=Fe.useState([]),[v,w]=Fe.useState(""),[C,S]=Fe.useState(""),[T,k]=Fe.useState(null),P=Fe.useRef(null),E=[{id:"typewriter",name:"⌨️ Typewriter",description:"พิมพ์ทีละตัว"},{id:"glitchReveal",name:"🔥 Glitch Reveal",description:"เอฟเฟคกลิทช์"},{id:"bounceScale",name:"🎯 Bounce Scale",description:"ขยายแบบเด้ง"},{id:"neonGlow",name:"💡 Neon Glow",description:"เรืองแสงนีออน"},{id:"splitText",name:"✂️ Split Text",description:"แยกตัวอักษร"},{id:"waveText",name:"🌊 Wave Text",description:"ข้อความเป็นคลื่น"},{id:"explosionText",name:"💥 Explosion",description:"ระเบิดออก"},{id:"3dRotate",name:"🔄 3D Rotate",description:"หมุน 3 มิติ"}],L=[{id:"swipe",name:"➡️ Swipe",description:"เลื่อนไปมา"},{id:"zoom",name:"🔍 Zoom",description:"ซูมเข้า-ออก"},{id:"glitch",name:"📺 Glitch",description:"สัญญาณรบกวน"},{id:"fade",name:"🌅 Fade",description:"ค่อยๆ จาง"},{id:"shake",name:"📳 Shake",description:"สั่น"},{id:"spin",name:"🌀 Spin",description:"หมุนวน"},{id:"morph",name:"🎭 Morph",description:"บิดเบี้ยว"}],F=[{id:"upbeat",name:"🎵 Upbeat",file:"/assets/music/upbeat.mp3"},{id:"dramatic",name:"🎭 Dramatic",file:"/assets/music/dramatic.mp3"},{id:"chill",name:"😌 Chill",file:"/assets/music/chill.mp3"},{id:"energetic",name:"⚡ Energetic",file:"/assets/music/energetic.mp3"},{id:"none",name:"🔇 No Music",file:""}];Fe.useEffect(()=>{Z(),j()},[]);async function j(){try{await Fm.initialize(),console.log("✅ Creator initialized")}catch(A){console.error("Failed to initialize:",A)}}function Z(){const A=localStorage.getItem("tiktok_projects");A&&x(JSON.parse(A))}function I(A){x(A),localStorage.setItem("tiktok_projects",JSON.stringify(A))}async function N(){if(!t.trim()){alert("กรุณาใส่หัวข้อวิดีโอ");return}p(!0),y(0);const A={id:Date.now().toString(),name:t.substring(0,50),topic:t,style:i,status:"processing",createdAt:new Date};I([A,...m]);try{const G=setInterval(()=>{y(It=>Math.min(It+10,90))},1e3),Y=await Fm.createVideo({topic:t,style:i,voiceGender:o,voiceStyle:l,backgroundMusic:F[0].file,effects:c,transitions:f});clearInterval(G),y(100);const be=URL.createObjectURL(Y);A.videoUrl=be,A.status="completed",I(m.map(It=>It.id===A.id?A:It)),P.current&&(P.current.src=be,P.current.play()),D("✅ วิดีโอสร้างเสร็จแล้ว!","success")}catch(G){console.error("Video creation failed:",G),A.status="error",I(m.map(Y=>Y.id===A.id?A:Y)),D("❌ เกิดข้อผิดพลาด: "+G.message,"error")}finally{p(!1),y(0)}}async function R(){if(!v.trim()){alert("กรุณาใส่ URL ของวิดีโอ TikTok");return}S("⏳ กำลังดาวน์โหลด...");try{const A=await yh.getVideoInfo(v);if(!A)throw new Error("ไม่สามารถดึงข้อมูลวิดีโอได้");S(`📹 พบวิดีโอ: ${A.title}`);const G=await yh.downloadVideo(A);if(G){const Y=URL.createObjectURL(G),be=document.createElement("a");be.href=Y,be.download=`tiktok_${A.id}.mp4`,be.click(),URL.revokeObjectURL(Y),S("✅ ดาวน์โหลดสำเร็จ!"),D("✅ ดาวน์โหลดวิดีโอสำเร็จ!","success")}}catch(A){S("❌ ดาวน์โหลดล้มเหลว: "+A.message),D("❌ "+A.message,"error")}}async function O(){k({status:"running"});try{const A=await lb.runAllTests(100);k(A),A.successRate===100?D("✅ ทดสอบผ่าน 100%!","success"):D(`⚠️ ทดสอบผ่าน ${A.successRate.toFixed(1)}%`,"warning")}catch(A){k({status:"error",error:A.message}),D("❌ การทดสอบล้มเหลว","error")}}function D(A,G){const Y=document.createElement("div");Y.className=`notification ${G}`,Y.textContent=A,document.body.appendChild(Y),setTimeout(()=>{Y.classList.add("show")},100),setTimeout(()=>{Y.classList.remove("show"),setTimeout(()=>Y.remove(),300)},3e3)}function H(A){h(G=>G.includes(A)?G.filter(Y=>Y!==A):[...G,A])}function q(A){d(G=>G.includes(A)?G.filter(Y=>Y!==A):[...G,A])}return b.jsxs("div",{className:"professional-app",children:[b.jsx("header",{className:"app-header",children:b.jsx("div",{className:"container",children:b.jsxs("div",{className:"header-content",children:[b.jsxs("div",{className:"logo",children:[b.jsx("span",{className:"logo-icon",children:"🎬"}),b.jsx("h1",{children:"TikTok Creator Pro"}),b.jsx("span",{className:"version",children:"v2.0"})]}),b.jsxs("nav",{className:"main-nav",children:[b.jsxs("button",{className:`nav-btn ${n==="create"?"active":""}`,onClick:()=>e("create"),children:[b.jsx("span",{className:"icon",children:"✨"}),"สร้างวิดีโอ"]}),b.jsxs("button",{className:`nav-btn ${n==="download"?"active":""}`,onClick:()=>e("download"),children:[b.jsx("span",{className:"icon",children:"📥"}),"ดาวน์โหลด"]}),b.jsxs("button",{className:`nav-btn ${n==="library"?"active":""}`,onClick:()=>e("library"),children:[b.jsx("span",{className:"icon",children:"📚"}),"คลังวิดีโอ"]})]}),b.jsx("button",{className:"test-btn",onClick:O,children:"🧪 ทดสอบระบบ"})]})})}),b.jsx("main",{className:"app-main",children:b.jsxs("div",{className:"container",children:[n==="create"&&b.jsx("div",{className:"create-section",children:b.jsxs("div",{className:"create-grid",children:[b.jsxs("div",{className:"settings-panel",children:[b.jsx("h2",{children:"ตั้งค่าวิดีโอ"}),b.jsxs("div",{className:"form-group",children:[b.jsxs("label",{children:[b.jsx("span",{className:"icon",children:"📝"}),"หัวข้อวิดีโอ"]}),b.jsx("textarea",{value:t,onChange:A=>r(A.target.value),placeholder:"เช่น 'Bitcoin ทะลุ 100,000 ดอลลาร์ นักลงทุนต้องรู้อะไรบ้าง'",rows:3,className:"topic-input"})]}),b.jsxs("div",{className:"form-group",children:[b.jsxs("label",{children:[b.jsx("span",{className:"icon",children:"🎨"}),"สไตล์เนื้อหา"]}),b.jsx("div",{className:"style-grid",children:[{value:"finance",label:"💰 การเงิน",color:"#4CAF50"},{value:"crypto",label:"🪙 คริปโต",color:"#FF9800"},{value:"news",label:"📰 ข่าวสาร",color:"#2196F3"},{value:"educational",label:"📚 ความรู้",color:"#9C27B0"}].map(A=>b.jsx("button",{className:`style-btn ${i===A.value?"active":""}`,onClick:()=>s(A.value),style:{"--accent-color":A.color},children:A.label},A.value))})]}),b.jsxs("div",{className:"form-group",children:[b.jsxs("label",{children:[b.jsx("span",{className:"icon",children:"🎙️"}),"เสียงพากย์"]}),b.jsx("div",{className:"voice-settings",children:b.jsxs("div",{className:"voice-row",children:[b.jsxs("select",{value:o,onChange:A=>a(A.target.value),className:"voice-select",children:[b.jsx("option",{value:"male",children:"👨 ชาย"}),b.jsx("option",{value:"female",children:"👩 หญิง"})]}),b.jsxs("select",{value:l,onChange:A=>u(A.target.value),className:"voice-select",children:[b.jsx("option",{value:"energetic",children:"⚡ มีพลัง"}),b.jsx("option",{value:"professional",children:"💼 เป็นทางการ"}),b.jsx("option",{value:"friendly",children:"😊 เป็นกันเอง"})]})]})})]}),b.jsxs("div",{className:"form-group",children:[b.jsxs("label",{children:[b.jsx("span",{className:"icon",children:"✨"}),"Text Effects"]}),b.jsx("div",{className:"effects-grid",children:E.map(A=>b.jsxs("div",{className:`effect-card ${c.includes(A.id)?"selected":""}`,onClick:()=>H(A.id),children:[b.jsx("div",{className:"effect-name",children:A.name}),b.jsx("div",{className:"effect-desc",children:A.description})]},A.id))})]}),b.jsxs("div",{className:"form-group",children:[b.jsxs("label",{children:[b.jsx("span",{className:"icon",children:"🎬"}),"Transitions"]}),b.jsx("div",{className:"transitions-grid",children:L.map(A=>b.jsxs("div",{className:`transition-card ${f.includes(A.id)?"selected":""}`,onClick:()=>q(A.id),children:[b.jsx("div",{className:"transition-name",children:A.name}),b.jsx("div",{className:"transition-desc",children:A.description})]},A.id))})]})]}),b.jsxs("div",{className:"preview-panel",children:[b.jsx("h2",{children:"ตัวอย่างวิดีโอ"}),b.jsx("div",{className:"video-preview",children:b.jsx("video",{ref:P,controls:!0,className:"preview-video",poster:"/assets/preview-poster.jpg"})}),g&&b.jsxs("div",{className:"progress-section",children:[b.jsx("div",{className:"progress-bar",children:b.jsx("div",{className:"progress-fill",style:{width:`${_}%`}})}),b.jsxs("div",{className:"progress-text",children:[_<20&&"🤖 กำลังสร้างเนื้อหา...",_>=20&&_<40&&"🎙️ กำลังสร้างเสียงพากย์...",_>=40&&_<60&&"🎨 กำลังสร้างภาพ...",_>=60&&_<80&&"🎬 กำลังเรนเดอร์วิดีโอ...",_>=80&&_<100&&"✨ กำลังใส่ effects...",_===100&&"✅ เสร็จสมบูรณ์!"]})]}),b.jsx("button",{className:"create-btn",onClick:N,disabled:g||!t.trim(),children:g?b.jsxs(b.Fragment,{children:[b.jsx("span",{className:"spinner"}),"กำลังสร้างวิดีโอ..."]}):b.jsxs(b.Fragment,{children:[b.jsx("span",{className:"icon",children:"🎬"}),"สร้างวิดีโอ TikTok"]})}),b.jsxs("div",{className:"quick-stats",children:[b.jsxs("div",{className:"stat",children:[b.jsx("span",{className:"stat-value",children:m.filter(A=>A.status==="completed").length}),b.jsx("span",{className:"stat-label",children:"วิดีโอสำเร็จ"})]}),b.jsxs("div",{className:"stat",children:[b.jsx("span",{className:"stat-value",children:"30s"}),b.jsx("span",{className:"stat-label",children:"ความยาว"})]}),b.jsxs("div",{className:"stat",children:[b.jsx("span",{className:"stat-value",children:"1080p"}),b.jsx("span",{className:"stat-label",children:"คุณภาพ"})]})]})]})]})}),n==="download"&&b.jsx("div",{className:"download-section",children:b.jsxs("div",{className:"download-container",children:[b.jsx("h2",{children:"ดาวน์โหลดวิดีโอ TikTok"}),b.jsxs("div",{className:"download-form",children:[b.jsx("input",{type:"text",value:v,onChange:A=>w(A.target.value),placeholder:"วาง URL ของวิดีโอ TikTok ที่นี่",className:"url-input"}),b.jsxs("button",{className:"download-btn",onClick:R,children:[b.jsx("span",{className:"icon",children:"📥"}),"ดาวน์โหลด"]})]}),C&&b.jsx("div",{className:`download-status ${C.includes("✅")?"success":C.includes("❌")?"error":""}`,children:C}),b.jsxs("div",{className:"download-info",children:[b.jsx("h3",{children:"วิธีใช้:"}),b.jsxs("ol",{children:[b.jsx("li",{children:"เปิดแอป TikTok หรือเว็บไซต์"}),b.jsx("li",{children:"เลือกวิดีโอที่ต้องการดาวน์โหลด"}),b.jsx("li",{children:'กดปุ่มแชร์ และเลือก "คัดลอกลิงก์"'}),b.jsx("li",{children:"วางลิงก์ด้านบนและกดดาวน์โหลด"})]})]})]})}),n==="library"&&b.jsxs("div",{className:"library-section",children:[b.jsx("h2",{children:"คลังวิดีโอของคุณ"}),b.jsx("div",{className:"projects-grid",children:m.length===0?b.jsxs("div",{className:"empty-state",children:[b.jsx("span",{className:"empty-icon",children:"📹"}),b.jsx("p",{children:"ยังไม่มีวิดีโอ"}),b.jsx("button",{onClick:()=>e("create"),children:"สร้างวิดีโอแรกของคุณ"})]}):m.map(A=>b.jsxs("div",{className:"project-card",children:[b.jsxs("div",{className:"project-status",children:[A.status==="completed"&&"✅",A.status==="processing"&&"⏳",A.status==="error"&&"❌"]}),b.jsx("h3",{children:A.name}),b.jsxs("div",{className:"project-meta",children:[b.jsx("span",{children:A.style}),b.jsx("span",{children:new Date(A.createdAt).toLocaleDateString("th-TH")})]}),A.status==="completed"&&A.videoUrl&&b.jsxs("div",{className:"project-actions",children:[b.jsxs("a",{href:A.videoUrl,download:`${A.name}.mp4`,children:[b.jsx("span",{className:"icon",children:"📥"}),"ดาวน์โหลด"]}),b.jsxs("button",{onClick:()=>{P.current&&(P.current.src=A.videoUrl,P.current.play(),e("create"))},children:[b.jsx("span",{className:"icon",children:"▶️"}),"เล่น"]})]})]},A.id))})]})]})}),T&&b.jsx("div",{className:"modal-overlay",onClick:()=>k(null),children:b.jsxs("div",{className:"modal",onClick:A=>A.stopPropagation(),children:[b.jsx("h2",{children:"ผลการทดสอบระบบ"}),T.status==="running"?b.jsxs("div",{className:"test-running",children:[b.jsx("div",{className:"spinner large"}),b.jsx("p",{children:"กำลังทดสอบระบบ 100 ครั้ง..."})]}):T.status==="error"?b.jsx("div",{className:"test-error",children:b.jsxs("p",{children:["❌ เกิดข้อผิดพลาด: ",T.error]})}):b.jsxs("div",{className:"test-results",children:[b.jsxs("div",{className:"test-summary",children:[b.jsxs("div",{className:"test-stat",children:[b.jsxs("span",{className:"stat-value",children:[T.successRate.toFixed(1),"%"]}),b.jsx("span",{className:"stat-label",children:"Success Rate"})]}),b.jsxs("div",{className:"test-stat",children:[b.jsx("span",{className:"stat-value",children:T.passed}),b.jsx("span",{className:"stat-label",children:"Passed"})]}),b.jsxs("div",{className:"test-stat",children:[b.jsx("span",{className:"stat-value",children:T.failed}),b.jsx("span",{className:"stat-label",children:"Failed"})]})]}),T.failures.length>0&&b.jsxs("div",{className:"test-failures",children:[b.jsx("h3",{children:"❌ Failed Tests:"}),T.failures.map((A,G)=>b.jsxs("div",{className:"failure-item",children:[b.jsx("strong",{children:A.testName}),b.jsx("span",{children:A.error})]},G))]}),b.jsx("button",{className:"close-btn",onClick:()=>k(null),children:"ปิด"})]})]})})]})}class cb extends Fe.Component{constructor(){super(...arguments);U(this,"state",{hasError:!1})}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("Uncaught error:",t,r)}render(){return this.state.hasError?b.jsxs("div",{style:{padding:"20px",textAlign:"center",color:"var(--text)",background:"var(--panel)",borderRadius:"12px",margin:"20px"},children:[b.jsx("h2",{children:"เกิดข้อผิดพลาด"}),b.jsx("p",{children:"ขออภัย เกิดข้อผิดพลาดที่ไม่คาดคิด"}),b.jsx("button",{onClick:()=>window.location.reload(),style:{background:"var(--accent)",color:"#05140c",border:"none",padding:"10px 20px",borderRadius:"8px",cursor:"pointer",marginTop:"10px"},children:"รีเฟรชหน้า"}),this.state.error&&b.jsxs("details",{style:{marginTop:"20px",textAlign:"left"},children:[b.jsx("summary",{children:"รายละเอียดข้อผิดพลาด"}),b.jsx("pre",{style:{background:"rgba(0,0,0,0.3)",padding:"10px",borderRadius:"4px",fontSize:"12px",overflow:"auto"},children:this.state.error.stack})]})]}):this.props.children}}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/loupuaroy/sw.js").then(e=>{console.log("SW registered: ",e)}).catch(e=>{console.log("SW registration failed: ",e)})});Y0(document.getElementById("root")).render(b.jsx(cb,{children:b.jsx(ub,{})}));export{ge as $,jy as A,ot as B,ht as C,kt as D,ne as E,Qr as F,Vt as G,tn as H,oo as I,yp as J,Hi as K,_S as L,W as M,ES as N,ke as O,Xe as P,Te as Q,$c as R,PS as S,Zo as T,Uc as U,YS as V,xp as W,du as X,vp as Y,qw as Z,qa as _,gn as a,ly as a0,$y as a1,K as a2,ve as a3,ZS as a4,T2 as a5,y2 as a6,$2 as a7,W2 as a8,K2 as a9,Z2 as aa,J2 as ab,Hy as ac,hi as ad,Ka as ae,am as af,f_ as ag,ci as ah,r_ as ai,zp as aj,Op as ak,He as al,yw as am,hm as an,o_ as ao,p2 as b,ho as c,va as d,Wt as e,Np as f,h2 as g,yf as h,By as i,_y as j,nn as k,Iy as l,sm as m,j2 as n,V2 as o,X2 as p,Q2 as q,Mw as r,kl as s,J as t,gw as u,pn as v,qe as w,tC as x,An as y,sy as z};
